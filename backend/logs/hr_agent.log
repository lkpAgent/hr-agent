2025-10-10 15:05:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:05:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02387s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:05:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:05:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03534s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:05:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:05:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04661s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:05:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:05:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05769s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:05:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:05:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06665s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:05:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:05:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08373s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:05:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:05:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.101s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:05:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:05:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.114s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:05:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:05:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1253s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:05:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 15:05:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00150s] ('userrole', 'pg_catalog')
2025-10-10 15:05:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 15:05:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02938s ago] ('conversationstatus', 'pg_catalog')
2025-10-10 15:05:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 15:05:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04383s ago] ('messagerole', 'pg_catalog')
2025-10-10 15:05:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 15:05:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05447s ago] ('jdstatus', 'pg_catalog')
2025-10-10 15:05:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 15:05:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07341s ago] ('scoringstatus', 'pg_catalog')
2025-10-10 15:05:11 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-10 15:05:11 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-10 15:05:11 - main - INFO - main - lifespan - Database initialized successfully
2025-10-10 15:05:11 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-10 15:05:11 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/auth/login
2025-10-10 15:05:11 - app.api.v1.endpoints.auth - INFO - auth - login - Login attempt for username: testuser
2025-10-10 15:05:11 - app.api.v1.endpoints.auth - INFO - auth - login - UserService created successfully
2025-10-10 15:05:11 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:05:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.username = $1::VARCHAR AND users.is_active = true
2025-10-10 15:05:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00065s] ('testuser',)
2025-10-10 15:05:12 - passlib.handlers.bcrypt - WARNING - bcrypt - _load_backend_mixin - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\passlib\handlers\bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-10-10 15:05:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - UPDATE users SET last_login=now(), updated_at=$1::TIMESTAMP WITHOUT TIME ZONE WHERE users.id = $2::UUID
2025-10-10 15:05:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00079s] (datetime.datetime(2025, 10, 10, 7, 5, 12, 343515), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-10 15:05:12 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-10 15:05:12 - app.api.v1.endpoints.auth - INFO - auth - login - Authentication result: True
2025-10-10 15:05:12 - app.api.v1.endpoints.auth - INFO - auth - login - Creating access token for user: testuser
2025-10-10 15:05:12 - app.api.v1.endpoints.auth - INFO - auth - login - Login successful for user: testuser
2025-10-10 15:05:12 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.4039s
2025-10-10 15:05:12 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-10 15:05:12 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:05:12 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:05:12 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:05:12 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:05:12 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:05:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:05:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00062s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:05:12 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:05:12 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:05:12 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-10 15:05:12 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-10 15:05:12 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-10 15:05:12 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-10 15:05:12 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0396s
2025-10-10 15:05:12 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:06:43 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/auth/login
2025-10-10 15:06:43 - app.api.v1.endpoints.auth - INFO - auth - login - Login attempt for username: testuser
2025-10-10 15:06:43 - app.api.v1.endpoints.auth - INFO - auth - login - UserService created successfully
2025-10-10 15:06:43 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:06:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.username = $1::VARCHAR AND users.is_active = true
2025-10-10 15:06:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 91.91s ago] ('testuser',)
2025-10-10 15:06:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - UPDATE users SET last_login=now(), updated_at=$1::TIMESTAMP WITHOUT TIME ZONE WHERE users.id = $2::UUID
2025-10-10 15:06:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 91.85s ago] (datetime.datetime(2025, 10, 10, 7, 6, 44, 193954), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-10 15:06:44 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-10 15:06:44 - app.api.v1.endpoints.auth - INFO - auth - login - Authentication result: True
2025-10-10 15:06:44 - app.api.v1.endpoints.auth - INFO - auth - login - Creating access token for user: testuser
2025-10-10 15:06:44 - app.api.v1.endpoints.auth - INFO - auth - login - Login successful for user: testuser
2025-10-10 15:06:44 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.2924s
2025-10-10 15:06:44 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-10 15:06:44 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:06:44 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:06:44 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:06:44 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:06:44 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:06:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:06:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 91.84s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:06:44 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:06:44 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:06:44 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-10 15:06:44 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-10 15:06:44 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-10 15:06:44 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-10 15:06:44 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0425s
2025-10-10 15:06:44 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:06:46 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/list
2025-10-10 15:06:46 - app.core.exception_handlers - ERROR - exception_handlers - starlette_http_exception_handler - Starlette HTTP Exception: Not Found
2025-10-10 15:06:46 - app.core.middleware - INFO - middleware - dispatch - Response: 404 - Processing time: 0.0015s
2025-10-10 15:06:46 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-base/documents
2025-10-10 15:06:46 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:06:46 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:06:46 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:06:46 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:06:46 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:06:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:06:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 94.3s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:06:46 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:06:46 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:06:46 - app.services.knowledge_base_service - ERROR - knowledge_base_service - get_by_id - Invalid UUID format: documents
2025-10-10 15:06:46 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:06:46 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: Knowledge base not found
2025-10-10 15:06:46 - app.core.middleware - INFO - middleware - dispatch - Response: 404 - Processing time: 0.0462s
2025-10-10 15:06:54 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/list
2025-10-10 15:06:54 - app.core.exception_handlers - ERROR - exception_handlers - starlette_http_exception_handler - Starlette HTTP Exception: Not Found
2025-10-10 15:06:54 - app.core.middleware - INFO - middleware - dispatch - Response: 404 - Processing time: 0.0020s
2025-10-10 15:06:54 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-base/documents
2025-10-10 15:06:54 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:06:54 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:06:54 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:06:54 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:06:54 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:06:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:06:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 102s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:06:54 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:06:54 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:06:54 - app.services.knowledge_base_service - ERROR - knowledge_base_service - get_by_id - Invalid UUID format: documents
2025-10-10 15:06:54 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:06:54 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: Knowledge base not found
2025-10-10 15:06:54 - app.core.middleware - INFO - middleware - dispatch - Response: 404 - Processing time: 0.0338s
2025-10-10 15:07:01 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-10 15:07:01 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:07:01 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:07:01 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:07:01 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:07:01 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:07:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:07:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 108.8s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:07:01 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-10 15:07:01 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:07:01 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:07:01 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:07:01 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:07:01 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:07:01 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:07:01 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-10 15:07:01 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-10 15:07:01 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-10 15:07:01 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-10 15:07:01 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0453s
2025-10-10 15:07:01 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:07:01 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:07:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:07:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 108.9s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:07:01 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:07:01 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:07:01 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-10 15:07:01 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-10 15:07:01 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-10 15:07:01 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-10 15:07:01 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.2388s
2025-10-10 15:07:01 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:07:03 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/list
2025-10-10 15:07:03 - app.core.exception_handlers - ERROR - exception_handlers - starlette_http_exception_handler - Starlette HTTP Exception: Not Found
2025-10-10 15:07:03 - app.core.middleware - INFO - middleware - dispatch - Response: 404 - Processing time: 0.0035s
2025-10-10 15:07:03 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-base/documents
2025-10-10 15:07:03 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:07:03 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:07:03 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:07:03 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:07:03 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:07:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:07:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 111.3s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:07:03 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:07:03 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:07:03 - app.services.knowledge_base_service - ERROR - knowledge_base_service - get_by_id - Invalid UUID format: documents
2025-10-10 15:07:03 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:07:03 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: Knowledge base not found
2025-10-10 15:07:03 - app.core.middleware - INFO - middleware - dispatch - Response: 404 - Processing time: 0.0578s
2025-10-10 15:07:55 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-base/?skip=0&limit=100
2025-10-10 15:07:55 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:07:55 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:07:55 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:07:55 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:07:55 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:07:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:07:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 162.7s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:07:55 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:07:55 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:07:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT knowledge_bases.name, knowledge_bases.description, knowledge_bases.is_public, knowledge_bases.is_searchable, knowledge_bases.meta_data, knowledge_bases.document_count, knowledge_bases.category, knowledge_bases.tags, knowledge_bases.id, knowledge_bases.created_at, knowledge_bases.updated_at, knowledge_bases.is_active, knowledge_bases.created_by, knowledge_bases.updated_by 
FROM knowledge_bases 
WHERE knowledge_bases.is_public = true ORDER BY knowledge_bases.created_at DESC 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-10-10 15:07:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00060s] (100, 0)
2025-10-10 15:07:55 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0681s
2025-10-10 15:07:55 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:07:58 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-base/?skip=0&limit=100
2025-10-10 15:07:58 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:07:58 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:07:58 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:07:58 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:07:58 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:07:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:07:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 166.1s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:07:58 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:07:58 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:07:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT knowledge_bases.name, knowledge_bases.description, knowledge_bases.is_public, knowledge_bases.is_searchable, knowledge_bases.meta_data, knowledge_bases.document_count, knowledge_bases.category, knowledge_bases.tags, knowledge_bases.id, knowledge_bases.created_at, knowledge_bases.updated_at, knowledge_bases.is_active, knowledge_bases.created_by, knowledge_bases.updated_by 
FROM knowledge_bases 
WHERE knowledge_bases.is_public = true ORDER BY knowledge_bases.created_at DESC 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-10-10 15:07:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 3.43s ago] (100, 0)
2025-10-10 15:07:58 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0784s
2025-10-10 15:07:58 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:08:00 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-assistant/documents?knowledge_base_id=f9716623-6e0d-4fc1-8032-33dcbd7948b1&skip=0&limit=20
2025-10-10 15:08:00 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:08:00 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:08:00 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:08:00 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:08:00 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:08:00 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:08:00 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 168.3s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:08:00 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:08:00 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:08:00 - app.services.lightweight_document_service - INFO - lightweight_document_service - __init__ - Lightweight document service initialized
2025-10-10 15:08:00 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT documents.filename, documents.original_filename, documents.file_path, documents.file_size, documents.file_hash, documents.mime_type, documents.extracted_content, documents.summary, documents.meta_data, documents.embedding, documents.category, documents.tags, documents.user_id, documents.knowledge_base_id, documents.id, documents.created_at, documents.updated_at, documents.is_active, documents.created_by, documents.updated_by 
FROM documents 
WHERE documents.user_id = $1::UUID AND documents.knowledge_base_id = $2::UUID ORDER BY documents.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-10 15:08:00 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00103s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('f9716623-6e0d-4fc1-8032-33dcbd7948b1'), 20, 0)
2025-10-10 15:08:00 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1011s
2025-10-10 15:08:00 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:08:10 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-assistant/documents?knowledge_base_id=24e0c779-b542-465f-a18d-9389e2ba0bc2&skip=0&limit=20
2025-10-10 15:08:10 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:08:10 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:08:10 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:08:10 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:08:10 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:08:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:08:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 178s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:08:10 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:08:10 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:08:10 - app.services.lightweight_document_service - INFO - lightweight_document_service - __init__ - Lightweight document service initialized
2025-10-10 15:08:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT documents.filename, documents.original_filename, documents.file_path, documents.file_size, documents.file_hash, documents.mime_type, documents.extracted_content, documents.summary, documents.meta_data, documents.embedding, documents.category, documents.tags, documents.user_id, documents.knowledge_base_id, documents.id, documents.created_at, documents.updated_at, documents.is_active, documents.created_by, documents.updated_by 
FROM documents 
WHERE documents.user_id = $1::UUID AND documents.knowledge_base_id = $2::UUID ORDER BY documents.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-10 15:08:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 9.697s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('24e0c779-b542-465f-a18d-9389e2ba0bc2'), 20, 0)
2025-10-10 15:08:10 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.2021s
2025-10-10 15:08:10 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:08:21 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/list
2025-10-10 15:08:21 - app.core.exception_handlers - ERROR - exception_handlers - starlette_http_exception_handler - Starlette HTTP Exception: Not Found
2025-10-10 15:08:21 - app.core.middleware - INFO - middleware - dispatch - Response: 404 - Processing time: 0.0040s
2025-10-10 15:08:21 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-base/documents
2025-10-10 15:08:21 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:08:21 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:08:21 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:08:21 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:08:21 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:08:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:08:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 188.7s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:08:21 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:08:21 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:08:21 - app.services.knowledge_base_service - ERROR - knowledge_base_service - get_by_id - Invalid UUID format: documents
2025-10-10 15:08:21 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:08:21 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: Knowledge base not found
2025-10-10 15:08:21 - app.core.middleware - INFO - middleware - dispatch - Response: 404 - Processing time: 0.0627s
2025-10-10 15:10:22 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/list
2025-10-10 15:10:22 - app.core.exception_handlers - ERROR - exception_handlers - starlette_http_exception_handler - Starlette HTTP Exception: Not Found
2025-10-10 15:10:22 - app.core.middleware - INFO - middleware - dispatch - Response: 404 - Processing time: 0.0035s
2025-10-10 15:10:22 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-assistant/documents
2025-10-10 15:10:22 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:10:22 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:10:22 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:10:22 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:10:22 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:10:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:10:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 310.4s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:10:22 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/list
2025-10-10 15:10:22 - app.core.exception_handlers - ERROR - exception_handlers - starlette_http_exception_handler - Starlette HTTP Exception: Not Found
2025-10-10 15:10:22 - app.core.middleware - INFO - middleware - dispatch - Response: 404 - Processing time: 0.0046s
2025-10-10 15:10:22 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:10:22 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:10:22 - app.services.lightweight_document_service - INFO - lightweight_document_service - __init__ - Lightweight document service initialized
2025-10-10 15:10:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT documents.filename, documents.original_filename, documents.file_path, documents.file_size, documents.file_hash, documents.mime_type, documents.extracted_content, documents.summary, documents.meta_data, documents.embedding, documents.category, documents.tags, documents.user_id, documents.knowledge_base_id, documents.id, documents.created_at, documents.updated_at, documents.is_active, documents.created_by, documents.updated_by 
FROM documents 
WHERE documents.user_id = $1::UUID ORDER BY documents.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-10 15:10:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00288s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 20, 0)
2025-10-10 15:10:22 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-assistant/documents
2025-10-10 15:10:22 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:10:22 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:10:22 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:10:22 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:10:22 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:10:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:10:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 310.5s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:10:22 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:10:22 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:10:22 - app.services.lightweight_document_service - INFO - lightweight_document_service - __init__ - Lightweight document service initialized
2025-10-10 15:10:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT documents.filename, documents.original_filename, documents.file_path, documents.file_size, documents.file_hash, documents.mime_type, documents.extracted_content, documents.summary, documents.meta_data, documents.embedding, documents.category, documents.tags, documents.user_id, documents.knowledge_base_id, documents.id, documents.created_at, documents.updated_at, documents.is_active, documents.created_by, documents.updated_by 
FROM documents 
WHERE documents.user_id = $1::UUID ORDER BY documents.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-10 15:10:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05507s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 20, 0)
2025-10-10 15:10:22 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0786s
2025-10-10 15:10:22 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:10:22 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1664s
2025-10-10 15:10:22 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:10:23 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/list
2025-10-10 15:10:23 - app.core.exception_handlers - ERROR - exception_handlers - starlette_http_exception_handler - Starlette HTTP Exception: Not Found
2025-10-10 15:10:23 - app.core.middleware - INFO - middleware - dispatch - Response: 404 - Processing time: 0.0061s
2025-10-10 15:10:23 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/list
2025-10-10 15:10:23 - app.core.exception_handlers - ERROR - exception_handlers - starlette_http_exception_handler - Starlette HTTP Exception: Not Found
2025-10-10 15:10:23 - app.core.middleware - INFO - middleware - dispatch - Response: 404 - Processing time: 0.0068s
2025-10-10 15:10:23 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-assistant/documents
2025-10-10 15:10:23 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:10:23 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:10:23 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:10:23 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:10:23 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:10:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:10:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 310.9s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:10:23 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-assistant/documents
2025-10-10 15:10:23 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:10:23 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:10:23 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:10:23 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:10:23 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:10:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:10:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 311s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:10:23 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:10:23 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:10:23 - app.services.lightweight_document_service - INFO - lightweight_document_service - __init__ - Lightweight document service initialized
2025-10-10 15:10:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT documents.filename, documents.original_filename, documents.file_path, documents.file_size, documents.file_hash, documents.mime_type, documents.extracted_content, documents.summary, documents.meta_data, documents.embedding, documents.category, documents.tags, documents.user_id, documents.knowledge_base_id, documents.id, documents.created_at, documents.updated_at, documents.is_active, documents.created_by, documents.updated_by 
FROM documents 
WHERE documents.user_id = $1::UUID ORDER BY documents.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-10 15:10:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.5049s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 20, 0)
2025-10-10 15:10:23 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:10:23 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:10:23 - app.services.lightweight_document_service - INFO - lightweight_document_service - __init__ - Lightweight document service initialized
2025-10-10 15:10:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT documents.filename, documents.original_filename, documents.file_path, documents.file_size, documents.file_hash, documents.mime_type, documents.extracted_content, documents.summary, documents.meta_data, documents.embedding, documents.category, documents.tags, documents.user_id, documents.knowledge_base_id, documents.id, documents.created_at, documents.updated_at, documents.is_active, documents.created_by, documents.updated_by 
FROM documents 
WHERE documents.user_id = $1::UUID ORDER BY documents.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-10 15:10:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.5326s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 20, 0)
2025-10-10 15:10:23 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1126s
2025-10-10 15:10:23 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:10:23 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0857s
2025-10-10 15:10:23 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:11:09 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/list
2025-10-10 15:11:09 - app.core.exception_handlers - ERROR - exception_handlers - starlette_http_exception_handler - Starlette HTTP Exception: Not Found
2025-10-10 15:11:09 - app.core.middleware - INFO - middleware - dispatch - Response: 404 - Processing time: 0.0023s
2025-10-10 15:11:09 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/list
2025-10-10 15:11:09 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-assistant/documents
2025-10-10 15:11:09 - app.core.exception_handlers - ERROR - exception_handlers - starlette_http_exception_handler - Starlette HTTP Exception: Not Found
2025-10-10 15:11:09 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:11:09 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:11:09 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:11:09 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:11:09 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:11:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:11:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 357.2s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:11:09 - app.core.middleware - INFO - middleware - dispatch - Response: 404 - Processing time: 0.0179s
2025-10-10 15:11:09 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:11:09 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:11:09 - app.services.lightweight_document_service - INFO - lightweight_document_service - __init__ - Lightweight document service initialized
2025-10-10 15:11:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT documents.filename, documents.original_filename, documents.file_path, documents.file_size, documents.file_hash, documents.mime_type, documents.extracted_content, documents.summary, documents.meta_data, documents.embedding, documents.category, documents.tags, documents.user_id, documents.knowledge_base_id, documents.id, documents.created_at, documents.updated_at, documents.is_active, documents.created_by, documents.updated_by 
FROM documents 
WHERE documents.user_id = $1::UUID ORDER BY documents.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-10 15:11:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 46.76s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 20, 0)
2025-10-10 15:11:09 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-assistant/documents
2025-10-10 15:11:09 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:11:09 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:11:09 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:11:09 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:11:09 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:11:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:11:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 357.3s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:11:09 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0951s
2025-10-10 15:11:09 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:11:09 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:11:09 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:11:09 - app.services.lightweight_document_service - INFO - lightweight_document_service - __init__ - Lightweight document service initialized
2025-10-10 15:11:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT documents.filename, documents.original_filename, documents.file_path, documents.file_size, documents.file_hash, documents.mime_type, documents.extracted_content, documents.summary, documents.meta_data, documents.embedding, documents.category, documents.tags, documents.user_id, documents.knowledge_base_id, documents.id, documents.created_at, documents.updated_at, documents.is_active, documents.created_by, documents.updated_by 
FROM documents 
WHERE documents.user_id = $1::UUID ORDER BY documents.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-10 15:11:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 46.84s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 20, 0)
2025-10-10 15:11:09 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0923s
2025-10-10 15:11:09 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:11:17 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/list
2025-10-10 15:11:17 - app.core.exception_handlers - ERROR - exception_handlers - starlette_http_exception_handler - Starlette HTTP Exception: Not Found
2025-10-10 15:11:17 - app.core.middleware - INFO - middleware - dispatch - Response: 404 - Processing time: 0.0040s
2025-10-10 15:11:17 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-assistant/documents
2025-10-10 15:11:17 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:11:17 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:11:17 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:11:17 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:11:17 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:11:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:11:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 364.9s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:11:17 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/list
2025-10-10 15:11:17 - app.core.exception_handlers - ERROR - exception_handlers - starlette_http_exception_handler - Starlette HTTP Exception: Not Found
2025-10-10 15:11:17 - app.core.middleware - INFO - middleware - dispatch - Response: 404 - Processing time: 0.0131s
2025-10-10 15:11:17 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:11:17 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:11:17 - app.services.lightweight_document_service - INFO - lightweight_document_service - __init__ - Lightweight document service initialized
2025-10-10 15:11:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT documents.filename, documents.original_filename, documents.file_path, documents.file_size, documents.file_hash, documents.mime_type, documents.extracted_content, documents.summary, documents.meta_data, documents.embedding, documents.category, documents.tags, documents.user_id, documents.knowledge_base_id, documents.id, documents.created_at, documents.updated_at, documents.is_active, documents.created_by, documents.updated_by 
FROM documents 
WHERE documents.user_id = $1::UUID ORDER BY documents.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-10 15:11:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 54.45s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 20, 0)
2025-10-10 15:11:17 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0890s
2025-10-10 15:11:17 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:11:17 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-assistant/documents
2025-10-10 15:11:17 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:11:17 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:11:17 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:11:17 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:11:17 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:11:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:11:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 365s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:11:17 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:11:17 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:11:17 - app.services.lightweight_document_service - INFO - lightweight_document_service - __init__ - Lightweight document service initialized
2025-10-10 15:11:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT documents.filename, documents.original_filename, documents.file_path, documents.file_size, documents.file_hash, documents.mime_type, documents.extracted_content, documents.summary, documents.meta_data, documents.embedding, documents.category, documents.tags, documents.user_id, documents.knowledge_base_id, documents.id, documents.created_at, documents.updated_at, documents.is_active, documents.created_by, documents.updated_by 
FROM documents 
WHERE documents.user_id = $1::UUID ORDER BY documents.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-10 15:11:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 54.53s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 20, 0)
2025-10-10 15:11:17 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0623s
2025-10-10 15:11:17 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:11:37 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/list
2025-10-10 15:11:37 - app.core.exception_handlers - ERROR - exception_handlers - starlette_http_exception_handler - Starlette HTTP Exception: Not Found
2025-10-10 15:11:37 - app.core.middleware - INFO - middleware - dispatch - Response: 404 - Processing time: 0.0163s
2025-10-10 15:11:37 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-assistant/documents
2025-10-10 15:11:37 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:11:37 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:11:37 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:11:37 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:11:37 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:11:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:11:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 385.3s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:11:37 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:11:37 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:11:37 - app.services.lightweight_document_service - INFO - lightweight_document_service - __init__ - Lightweight document service initialized
2025-10-10 15:11:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT documents.filename, documents.original_filename, documents.file_path, documents.file_size, documents.file_hash, documents.mime_type, documents.extracted_content, documents.summary, documents.meta_data, documents.embedding, documents.category, documents.tags, documents.user_id, documents.knowledge_base_id, documents.id, documents.created_at, documents.updated_at, documents.is_active, documents.created_by, documents.updated_by 
FROM documents 
WHERE documents.user_id = $1::UUID ORDER BY documents.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-10 15:11:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 74.83s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 20, 0)
2025-10-10 15:11:37 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/list
2025-10-10 15:11:37 - app.core.exception_handlers - ERROR - exception_handlers - starlette_http_exception_handler - Starlette HTTP Exception: Not Found
2025-10-10 15:11:37 - app.core.middleware - INFO - middleware - dispatch - Response: 404 - Processing time: 0.0113s
2025-10-10 15:11:37 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0660s
2025-10-10 15:11:37 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:11:37 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-assistant/documents
2025-10-10 15:11:37 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:11:37 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:11:37 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:11:37 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:11:37 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:11:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:11:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 385.4s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:11:37 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:11:37 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:11:37 - app.services.lightweight_document_service - INFO - lightweight_document_service - __init__ - Lightweight document service initialized
2025-10-10 15:11:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT documents.filename, documents.original_filename, documents.file_path, documents.file_size, documents.file_hash, documents.mime_type, documents.extracted_content, documents.summary, documents.meta_data, documents.embedding, documents.category, documents.tags, documents.user_id, documents.knowledge_base_id, documents.id, documents.created_at, documents.updated_at, documents.is_active, documents.created_by, documents.updated_by 
FROM documents 
WHERE documents.user_id = $1::UUID ORDER BY documents.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-10 15:11:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 74.95s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 20, 0)
2025-10-10 15:11:37 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0871s
2025-10-10 15:11:37 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:11:59 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/list
2025-10-10 15:11:59 - app.core.exception_handlers - ERROR - exception_handlers - starlette_http_exception_handler - Starlette HTTP Exception: Not Found
2025-10-10 15:11:59 - app.core.middleware - INFO - middleware - dispatch - Response: 404 - Processing time: 0.0100s
2025-10-10 15:11:59 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/list
2025-10-10 15:11:59 - app.core.exception_handlers - ERROR - exception_handlers - starlette_http_exception_handler - Starlette HTTP Exception: Not Found
2025-10-10 15:11:59 - app.core.middleware - INFO - middleware - dispatch - Response: 404 - Processing time: 0.0067s
2025-10-10 15:11:59 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-assistant/documents
2025-10-10 15:11:59 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:11:59 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:11:59 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:11:59 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:11:59 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:11:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:11:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 407s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:11:59 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-assistant/documents
2025-10-10 15:11:59 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:11:59 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:11:59 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:11:59 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:11:59 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:11:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:11:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 407s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:11:59 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:11:59 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:11:59 - app.services.lightweight_document_service - INFO - lightweight_document_service - __init__ - Lightweight document service initialized
2025-10-10 15:11:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT documents.filename, documents.original_filename, documents.file_path, documents.file_size, documents.file_hash, documents.mime_type, documents.extracted_content, documents.summary, documents.meta_data, documents.embedding, documents.category, documents.tags, documents.user_id, documents.knowledge_base_id, documents.id, documents.created_at, documents.updated_at, documents.is_active, documents.created_by, documents.updated_by 
FROM documents 
WHERE documents.user_id = $1::UUID ORDER BY documents.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-10 15:11:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 96.57s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 20, 0)
2025-10-10 15:11:59 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:11:59 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:11:59 - app.services.lightweight_document_service - INFO - lightweight_document_service - __init__ - Lightweight document service initialized
2025-10-10 15:11:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT documents.filename, documents.original_filename, documents.file_path, documents.file_size, documents.file_hash, documents.mime_type, documents.extracted_content, documents.summary, documents.meta_data, documents.embedding, documents.category, documents.tags, documents.user_id, documents.knowledge_base_id, documents.id, documents.created_at, documents.updated_at, documents.is_active, documents.created_by, documents.updated_by 
FROM documents 
WHERE documents.user_id = $1::UUID ORDER BY documents.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-10 15:11:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 96.58s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 20, 0)
2025-10-10 15:11:59 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0930s
2025-10-10 15:11:59 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:11:59 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0803s
2025-10-10 15:11:59 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:12:09 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/list
2025-10-10 15:12:09 - app.core.exception_handlers - ERROR - exception_handlers - starlette_http_exception_handler - Starlette HTTP Exception: Not Found
2025-10-10 15:12:09 - app.core.middleware - INFO - middleware - dispatch - Response: 404 - Processing time: 0.0066s
2025-10-10 15:12:09 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-base/?skip=0&limit=100
2025-10-10 15:12:09 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:12:09 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:12:09 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:12:09 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:12:09 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:12:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:12:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 417.4s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:12:09 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/list
2025-10-10 15:12:09 - app.core.exception_handlers - ERROR - exception_handlers - starlette_http_exception_handler - Starlette HTTP Exception: Not Found
2025-10-10 15:12:09 - app.core.middleware - INFO - middleware - dispatch - Response: 404 - Processing time: 0.0064s
2025-10-10 15:12:09 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:12:09 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:12:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT knowledge_bases.name, knowledge_bases.description, knowledge_bases.is_public, knowledge_bases.is_searchable, knowledge_bases.meta_data, knowledge_bases.document_count, knowledge_bases.category, knowledge_bases.tags, knowledge_bases.id, knowledge_bases.created_at, knowledge_bases.updated_at, knowledge_bases.is_active, knowledge_bases.created_by, knowledge_bases.updated_by 
FROM knowledge_bases 
WHERE knowledge_bases.is_public = true ORDER BY knowledge_bases.created_at DESC 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-10-10 15:12:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 254.7s ago] (100, 0)
2025-10-10 15:12:09 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0837s
2025-10-10 15:12:09 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:12:09 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-base/?skip=0&limit=100
2025-10-10 15:12:09 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:12:09 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:12:09 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:12:09 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:12:09 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:12:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:12:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 417.5s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:12:09 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-assistant/documents
2025-10-10 15:12:09 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:12:09 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:12:09 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:12:09 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:12:09 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:12:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:12:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 417.5s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:12:09 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:12:09 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:12:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT knowledge_bases.name, knowledge_bases.description, knowledge_bases.is_public, knowledge_bases.is_searchable, knowledge_bases.meta_data, knowledge_bases.document_count, knowledge_bases.category, knowledge_bases.tags, knowledge_bases.id, knowledge_bases.created_at, knowledge_bases.updated_at, knowledge_bases.is_active, knowledge_bases.created_by, knowledge_bases.updated_by 
FROM knowledge_bases 
WHERE knowledge_bases.is_public = true ORDER BY knowledge_bases.created_at DESC 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-10-10 15:12:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 254.8s ago] (100, 0)
2025-10-10 15:12:09 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:12:09 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:12:09 - app.services.lightweight_document_service - INFO - lightweight_document_service - __init__ - Lightweight document service initialized
2025-10-10 15:12:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT documents.filename, documents.original_filename, documents.file_path, documents.file_size, documents.file_hash, documents.mime_type, documents.extracted_content, documents.summary, documents.meta_data, documents.embedding, documents.category, documents.tags, documents.user_id, documents.knowledge_base_id, documents.id, documents.created_at, documents.updated_at, documents.is_active, documents.created_by, documents.updated_by 
FROM documents 
WHERE documents.user_id = $1::UUID ORDER BY documents.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-10 15:12:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 107.1s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 20, 0)
2025-10-10 15:12:09 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0759s
2025-10-10 15:12:09 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:12:09 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0681s
2025-10-10 15:12:09 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:12:09 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-assistant/documents
2025-10-10 15:12:09 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:12:09 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:12:10 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:12:10 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:12:10 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:12:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:12:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 417.6s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:12:10 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:12:10 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:12:10 - app.services.lightweight_document_service - INFO - lightweight_document_service - __init__ - Lightweight document service initialized
2025-10-10 15:12:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT documents.filename, documents.original_filename, documents.file_path, documents.file_size, documents.file_hash, documents.mime_type, documents.extracted_content, documents.summary, documents.meta_data, documents.embedding, documents.category, documents.tags, documents.user_id, documents.knowledge_base_id, documents.id, documents.created_at, documents.updated_at, documents.is_active, documents.created_by, documents.updated_by 
FROM documents 
WHERE documents.user_id = $1::UUID ORDER BY documents.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-10 15:12:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 107.2s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 20, 0)
2025-10-10 15:12:10 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0722s
2025-10-10 15:12:10 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:12:24 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-assistant/documents?knowledge_base_id=f9716623-6e0d-4fc1-8032-33dcbd7948b1&skip=0&limit=20
2025-10-10 15:12:24 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:12:24 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:12:24 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:12:24 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:12:24 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:12:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:12:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 432.2s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:12:24 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:12:24 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:12:24 - app.services.lightweight_document_service - INFO - lightweight_document_service - __init__ - Lightweight document service initialized
2025-10-10 15:12:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT documents.filename, documents.original_filename, documents.file_path, documents.file_size, documents.file_hash, documents.mime_type, documents.extracted_content, documents.summary, documents.meta_data, documents.embedding, documents.category, documents.tags, documents.user_id, documents.knowledge_base_id, documents.id, documents.created_at, documents.updated_at, documents.is_active, documents.created_by, documents.updated_by 
FROM documents 
WHERE documents.user_id = $1::UUID AND documents.knowledge_base_id = $2::UUID ORDER BY documents.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-10 15:12:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 263.9s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('f9716623-6e0d-4fc1-8032-33dcbd7948b1'), 20, 0)
2025-10-10 15:12:24 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0587s
2025-10-10 15:12:24 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:12:48 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-10 15:12:48 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:12:48 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:12:48 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:12:48 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:12:48 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:12:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:12:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 456s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:12:48 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:12:48 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:12:48 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-10 15:12:48 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-10 15:12:48 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-10 15:12:48 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-10 15:12:48 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0281s
2025-10-10 15:12:48 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:12:48 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-10 15:12:48 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:12:48 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:12:48 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:12:48 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:12:48 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:12:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:12:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 456s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:12:48 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:12:48 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:12:48 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-10 15:12:48 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-10 15:12:48 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-10 15:12:48 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-10 15:12:48 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0291s
2025-10-10 15:12:48 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:12:53 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/list
2025-10-10 15:12:53 - app.core.exception_handlers - ERROR - exception_handlers - starlette_http_exception_handler - Starlette HTTP Exception: Not Found
2025-10-10 15:12:53 - app.core.middleware - INFO - middleware - dispatch - Response: 404 - Processing time: 0.0050s
2025-10-10 15:12:53 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-base/?skip=0&limit=100
2025-10-10 15:12:53 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:12:53 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:12:53 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:12:53 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:12:53 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:12:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:12:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 461.3s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:12:53 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:12:53 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:12:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT knowledge_bases.name, knowledge_bases.description, knowledge_bases.is_public, knowledge_bases.is_searchable, knowledge_bases.meta_data, knowledge_bases.document_count, knowledge_bases.category, knowledge_bases.tags, knowledge_bases.id, knowledge_bases.created_at, knowledge_bases.updated_at, knowledge_bases.is_active, knowledge_bases.created_by, knowledge_bases.updated_by 
FROM knowledge_bases 
WHERE knowledge_bases.is_public = true ORDER BY knowledge_bases.created_at DESC 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-10-10 15:12:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 298.6s ago] (100, 0)
2025-10-10 15:12:53 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0442s
2025-10-10 15:12:53 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:12:53 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-assistant/documents
2025-10-10 15:12:53 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:12:53 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:12:53 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:12:53 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:12:53 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:12:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:12:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 461.3s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:12:53 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:12:53 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:12:53 - app.services.lightweight_document_service - INFO - lightweight_document_service - __init__ - Lightweight document service initialized
2025-10-10 15:12:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT documents.filename, documents.original_filename, documents.file_path, documents.file_size, documents.file_hash, documents.mime_type, documents.extracted_content, documents.summary, documents.meta_data, documents.embedding, documents.category, documents.tags, documents.user_id, documents.knowledge_base_id, documents.id, documents.created_at, documents.updated_at, documents.is_active, documents.created_by, documents.updated_by 
FROM documents 
WHERE documents.user_id = $1::UUID ORDER BY documents.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-10 15:12:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 150.9s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 20, 0)
2025-10-10 15:12:53 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0478s
2025-10-10 15:12:53 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:13:08 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/hr-workflows/custom-workflow
2025-10-10 15:13:08 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:13:08 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:13:08 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:13:08 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:13:08 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:13:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:13:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 475.9s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:13:08 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:13:08 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:13:08 - app.core.logging - INFO - dify_service - call_workflow_stream - Calling Dify workflow type 4 with query: 请生成一份management试卷
难度等级：中等
考试时长：90分钟
题目类型：单选题、多选题
题目数量：single10道，multiple5道，judge5道，fill3道，short2道，编程...
2025-10-10 15:13:08 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.7053s
2025-10-10 15:13:09 - httpx - INFO - _client - _send_single_request - HTTP Request: POST http://218.78.133.209:85/v1/chat-messages "HTTP/1.1 400 BAD REQUEST"
2025-10-10 15:13:09 - app.core.logging - ERROR - dify_service - call_workflow_stream - Dify API error: 400 - b'{"code": "invalid_param", "message": "exam_1760080388256 is not a valid uuid.", "params": "conversation_id"}\n'
2025-10-10 15:13:09 - app.core.logging - ERROR - dify_service - call_workflow_stream - Unexpected error in Dify workflow call: 
2025-10-10 15:13:09 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:13:09 - app.core.exception_handlers - ERROR - exception_handlers - generic_exception_handler - Unhandled Exception: Caught handled exception, but response already started.
Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 20, in __call__
    raise e
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 69, in app
    await response(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\responses.py", line 270, in __call__
    async with anyio.create_task_group() as task_group:
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\anyio\_backends\_asyncio.py", line 597, in __aexit__
    raise exceptions[0]
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\responses.py", line 273, in wrap
    await func()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\responses.py", line 262, in stream_response
    async for chunk in self.body_iterator:
  File "E:\workspace-py\hr-agent\backend\app\api\v1\endpoints\hr_workflows.py", line 297, in generate_stream
    async for chunk in dify_service.call_workflow_stream(
  File "E:\workspace-py\hr-agent\backend\app\services\dify_service.py", line 109, in call_workflow_stream
    raise HTTPException(status_code=500, detail=f"Internal server error: {str(e)}")
fastapi.exceptions.HTTPException

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 109, in __call__
    await response(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\responses.py", line 270, in __call__
    async with anyio.create_task_group() as task_group:
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\anyio\_backends\_asyncio.py", line 597, in __aexit__
    raise exceptions[0]
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\responses.py", line 273, in wrap
    await func()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 134, in stream_response
    return await super().stream_response(send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\responses.py", line 262, in stream_response
    async for chunk in self.body_iterator:
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 98, in body_stream
    raise app_exc
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 109, in __call__
    await response(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\responses.py", line 270, in __call__
    async with anyio.create_task_group() as task_group:
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\anyio\_backends\_asyncio.py", line 597, in __aexit__
    raise exceptions[0]
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\responses.py", line 273, in wrap
    await func()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 134, in stream_response
    return await super().stream_response(send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\responses.py", line 262, in stream_response
    async for chunk in self.body_iterator:
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 98, in body_stream
    raise app_exc
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\exceptions.py", line 83, in __call__
    raise RuntimeError(msg) from exc
RuntimeError: Caught handled exception, but response already started.
2025-10-10 15:14:51 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?page=1&size=10
2025-10-10 15:14:51 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/jd?page=1&size=100&status_filter=published
2025-10-10 15:14:51 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:14:51 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:14:51 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:14:51 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:14:51 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:14:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:14:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 579.4s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:14:51 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:14:51 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:14:51 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:14:51 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:14:51 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:14:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:14:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 579.4s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:14:51 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:14:51 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:14:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID ORDER BY resume_evaluations.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-10 15:14:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00211s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 20, 0)
2025-10-10 15:14:51 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:14:51 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:14:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT count(*) AS count_1 
FROM (SELECT job_descriptions.title AS title, job_descriptions.department AS department, job_descriptions.location AS location, job_descriptions.salary_range AS salary_range, job_descriptions.experience_level AS experience_level, job_descriptions.education AS education, job_descriptions.job_type AS job_type, job_descriptions.skills AS skills, job_descriptions.content AS content, job_descriptions.requirements AS requirements, job_descriptions.status AS status, job_descriptions.meta_data AS meta_data, job_descriptions.conversation_id AS conversation_id, job_descriptions.workflow_type AS workflow_type, job_descriptions.user_id AS user_id, job_descriptions.id AS id, job_descriptions.created_at AS created_at, job_descriptions.updated_at AS updated_at, job_descriptions.is_active AS is_active, job_descriptions.created_by AS created_by, job_descriptions.updated_by AS updated_by 
FROM job_descriptions 
WHERE job_descriptions.user_id = $1::UUID AND job_descriptions.is_active = true AND job_descriptions.status = $2::jdstatus) AS anon_1
2025-10-10 15:14:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00341s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'PUBLISHED')
2025-10-10 15:14:51 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1622s
2025-10-10 15:14:51 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:14:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT job_descriptions.title, job_descriptions.department, job_descriptions.location, job_descriptions.salary_range, job_descriptions.experience_level, job_descriptions.education, job_descriptions.job_type, job_descriptions.skills, job_descriptions.content, job_descriptions.requirements, job_descriptions.status, job_descriptions.meta_data, job_descriptions.conversation_id, job_descriptions.workflow_type, job_descriptions.user_id, job_descriptions.id, job_descriptions.created_at, job_descriptions.updated_at, job_descriptions.is_active, job_descriptions.created_by, job_descriptions.updated_by 
FROM job_descriptions 
WHERE job_descriptions.user_id = $1::UUID AND job_descriptions.is_active = true AND job_descriptions.status = $2::jdstatus ORDER BY job_descriptions.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-10 15:14:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00273s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'PUBLISHED', 100, 0)
2025-10-10 15:14:52 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.2670s
2025-10-10 15:14:52 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:15:11 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/jd?page=1&size=100&status_filter=published
2025-10-10 15:15:11 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?page=1&size=10
2025-10-10 15:15:11 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:15:11 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:15:11 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:15:11 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:15:11 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:15:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:15:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 599.4s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:15:11 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:15:11 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:15:11 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:15:11 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:15:11 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:15:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:15:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 599.5s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:15:11 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:15:11 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:15:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT count(*) AS count_1 
FROM (SELECT job_descriptions.title AS title, job_descriptions.department AS department, job_descriptions.location AS location, job_descriptions.salary_range AS salary_range, job_descriptions.experience_level AS experience_level, job_descriptions.education AS education, job_descriptions.job_type AS job_type, job_descriptions.skills AS skills, job_descriptions.content AS content, job_descriptions.requirements AS requirements, job_descriptions.status AS status, job_descriptions.meta_data AS meta_data, job_descriptions.conversation_id AS conversation_id, job_descriptions.workflow_type AS workflow_type, job_descriptions.user_id AS user_id, job_descriptions.id AS id, job_descriptions.created_at AS created_at, job_descriptions.updated_at AS updated_at, job_descriptions.is_active AS is_active, job_descriptions.created_by AS created_by, job_descriptions.updated_by AS updated_by 
FROM job_descriptions 
WHERE job_descriptions.user_id = $1::UUID AND job_descriptions.is_active = true AND job_descriptions.status = $2::jdstatus) AS anon_1
2025-10-10 15:15:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 20.02s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'PUBLISHED')
2025-10-10 15:15:11 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:15:11 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:15:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID ORDER BY resume_evaluations.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-10 15:15:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 20.07s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 20, 0)
2025-10-10 15:15:12 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1707s
2025-10-10 15:15:12 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:15:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT job_descriptions.title, job_descriptions.department, job_descriptions.location, job_descriptions.salary_range, job_descriptions.experience_level, job_descriptions.education, job_descriptions.job_type, job_descriptions.skills, job_descriptions.content, job_descriptions.requirements, job_descriptions.status, job_descriptions.meta_data, job_descriptions.conversation_id, job_descriptions.workflow_type, job_descriptions.user_id, job_descriptions.id, job_descriptions.created_at, job_descriptions.updated_at, job_descriptions.is_active, job_descriptions.created_by, job_descriptions.updated_by 
FROM job_descriptions 
WHERE job_descriptions.user_id = $1::UUID AND job_descriptions.is_active = true AND job_descriptions.status = $2::jdstatus ORDER BY job_descriptions.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-10 15:15:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00261s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'PUBLISHED', 100, 0)
2025-10-10 15:15:12 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.3220s
2025-10-10 15:15:12 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:15:59 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?page=1&size=10
2025-10-10 15:15:59 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:15:59 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:15:59 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:15:59 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:15:59 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:15:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:15:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 646.7s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:15:59 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/jd?page=1&size=100&status_filter=published
2025-10-10 15:15:59 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:15:59 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:15:59 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:15:59 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:15:59 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:15:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:15:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 646.7s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:15:59 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:15:59 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:15:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID ORDER BY resume_evaluations.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-10 15:15:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 67.27s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 20, 0)
2025-10-10 15:15:59 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:15:59 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:15:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT count(*) AS count_1 
FROM (SELECT job_descriptions.title AS title, job_descriptions.department AS department, job_descriptions.location AS location, job_descriptions.salary_range AS salary_range, job_descriptions.experience_level AS experience_level, job_descriptions.education AS education, job_descriptions.job_type AS job_type, job_descriptions.skills AS skills, job_descriptions.content AS content, job_descriptions.requirements AS requirements, job_descriptions.status AS status, job_descriptions.meta_data AS meta_data, job_descriptions.conversation_id AS conversation_id, job_descriptions.workflow_type AS workflow_type, job_descriptions.user_id AS user_id, job_descriptions.id AS id, job_descriptions.created_at AS created_at, job_descriptions.updated_at AS updated_at, job_descriptions.is_active AS is_active, job_descriptions.created_by AS created_by, job_descriptions.updated_by AS updated_by 
FROM job_descriptions 
WHERE job_descriptions.user_id = $1::UUID AND job_descriptions.is_active = true AND job_descriptions.status = $2::jdstatus) AS anon_1
2025-10-10 15:15:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 67.25s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'PUBLISHED')
2025-10-10 15:15:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT job_descriptions.title, job_descriptions.department, job_descriptions.location, job_descriptions.salary_range, job_descriptions.experience_level, job_descriptions.education, job_descriptions.job_type, job_descriptions.skills, job_descriptions.content, job_descriptions.requirements, job_descriptions.status, job_descriptions.meta_data, job_descriptions.conversation_id, job_descriptions.workflow_type, job_descriptions.user_id, job_descriptions.id, job_descriptions.created_at, job_descriptions.updated_at, job_descriptions.is_active, job_descriptions.created_by, job_descriptions.updated_by 
FROM job_descriptions 
WHERE job_descriptions.user_id = $1::UUID AND job_descriptions.is_active = true AND job_descriptions.status = $2::jdstatus ORDER BY job_descriptions.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-10 15:15:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 47.07s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'PUBLISHED', 100, 0)
2025-10-10 15:15:59 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0810s
2025-10-10 15:15:59 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:15:59 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1213s
2025-10-10 15:15:59 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:16:14 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/jd?page=1&size=10
2025-10-10 15:16:14 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:16:14 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:16:14 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:16:14 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:16:14 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:16:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:16:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 662.6s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:16:14 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:16:14 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:16:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT count(*) AS count_1 
FROM (SELECT job_descriptions.title AS title, job_descriptions.department AS department, job_descriptions.location AS location, job_descriptions.salary_range AS salary_range, job_descriptions.experience_level AS experience_level, job_descriptions.education AS education, job_descriptions.job_type AS job_type, job_descriptions.skills AS skills, job_descriptions.content AS content, job_descriptions.requirements AS requirements, job_descriptions.status AS status, job_descriptions.meta_data AS meta_data, job_descriptions.conversation_id AS conversation_id, job_descriptions.workflow_type AS workflow_type, job_descriptions.user_id AS user_id, job_descriptions.id AS id, job_descriptions.created_at AS created_at, job_descriptions.updated_at AS updated_at, job_descriptions.is_active AS is_active, job_descriptions.created_by AS created_by, job_descriptions.updated_by AS updated_by 
FROM job_descriptions 
WHERE job_descriptions.user_id = $1::UUID AND job_descriptions.is_active = true) AS anon_1
2025-10-10 15:16:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00100s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:16:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT job_descriptions.title, job_descriptions.department, job_descriptions.location, job_descriptions.salary_range, job_descriptions.experience_level, job_descriptions.education, job_descriptions.job_type, job_descriptions.skills, job_descriptions.content, job_descriptions.requirements, job_descriptions.status, job_descriptions.meta_data, job_descriptions.conversation_id, job_descriptions.workflow_type, job_descriptions.user_id, job_descriptions.id, job_descriptions.created_at, job_descriptions.updated_at, job_descriptions.is_active, job_descriptions.created_by, job_descriptions.updated_by 
FROM job_descriptions 
WHERE job_descriptions.user_id = $1::UUID AND job_descriptions.is_active = true ORDER BY job_descriptions.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-10 15:16:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00083s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 10, 0)
2025-10-10 15:16:15 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1079s
2025-10-10 15:16:15 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:16:16 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?page=1&size=10
2025-10-10 15:16:16 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/jd?page=1&size=100&status_filter=published
2025-10-10 15:16:16 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:16:16 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:16:16 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:16:16 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:16:16 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:16:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:16:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 664.5s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:16:16 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:16:16 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:16:16 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:16:16 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:16:16 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:16:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:16:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 664.5s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:16:16 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:16:16 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:16:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID ORDER BY resume_evaluations.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-10 15:16:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 85.09s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 20, 0)
2025-10-10 15:16:16 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:16:16 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:16:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT count(*) AS count_1 
FROM (SELECT job_descriptions.title AS title, job_descriptions.department AS department, job_descriptions.location AS location, job_descriptions.salary_range AS salary_range, job_descriptions.experience_level AS experience_level, job_descriptions.education AS education, job_descriptions.job_type AS job_type, job_descriptions.skills AS skills, job_descriptions.content AS content, job_descriptions.requirements AS requirements, job_descriptions.status AS status, job_descriptions.meta_data AS meta_data, job_descriptions.conversation_id AS conversation_id, job_descriptions.workflow_type AS workflow_type, job_descriptions.user_id AS user_id, job_descriptions.id AS id, job_descriptions.created_at AS created_at, job_descriptions.updated_at AS updated_at, job_descriptions.is_active AS is_active, job_descriptions.created_by AS created_by, job_descriptions.updated_by AS updated_by 
FROM job_descriptions 
WHERE job_descriptions.user_id = $1::UUID AND job_descriptions.is_active = true AND job_descriptions.status = $2::jdstatus) AS anon_1
2025-10-10 15:16:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 85.12s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'PUBLISHED')
2025-10-10 15:16:16 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1199s
2025-10-10 15:16:17 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:16:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT job_descriptions.title, job_descriptions.department, job_descriptions.location, job_descriptions.salary_range, job_descriptions.experience_level, job_descriptions.education, job_descriptions.job_type, job_descriptions.skills, job_descriptions.content, job_descriptions.requirements, job_descriptions.status, job_descriptions.meta_data, job_descriptions.conversation_id, job_descriptions.workflow_type, job_descriptions.user_id, job_descriptions.id, job_descriptions.created_at, job_descriptions.updated_at, job_descriptions.is_active, job_descriptions.created_by, job_descriptions.updated_by 
FROM job_descriptions 
WHERE job_descriptions.user_id = $1::UUID AND job_descriptions.is_active = true AND job_descriptions.status = $2::jdstatus ORDER BY job_descriptions.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-10 15:16:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 64.93s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'PUBLISHED', 100, 0)
2025-10-10 15:16:17 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1891s
2025-10-10 15:16:17 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:16:20 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/list
2025-10-10 15:16:20 - app.core.exception_handlers - ERROR - exception_handlers - starlette_http_exception_handler - Starlette HTTP Exception: Not Found
2025-10-10 15:16:20 - app.core.middleware - INFO - middleware - dispatch - Response: 404 - Processing time: 0.0014s
2025-10-10 15:16:20 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-base/?skip=0&limit=100
2025-10-10 15:16:20 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:16:20 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:16:20 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:16:20 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:16:20 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:16:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:16:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 668.1s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:16:20 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:16:20 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:16:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT knowledge_bases.name, knowledge_bases.description, knowledge_bases.is_public, knowledge_bases.is_searchable, knowledge_bases.meta_data, knowledge_bases.document_count, knowledge_bases.category, knowledge_bases.tags, knowledge_bases.id, knowledge_bases.created_at, knowledge_bases.updated_at, knowledge_bases.is_active, knowledge_bases.created_by, knowledge_bases.updated_by 
FROM knowledge_bases 
WHERE knowledge_bases.is_public = true ORDER BY knowledge_bases.created_at DESC 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-10-10 15:16:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 505.4s ago] (100, 0)
2025-10-10 15:16:20 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0563s
2025-10-10 15:16:20 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:16:20 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-assistant/documents
2025-10-10 15:16:20 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:16:20 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:16:20 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:16:20 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:16:20 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:16:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:16:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 668.2s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:16:20 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:16:20 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:16:20 - app.services.lightweight_document_service - INFO - lightweight_document_service - __init__ - Lightweight document service initialized
2025-10-10 15:16:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT documents.filename, documents.original_filename, documents.file_path, documents.file_size, documents.file_hash, documents.mime_type, documents.extracted_content, documents.summary, documents.meta_data, documents.embedding, documents.category, documents.tags, documents.user_id, documents.knowledge_base_id, documents.id, documents.created_at, documents.updated_at, documents.is_active, documents.created_by, documents.updated_by 
FROM documents 
WHERE documents.user_id = $1::UUID ORDER BY documents.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-10 15:16:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 357.7s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 20, 0)
2025-10-10 15:16:20 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0627s
2025-10-10 15:16:20 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:16:23 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/jd?page=1&size=10
2025-10-10 15:16:23 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:16:23 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:16:23 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:16:23 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:16:23 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:16:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:16:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 670.7s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:16:23 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:16:23 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:16:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT count(*) AS count_1 
FROM (SELECT job_descriptions.title AS title, job_descriptions.department AS department, job_descriptions.location AS location, job_descriptions.salary_range AS salary_range, job_descriptions.experience_level AS experience_level, job_descriptions.education AS education, job_descriptions.job_type AS job_type, job_descriptions.skills AS skills, job_descriptions.content AS content, job_descriptions.requirements AS requirements, job_descriptions.status AS status, job_descriptions.meta_data AS meta_data, job_descriptions.conversation_id AS conversation_id, job_descriptions.workflow_type AS workflow_type, job_descriptions.user_id AS user_id, job_descriptions.id AS id, job_descriptions.created_at AS created_at, job_descriptions.updated_at AS updated_at, job_descriptions.is_active AS is_active, job_descriptions.created_by AS created_by, job_descriptions.updated_by AS updated_by 
FROM job_descriptions 
WHERE job_descriptions.user_id = $1::UUID AND job_descriptions.is_active = true) AS anon_1
2025-10-10 15:16:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 8.179s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:16:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT job_descriptions.title, job_descriptions.department, job_descriptions.location, job_descriptions.salary_range, job_descriptions.experience_level, job_descriptions.education, job_descriptions.job_type, job_descriptions.skills, job_descriptions.content, job_descriptions.requirements, job_descriptions.status, job_descriptions.meta_data, job_descriptions.conversation_id, job_descriptions.workflow_type, job_descriptions.user_id, job_descriptions.id, job_descriptions.created_at, job_descriptions.updated_at, job_descriptions.is_active, job_descriptions.created_by, job_descriptions.updated_by 
FROM job_descriptions 
WHERE job_descriptions.user_id = $1::UUID AND job_descriptions.is_active = true ORDER BY job_descriptions.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-10 15:16:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00232s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 10, 0)
2025-10-10 15:16:23 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1243s
2025-10-10 15:16:23 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:16:24 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/jd?page=1&size=100&status_filter=published
2025-10-10 15:16:24 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?page=1&size=10
2025-10-10 15:16:24 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:16:24 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:16:24 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:16:24 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:16:24 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:16:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:16:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 671.7s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:16:24 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:16:24 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:16:24 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:16:24 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:16:24 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:16:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:16:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 671.8s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:16:24 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:16:24 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:16:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT count(*) AS count_1 
FROM (SELECT job_descriptions.title AS title, job_descriptions.department AS department, job_descriptions.location AS location, job_descriptions.salary_range AS salary_range, job_descriptions.experience_level AS experience_level, job_descriptions.education AS education, job_descriptions.job_type AS job_type, job_descriptions.skills AS skills, job_descriptions.content AS content, job_descriptions.requirements AS requirements, job_descriptions.status AS status, job_descriptions.meta_data AS meta_data, job_descriptions.conversation_id AS conversation_id, job_descriptions.workflow_type AS workflow_type, job_descriptions.user_id AS user_id, job_descriptions.id AS id, job_descriptions.created_at AS created_at, job_descriptions.updated_at AS updated_at, job_descriptions.is_active AS is_active, job_descriptions.created_by AS created_by, job_descriptions.updated_by AS updated_by 
FROM job_descriptions 
WHERE job_descriptions.user_id = $1::UUID AND job_descriptions.is_active = true AND job_descriptions.status = $2::jdstatus) AS anon_1
2025-10-10 15:16:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 92.32s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'PUBLISHED')
2025-10-10 15:16:24 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:16:24 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:16:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID ORDER BY resume_evaluations.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-10 15:16:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 92.35s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 20, 0)
2025-10-10 15:16:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT job_descriptions.title, job_descriptions.department, job_descriptions.location, job_descriptions.salary_range, job_descriptions.experience_level, job_descriptions.education, job_descriptions.job_type, job_descriptions.skills, job_descriptions.content, job_descriptions.requirements, job_descriptions.status, job_descriptions.meta_data, job_descriptions.conversation_id, job_descriptions.workflow_type, job_descriptions.user_id, job_descriptions.id, job_descriptions.created_at, job_descriptions.updated_at, job_descriptions.is_active, job_descriptions.created_by, job_descriptions.updated_by 
FROM job_descriptions 
WHERE job_descriptions.user_id = $1::UUID AND job_descriptions.is_active = true AND job_descriptions.status = $2::jdstatus ORDER BY job_descriptions.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-10 15:16:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 72.13s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'PUBLISHED', 100, 0)
2025-10-10 15:16:24 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0994s
2025-10-10 15:16:24 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:16:24 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1363s
2025-10-10 15:16:24 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:16:27 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?page=1&size=10
2025-10-10 15:16:27 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/jd?page=1&size=100&status_filter=published
2025-10-10 15:16:27 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:16:27 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:16:27 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:16:27 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:16:27 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:16:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:16:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 675.5s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:16:27 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:16:27 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:16:27 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:16:27 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:16:27 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:16:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:16:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 675.5s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:16:27 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:16:27 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:16:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID ORDER BY resume_evaluations.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-10 15:16:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 96.1s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 20, 0)
2025-10-10 15:16:27 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:16:27 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:16:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT count(*) AS count_1 
FROM (SELECT job_descriptions.title AS title, job_descriptions.department AS department, job_descriptions.location AS location, job_descriptions.salary_range AS salary_range, job_descriptions.experience_level AS experience_level, job_descriptions.education AS education, job_descriptions.job_type AS job_type, job_descriptions.skills AS skills, job_descriptions.content AS content, job_descriptions.requirements AS requirements, job_descriptions.status AS status, job_descriptions.meta_data AS meta_data, job_descriptions.conversation_id AS conversation_id, job_descriptions.workflow_type AS workflow_type, job_descriptions.user_id AS user_id, job_descriptions.id AS id, job_descriptions.created_at AS created_at, job_descriptions.updated_at AS updated_at, job_descriptions.is_active AS is_active, job_descriptions.created_by AS created_by, job_descriptions.updated_by AS updated_by 
FROM job_descriptions 
WHERE job_descriptions.user_id = $1::UUID AND job_descriptions.is_active = true AND job_descriptions.status = $2::jdstatus) AS anon_1
2025-10-10 15:16:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 96.1s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'PUBLISHED')
2025-10-10 15:16:27 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0685s
2025-10-10 15:16:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT job_descriptions.title, job_descriptions.department, job_descriptions.location, job_descriptions.salary_range, job_descriptions.experience_level, job_descriptions.education, job_descriptions.job_type, job_descriptions.skills, job_descriptions.content, job_descriptions.requirements, job_descriptions.status, job_descriptions.meta_data, job_descriptions.conversation_id, job_descriptions.workflow_type, job_descriptions.user_id, job_descriptions.id, job_descriptions.created_at, job_descriptions.updated_at, job_descriptions.is_active, job_descriptions.created_by, job_descriptions.updated_by 
FROM job_descriptions 
WHERE job_descriptions.user_id = $1::UUID AND job_descriptions.is_active = true AND job_descriptions.status = $2::jdstatus ORDER BY job_descriptions.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-10 15:16:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 75.91s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'PUBLISHED', 100, 0)
2025-10-10 15:16:27 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:16:28 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1290s
2025-10-10 15:16:28 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:19:37 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-10 15:19:37 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-10 15:19:37 - main - INFO - main - lifespan - Database connections closed
2025-10-10 15:19:37 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-10 15:19:41 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-10 15:19:41 - main - INFO - main - lifespan - Logging configured
2025-10-10 15:19:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-10 15:19:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-10 15:19:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-10 15:19:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-10 15:19:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-10 15:19:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-10 15:19:42 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:19:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-10 15:19:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00046s] ()
2025-10-10 15:19:42 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-10 15:19:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:19:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00055s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:19:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:19:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.01852s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:19:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:19:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03047s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:19:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:19:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04271s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:19:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:19:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0492s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:19:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:19:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05631s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:19:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:19:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06424s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:19:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:19:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07205s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:19:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:19:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0789s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:19:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:19:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08632s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:19:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 15:19:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00033s] ('userrole', 'pg_catalog')
2025-10-10 15:19:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 15:19:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02415s ago] ('conversationstatus', 'pg_catalog')
2025-10-10 15:19:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 15:19:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03747s ago] ('messagerole', 'pg_catalog')
2025-10-10 15:19:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 15:19:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04577s ago] ('jdstatus', 'pg_catalog')
2025-10-10 15:19:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 15:19:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05554s ago] ('scoringstatus', 'pg_catalog')
2025-10-10 15:19:42 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-10 15:19:42 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-10 15:19:42 - main - INFO - main - lifespan - Database initialized successfully
2025-10-10 15:19:42 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-10 15:19:45 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-10 15:19:45 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-10 15:19:45 - main - INFO - main - lifespan - Database connections closed
2025-10-10 15:19:45 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-10 15:19:49 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-10 15:19:49 - main - INFO - main - lifespan - Logging configured
2025-10-10 15:19:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-10 15:19:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-10 15:19:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-10 15:19:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-10 15:19:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-10 15:19:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-10 15:19:49 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:19:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-10 15:19:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00041s] ()
2025-10-10 15:19:49 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-10 15:19:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:19:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00047s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:19:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:19:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.01813s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:19:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:19:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03028s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:19:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:19:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03905s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:19:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:19:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0475s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:19:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:19:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06415s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:19:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:19:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07441s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:19:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:19:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08265s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:19:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:19:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09651s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:19:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:19:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1065s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:19:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 15:19:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00045s] ('userrole', 'pg_catalog')
2025-10-10 15:19:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 15:19:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02221s ago] ('conversationstatus', 'pg_catalog')
2025-10-10 15:19:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 15:19:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03073s ago] ('messagerole', 'pg_catalog')
2025-10-10 15:19:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 15:19:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06146s ago] ('jdstatus', 'pg_catalog')
2025-10-10 15:19:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 15:19:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07139s ago] ('scoringstatus', 'pg_catalog')
2025-10-10 15:19:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 15:19:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07897s ago] ('resumestatus', 'pg_catalog')
2025-10-10 15:19:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE TYPE resumestatus AS ENUM ('PENDING', 'REJECTED', 'INTERVIEW')
2025-10-10 15:19:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00051s] ()
2025-10-10 15:19:49 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-10 15:19:49 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-10 15:19:49 - main - INFO - main - lifespan - Database initialized successfully
2025-10-10 15:19:49 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-10 15:19:55 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-10 15:19:55 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-10 15:19:55 - main - INFO - main - lifespan - Database connections closed
2025-10-10 15:19:55 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-10 15:19:59 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-10 15:19:59 - main - INFO - main - lifespan - Logging configured
2025-10-10 15:19:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-10 15:19:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-10 15:19:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-10 15:19:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-10 15:19:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-10 15:19:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-10 15:19:59 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:19:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-10 15:19:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00043s] ()
2025-10-10 15:19:59 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-10 15:19:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:19:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00055s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:19:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:19:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.01835s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:19:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:19:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02669s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:19:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:19:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03608s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:19:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:19:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04411s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:19:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:19:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05609s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:19:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:19:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06355s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:19:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:19:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0711s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:19:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:19:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07875s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:19:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:19:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08876s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:19:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 15:19:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00062s] ('userrole', 'pg_catalog')
2025-10-10 15:19:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 15:19:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02293s ago] ('conversationstatus', 'pg_catalog')
2025-10-10 15:19:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 15:19:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03463s ago] ('messagerole', 'pg_catalog')
2025-10-10 15:19:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 15:19:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0445s ago] ('jdstatus', 'pg_catalog')
2025-10-10 15:19:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 15:19:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05448s ago] ('scoringstatus', 'pg_catalog')
2025-10-10 15:19:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 15:19:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06537s ago] ('resumestatus', 'pg_catalog')
2025-10-10 15:19:59 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-10 15:19:59 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-10 15:19:59 - main - INFO - main - lifespan - Database initialized successfully
2025-10-10 15:19:59 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-10 15:20:12 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-10 15:20:12 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-10 15:20:12 - main - INFO - main - lifespan - Database connections closed
2025-10-10 15:20:12 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-10 15:20:16 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-10 15:20:16 - main - INFO - main - lifespan - Logging configured
2025-10-10 15:20:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-10 15:20:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-10 15:20:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-10 15:20:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-10 15:20:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-10 15:20:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-10 15:20:17 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:20:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-10 15:20:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00036s] ()
2025-10-10 15:20:17 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-10 15:20:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:20:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00077s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:20:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:20:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.01889s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:20:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:20:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02794s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:20:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:20:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03705s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:20:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:20:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04822s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:20:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:20:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05621s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:20:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:20:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06401s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:20:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:20:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.071s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:20:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:20:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08048s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:20:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:20:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08736s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:20:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 15:20:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00063s] ('userrole', 'pg_catalog')
2025-10-10 15:20:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 15:20:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.01687s ago] ('conversationstatus', 'pg_catalog')
2025-10-10 15:20:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 15:20:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02879s ago] ('messagerole', 'pg_catalog')
2025-10-10 15:20:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 15:20:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03807s ago] ('jdstatus', 'pg_catalog')
2025-10-10 15:20:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 15:20:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05448s ago] ('scoringstatus', 'pg_catalog')
2025-10-10 15:20:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 15:20:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06217s ago] ('resumestatus', 'pg_catalog')
2025-10-10 15:20:17 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-10 15:20:17 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-10 15:20:17 - main - INFO - main - lifespan - Database initialized successfully
2025-10-10 15:20:17 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-10 15:20:24 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-10 15:20:24 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-10 15:20:24 - main - INFO - main - lifespan - Database connections closed
2025-10-10 15:20:24 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-10 15:20:27 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-10 15:20:27 - main - INFO - main - lifespan - Logging configured
2025-10-10 15:20:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-10 15:20:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-10 15:20:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-10 15:20:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-10 15:20:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-10 15:20:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-10 15:20:28 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:20:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-10 15:20:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00037s] ()
2025-10-10 15:20:28 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-10 15:20:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:20:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00047s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:20:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:20:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.01934s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:20:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:20:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02718s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:20:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:20:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03458s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:20:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:20:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04173s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:20:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:20:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04865s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:20:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:20:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06038s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:20:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:20:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07218s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:20:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:20:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08094s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:20:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:20:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09102s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:20:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 15:20:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00046s] ('userrole', 'pg_catalog')
2025-10-10 15:20:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 15:20:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02215s ago] ('conversationstatus', 'pg_catalog')
2025-10-10 15:20:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 15:20:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03069s ago] ('messagerole', 'pg_catalog')
2025-10-10 15:20:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 15:20:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03947s ago] ('jdstatus', 'pg_catalog')
2025-10-10 15:20:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 15:20:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04919s ago] ('scoringstatus', 'pg_catalog')
2025-10-10 15:20:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 15:20:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05709s ago] ('resumestatus', 'pg_catalog')
2025-10-10 15:20:28 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-10 15:20:28 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-10 15:20:28 - main - INFO - main - lifespan - Database initialized successfully
2025-10-10 15:20:28 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-10 15:20:33 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-10 15:20:33 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-10 15:20:33 - main - INFO - main - lifespan - Database connections closed
2025-10-10 15:20:33 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-10 15:20:37 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-10 15:20:37 - main - INFO - main - lifespan - Logging configured
2025-10-10 15:20:38 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-10 15:20:38 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-10 15:20:38 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-10 15:20:38 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-10 15:20:38 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-10 15:20:38 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-10 15:20:38 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:20:38 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-10 15:20:38 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00034s] ()
2025-10-10 15:20:38 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-10 15:20:38 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:20:38 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00058s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:20:38 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:20:38 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.01939s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:20:38 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:20:38 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02783s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:20:38 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:20:38 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03555s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:20:38 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:20:38 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04843s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:20:38 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:20:38 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05574s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:20:38 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:20:38 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06719s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:20:38 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:20:38 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07883s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:20:38 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:20:38 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08669s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:20:38 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:20:38 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09482s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:20:38 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 15:20:38 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00058s] ('userrole', 'pg_catalog')
2025-10-10 15:20:38 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 15:20:38 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.01802s ago] ('conversationstatus', 'pg_catalog')
2025-10-10 15:20:38 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 15:20:38 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02412s ago] ('messagerole', 'pg_catalog')
2025-10-10 15:20:38 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 15:20:38 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03151s ago] ('jdstatus', 'pg_catalog')
2025-10-10 15:20:38 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 15:20:38 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04522s ago] ('scoringstatus', 'pg_catalog')
2025-10-10 15:20:38 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 15:20:38 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05489s ago] ('resumestatus', 'pg_catalog')
2025-10-10 15:20:38 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-10 15:20:38 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-10 15:20:38 - main - INFO - main - lifespan - Database initialized successfully
2025-10-10 15:20:38 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-10 15:20:43 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-10 15:20:43 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-10 15:20:43 - main - INFO - main - lifespan - Database connections closed
2025-10-10 15:20:43 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-10 15:20:47 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-10 15:20:47 - main - INFO - main - lifespan - Logging configured
2025-10-10 15:20:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-10 15:20:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-10 15:20:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-10 15:20:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-10 15:20:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-10 15:20:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-10 15:20:47 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:20:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-10 15:20:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00066s] ()
2025-10-10 15:20:47 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-10 15:20:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:20:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00067s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:20:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:20:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03408s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:20:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:20:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04301s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:20:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:20:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05761s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:20:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:20:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07467s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:20:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:20:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08903s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:20:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:20:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09969s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:20:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:20:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.11s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:20:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:20:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1218s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:20:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:20:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1321s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:20:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 15:20:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00121s] ('userrole', 'pg_catalog')
2025-10-10 15:20:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 15:20:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0405s ago] ('conversationstatus', 'pg_catalog')
2025-10-10 15:20:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 15:20:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06706s ago] ('messagerole', 'pg_catalog')
2025-10-10 15:20:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 15:20:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0831s ago] ('jdstatus', 'pg_catalog')
2025-10-10 15:20:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 15:20:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1006s ago] ('scoringstatus', 'pg_catalog')
2025-10-10 15:20:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 15:20:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1085s ago] ('resumestatus', 'pg_catalog')
2025-10-10 15:20:47 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-10 15:20:47 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-10 15:20:47 - main - INFO - main - lifespan - Database initialized successfully
2025-10-10 15:20:47 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-10 15:21:03 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-10 15:21:03 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-10 15:21:03 - main - INFO - main - lifespan - Database connections closed
2025-10-10 15:21:03 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-10 15:21:07 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-10 15:21:07 - main - INFO - main - lifespan - Logging configured
2025-10-10 15:21:07 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-10 15:21:07 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-10 15:21:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-10 15:21:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-10 15:21:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-10 15:21:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-10 15:21:08 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:21:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-10 15:21:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00038s] ()
2025-10-10 15:21:08 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-10 15:21:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:21:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00049s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:21:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:21:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02344s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:21:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:21:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03479s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:21:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:21:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04141s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:21:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:21:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05095s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:21:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:21:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05897s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:21:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:21:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06537s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:21:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:21:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07393s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:21:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:21:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08204s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:21:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:21:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09246s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:21:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 15:21:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00045s] ('userrole', 'pg_catalog')
2025-10-10 15:21:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 15:21:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.01685s ago] ('conversationstatus', 'pg_catalog')
2025-10-10 15:21:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 15:21:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02529s ago] ('messagerole', 'pg_catalog')
2025-10-10 15:21:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 15:21:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03331s ago] ('jdstatus', 'pg_catalog')
2025-10-10 15:21:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 15:21:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0405s ago] ('scoringstatus', 'pg_catalog')
2025-10-10 15:21:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 15:21:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04875s ago] ('resumestatus', 'pg_catalog')
2025-10-10 15:21:08 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-10 15:21:08 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-10 15:21:08 - main - INFO - main - lifespan - Database initialized successfully
2025-10-10 15:21:08 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-10 15:21:14 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-10 15:21:14 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-10 15:21:14 - main - INFO - main - lifespan - Database connections closed
2025-10-10 15:21:14 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-10 15:21:17 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-10 15:21:17 - main - INFO - main - lifespan - Logging configured
2025-10-10 15:21:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-10 15:21:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-10 15:21:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-10 15:21:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-10 15:21:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-10 15:21:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-10 15:21:17 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:21:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-10 15:21:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00089s] ()
2025-10-10 15:21:18 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-10 15:21:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:21:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00089s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:21:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:21:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02054s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:21:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:21:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03058s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:21:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:21:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04152s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:21:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:21:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05197s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:21:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:21:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06205s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:21:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:21:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06906s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:21:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:21:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07479s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:21:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:21:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08078s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:21:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:21:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08904s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:21:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 15:21:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00097s] ('userrole', 'pg_catalog')
2025-10-10 15:21:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 15:21:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0207s ago] ('conversationstatus', 'pg_catalog')
2025-10-10 15:21:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 15:21:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03063s ago] ('messagerole', 'pg_catalog')
2025-10-10 15:21:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 15:21:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0387s ago] ('jdstatus', 'pg_catalog')
2025-10-10 15:21:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 15:21:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04514s ago] ('scoringstatus', 'pg_catalog')
2025-10-10 15:21:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 15:21:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05443s ago] ('resumestatus', 'pg_catalog')
2025-10-10 15:21:18 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-10 15:21:18 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-10 15:21:18 - main - INFO - main - lifespan - Database initialized successfully
2025-10-10 15:21:18 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-10 15:21:26 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?page=1&size=10
2025-10-10 15:21:26 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/jd?page=1&size=100&status_filter=published
2025-10-10 15:21:26 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:21:26 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:21:26 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:21:26 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:21:26 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:21:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:21:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00053s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:21:26 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:21:26 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:21:26 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:21:26 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:21:26 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:21:26 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:21:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID ORDER BY resume_evaluations.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-10 15:21:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00035s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 20, 0)
2025-10-10 15:21:26 - app.services.resume_evaluation_service - ERROR - resume_evaluation_service - get_evaluation_history - 获取评价历史失败: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column resume_evaluations.status does not exist
[SQL: SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID ORDER BY resume_evaluations.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 20, 0)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-10-10 15:21:26 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1698s
2025-10-10 15:21:26 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:21:26 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?page=1&size=10
2025-10-10 15:21:26 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:21:26 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:21:26 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:21:26 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:21:26 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:21:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:21:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.146s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:21:26 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:21:26 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:21:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT count(*) AS count_1 
FROM (SELECT job_descriptions.title AS title, job_descriptions.department AS department, job_descriptions.location AS location, job_descriptions.salary_range AS salary_range, job_descriptions.experience_level AS experience_level, job_descriptions.education AS education, job_descriptions.job_type AS job_type, job_descriptions.skills AS skills, job_descriptions.content AS content, job_descriptions.requirements AS requirements, job_descriptions.status AS status, job_descriptions.meta_data AS meta_data, job_descriptions.conversation_id AS conversation_id, job_descriptions.workflow_type AS workflow_type, job_descriptions.user_id AS user_id, job_descriptions.id AS id, job_descriptions.created_at AS created_at, job_descriptions.updated_at AS updated_at, job_descriptions.is_active AS is_active, job_descriptions.created_by AS created_by, job_descriptions.updated_by AS updated_by 
FROM job_descriptions 
WHERE job_descriptions.user_id = $1::UUID AND job_descriptions.is_active = true AND job_descriptions.status = $2::jdstatus) AS anon_1
2025-10-10 15:21:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00036s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'PUBLISHED')
2025-10-10 15:21:26 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:21:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:21:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.2739s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:21:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT job_descriptions.title, job_descriptions.department, job_descriptions.location, job_descriptions.salary_range, job_descriptions.experience_level, job_descriptions.education, job_descriptions.job_type, job_descriptions.skills, job_descriptions.content, job_descriptions.requirements, job_descriptions.status, job_descriptions.meta_data, job_descriptions.conversation_id, job_descriptions.workflow_type, job_descriptions.user_id, job_descriptions.id, job_descriptions.created_at, job_descriptions.updated_at, job_descriptions.is_active, job_descriptions.created_by, job_descriptions.updated_by 
FROM job_descriptions 
WHERE job_descriptions.user_id = $1::UUID AND job_descriptions.is_active = true AND job_descriptions.status = $2::jdstatus ORDER BY job_descriptions.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-10 15:21:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00051s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'PUBLISHED', 100, 0)
2025-10-10 15:21:27 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.4296s
2025-10-10 15:21:27 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:21:27 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/jd?page=1&size=100&status_filter=published
2025-10-10 15:21:27 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:21:27 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:21:27 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:21:27 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:21:27 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:21:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:21:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.4058s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:21:27 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:21:27 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:21:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID ORDER BY resume_evaluations.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-10 15:21:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.3073s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 20, 0)
2025-10-10 15:21:27 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:21:27 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:21:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT count(*) AS count_1 
FROM (SELECT job_descriptions.title AS title, job_descriptions.department AS department, job_descriptions.location AS location, job_descriptions.salary_range AS salary_range, job_descriptions.experience_level AS experience_level, job_descriptions.education AS education, job_descriptions.job_type AS job_type, job_descriptions.skills AS skills, job_descriptions.content AS content, job_descriptions.requirements AS requirements, job_descriptions.status AS status, job_descriptions.meta_data AS meta_data, job_descriptions.conversation_id AS conversation_id, job_descriptions.workflow_type AS workflow_type, job_descriptions.user_id AS user_id, job_descriptions.id AS id, job_descriptions.created_at AS created_at, job_descriptions.updated_at AS updated_at, job_descriptions.is_active AS is_active, job_descriptions.created_by AS created_by, job_descriptions.updated_by AS updated_by 
FROM job_descriptions 
WHERE job_descriptions.user_id = $1::UUID AND job_descriptions.is_active = true AND job_descriptions.status = $2::jdstatus) AS anon_1
2025-10-10 15:21:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1866s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'PUBLISHED')
2025-10-10 15:21:27 - app.services.resume_evaluation_service - ERROR - resume_evaluation_service - get_evaluation_history - 获取评价历史失败: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column resume_evaluations.status does not exist
[SQL: SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID ORDER BY resume_evaluations.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 20, 0)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-10-10 15:21:27 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.3646s
2025-10-10 15:21:27 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:21:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT job_descriptions.title, job_descriptions.department, job_descriptions.location, job_descriptions.salary_range, job_descriptions.experience_level, job_descriptions.education, job_descriptions.job_type, job_descriptions.skills, job_descriptions.content, job_descriptions.requirements, job_descriptions.status, job_descriptions.meta_data, job_descriptions.conversation_id, job_descriptions.workflow_type, job_descriptions.user_id, job_descriptions.id, job_descriptions.created_at, job_descriptions.updated_at, job_descriptions.is_active, job_descriptions.created_by, job_descriptions.updated_by 
FROM job_descriptions 
WHERE job_descriptions.user_id = $1::UUID AND job_descriptions.is_active = true AND job_descriptions.status = $2::jdstatus ORDER BY job_descriptions.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-10 15:21:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00063s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'PUBLISHED', 100, 0)
2025-10-10 15:21:27 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.2260s
2025-10-10 15:21:27 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:22:07 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/jd?page=1&size=100&status_filter=published
2025-10-10 15:22:07 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?page=1&size=10
2025-10-10 15:22:07 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:22:07 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:22:07 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:22:07 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:22:07 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:22:07 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:22:07 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 41.11s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:22:07 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:22:07 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:22:07 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:22:07 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:22:07 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:22:07 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:22:07 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 41.11s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:22:07 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:22:07 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:22:07 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT count(*) AS count_1 
FROM (SELECT job_descriptions.title AS title, job_descriptions.department AS department, job_descriptions.location AS location, job_descriptions.salary_range AS salary_range, job_descriptions.experience_level AS experience_level, job_descriptions.education AS education, job_descriptions.job_type AS job_type, job_descriptions.skills AS skills, job_descriptions.content AS content, job_descriptions.requirements AS requirements, job_descriptions.status AS status, job_descriptions.meta_data AS meta_data, job_descriptions.conversation_id AS conversation_id, job_descriptions.workflow_type AS workflow_type, job_descriptions.user_id AS user_id, job_descriptions.id AS id, job_descriptions.created_at AS created_at, job_descriptions.updated_at AS updated_at, job_descriptions.is_active AS is_active, job_descriptions.created_by AS created_by, job_descriptions.updated_by AS updated_by 
FROM job_descriptions 
WHERE job_descriptions.user_id = $1::UUID AND job_descriptions.is_active = true AND job_descriptions.status = $2::jdstatus) AS anon_1
2025-10-10 15:22:07 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 40.87s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'PUBLISHED')
2025-10-10 15:22:07 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:22:07 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:22:07 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID ORDER BY resume_evaluations.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-10 15:22:07 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 41.01s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 20, 0)
2025-10-10 15:22:07 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT job_descriptions.title, job_descriptions.department, job_descriptions.location, job_descriptions.salary_range, job_descriptions.experience_level, job_descriptions.education, job_descriptions.job_type, job_descriptions.skills, job_descriptions.content, job_descriptions.requirements, job_descriptions.status, job_descriptions.meta_data, job_descriptions.conversation_id, job_descriptions.workflow_type, job_descriptions.user_id, job_descriptions.id, job_descriptions.created_at, job_descriptions.updated_at, job_descriptions.is_active, job_descriptions.created_by, job_descriptions.updated_by 
FROM job_descriptions 
WHERE job_descriptions.user_id = $1::UUID AND job_descriptions.is_active = true AND job_descriptions.status = $2::jdstatus ORDER BY job_descriptions.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-10 15:22:07 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 40.58s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'PUBLISHED', 100, 0)
2025-10-10 15:22:07 - app.services.resume_evaluation_service - ERROR - resume_evaluation_service - get_evaluation_history - 获取评价历史失败: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column resume_evaluations.status does not exist
[SQL: SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID ORDER BY resume_evaluations.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 20, 0)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-10-10 15:22:07 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0580s
2025-10-10 15:22:07 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:22:07 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0630s
2025-10-10 15:22:07 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:22:32 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?page=1&size=10
2025-10-10 15:22:32 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/jd?page=1&size=100&status_filter=published
2025-10-10 15:22:32 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:22:32 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:22:32 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:22:32 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:22:32 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:22:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:22:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 65.69s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:22:32 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:22:32 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:22:32 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:22:32 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:22:32 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:22:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:22:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 65.69s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:22:32 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:22:32 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:22:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID ORDER BY resume_evaluations.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-10 15:22:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 65.6s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 20, 0)
2025-10-10 15:22:32 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:22:32 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:22:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT count(*) AS count_1 
FROM (SELECT job_descriptions.title AS title, job_descriptions.department AS department, job_descriptions.location AS location, job_descriptions.salary_range AS salary_range, job_descriptions.experience_level AS experience_level, job_descriptions.education AS education, job_descriptions.job_type AS job_type, job_descriptions.skills AS skills, job_descriptions.content AS content, job_descriptions.requirements AS requirements, job_descriptions.status AS status, job_descriptions.meta_data AS meta_data, job_descriptions.conversation_id AS conversation_id, job_descriptions.workflow_type AS workflow_type, job_descriptions.user_id AS user_id, job_descriptions.id AS id, job_descriptions.created_at AS created_at, job_descriptions.updated_at AS updated_at, job_descriptions.is_active AS is_active, job_descriptions.created_by AS created_by, job_descriptions.updated_by AS updated_by 
FROM job_descriptions 
WHERE job_descriptions.user_id = $1::UUID AND job_descriptions.is_active = true AND job_descriptions.status = $2::jdstatus) AS anon_1
2025-10-10 15:22:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 65.48s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'PUBLISHED')
2025-10-10 15:22:32 - app.services.resume_evaluation_service - ERROR - resume_evaluation_service - get_evaluation_history - 获取评价历史失败: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column resume_evaluations.status does not exist
[SQL: SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID ORDER BY resume_evaluations.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 20, 0)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-10-10 15:22:32 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0547s
2025-10-10 15:22:32 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:22:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT job_descriptions.title, job_descriptions.department, job_descriptions.location, job_descriptions.salary_range, job_descriptions.experience_level, job_descriptions.education, job_descriptions.job_type, job_descriptions.skills, job_descriptions.content, job_descriptions.requirements, job_descriptions.status, job_descriptions.meta_data, job_descriptions.conversation_id, job_descriptions.workflow_type, job_descriptions.user_id, job_descriptions.id, job_descriptions.created_at, job_descriptions.updated_at, job_descriptions.is_active, job_descriptions.created_by, job_descriptions.updated_by 
FROM job_descriptions 
WHERE job_descriptions.user_id = $1::UUID AND job_descriptions.is_active = true AND job_descriptions.status = $2::jdstatus ORDER BY job_descriptions.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-10 15:22:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 65.23s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'PUBLISHED', 100, 0)
2025-10-10 15:22:32 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1513s
2025-10-10 15:22:32 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:22:40 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/jd?page=1&size=100&status_filter=published
2025-10-10 15:22:40 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?page=1&size=10
2025-10-10 15:22:40 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:22:40 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:22:40 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:22:40 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:22:40 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:22:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:22:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 74.06s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:22:40 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:22:40 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:22:40 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:22:40 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:22:40 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:22:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:22:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 74.07s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:22:40 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:22:40 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:22:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID ORDER BY resume_evaluations.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-10 15:22:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 73.96s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 20, 0)
2025-10-10 15:22:40 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:22:40 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:22:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT count(*) AS count_1 
FROM (SELECT job_descriptions.title AS title, job_descriptions.department AS department, job_descriptions.location AS location, job_descriptions.salary_range AS salary_range, job_descriptions.experience_level AS experience_level, job_descriptions.education AS education, job_descriptions.job_type AS job_type, job_descriptions.skills AS skills, job_descriptions.content AS content, job_descriptions.requirements AS requirements, job_descriptions.status AS status, job_descriptions.meta_data AS meta_data, job_descriptions.conversation_id AS conversation_id, job_descriptions.workflow_type AS workflow_type, job_descriptions.user_id AS user_id, job_descriptions.id AS id, job_descriptions.created_at AS created_at, job_descriptions.updated_at AS updated_at, job_descriptions.is_active AS is_active, job_descriptions.created_by AS created_by, job_descriptions.updated_by AS updated_by 
FROM job_descriptions 
WHERE job_descriptions.user_id = $1::UUID AND job_descriptions.is_active = true AND job_descriptions.status = $2::jdstatus) AS anon_1
2025-10-10 15:22:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 73.83s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'PUBLISHED')
2025-10-10 15:22:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT job_descriptions.title, job_descriptions.department, job_descriptions.location, job_descriptions.salary_range, job_descriptions.experience_level, job_descriptions.education, job_descriptions.job_type, job_descriptions.skills, job_descriptions.content, job_descriptions.requirements, job_descriptions.status, job_descriptions.meta_data, job_descriptions.conversation_id, job_descriptions.workflow_type, job_descriptions.user_id, job_descriptions.id, job_descriptions.created_at, job_descriptions.updated_at, job_descriptions.is_active, job_descriptions.created_by, job_descriptions.updated_by 
FROM job_descriptions 
WHERE job_descriptions.user_id = $1::UUID AND job_descriptions.is_active = true AND job_descriptions.status = $2::jdstatus ORDER BY job_descriptions.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-10 15:22:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 73.54s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'PUBLISHED', 100, 0)
2025-10-10 15:22:40 - app.services.resume_evaluation_service - ERROR - resume_evaluation_service - get_evaluation_history - 获取评价历史失败: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column resume_evaluations.status does not exist
[SQL: SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID ORDER BY resume_evaluations.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 20, 0)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-10-10 15:22:40 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0442s
2025-10-10 15:22:40 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:22:40 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0792s
2025-10-10 15:22:40 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:22:46 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?page=1&size=10
2025-10-10 15:22:46 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:22:46 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:22:46 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:22:46 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:22:46 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:22:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:22:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 79.85s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:22:46 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/jd?page=1&size=100&status_filter=published
2025-10-10 15:22:46 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:22:46 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:22:46 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:22:46 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:22:46 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:22:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:22:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 79.85s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:22:46 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:22:46 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:22:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID ORDER BY resume_evaluations.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-10 15:22:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 79.96s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 20, 0)
2025-10-10 15:22:46 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:22:46 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:22:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT count(*) AS count_1 
FROM (SELECT job_descriptions.title AS title, job_descriptions.department AS department, job_descriptions.location AS location, job_descriptions.salary_range AS salary_range, job_descriptions.experience_level AS experience_level, job_descriptions.education AS education, job_descriptions.job_type AS job_type, job_descriptions.skills AS skills, job_descriptions.content AS content, job_descriptions.requirements AS requirements, job_descriptions.status AS status, job_descriptions.meta_data AS meta_data, job_descriptions.conversation_id AS conversation_id, job_descriptions.workflow_type AS workflow_type, job_descriptions.user_id AS user_id, job_descriptions.id AS id, job_descriptions.created_at AS created_at, job_descriptions.updated_at AS updated_at, job_descriptions.is_active AS is_active, job_descriptions.created_by AS created_by, job_descriptions.updated_by AS updated_by 
FROM job_descriptions 
WHERE job_descriptions.user_id = $1::UUID AND job_descriptions.is_active = true AND job_descriptions.status = $2::jdstatus) AS anon_1
2025-10-10 15:22:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 79.83s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'PUBLISHED')
2025-10-10 15:22:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT job_descriptions.title, job_descriptions.department, job_descriptions.location, job_descriptions.salary_range, job_descriptions.experience_level, job_descriptions.education, job_descriptions.job_type, job_descriptions.skills, job_descriptions.content, job_descriptions.requirements, job_descriptions.status, job_descriptions.meta_data, job_descriptions.conversation_id, job_descriptions.workflow_type, job_descriptions.user_id, job_descriptions.id, job_descriptions.created_at, job_descriptions.updated_at, job_descriptions.is_active, job_descriptions.created_by, job_descriptions.updated_by 
FROM job_descriptions 
WHERE job_descriptions.user_id = $1::UUID AND job_descriptions.is_active = true AND job_descriptions.status = $2::jdstatus ORDER BY job_descriptions.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-10 15:22:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 79.62s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'PUBLISHED', 100, 0)
2025-10-10 15:22:46 - app.services.resume_evaluation_service - ERROR - resume_evaluation_service - get_evaluation_history - 获取评价历史失败: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column resume_evaluations.status does not exist
[SQL: SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID ORDER BY resume_evaluations.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 20, 0)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-10-10 15:22:46 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.3780s
2025-10-10 15:22:46 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:22:46 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.4027s
2025-10-10 15:22:46 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:27:29 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/jd?page=1&size=10
2025-10-10 15:27:29 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:27:29 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:27:29 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:27:29 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:27:29 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:27:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:27:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 362.8s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:27:30 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?page=1&size=10
2025-10-10 15:27:30 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/jd?page=1&size=100&status_filter=published
2025-10-10 15:27:30 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:27:30 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:27:30 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:27:30 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:27:30 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:27:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:27:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 363.7s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:27:30 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:27:30 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:27:30 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:27:30 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:27:30 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:27:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:27:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 363.7s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:27:44 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-10 15:27:44 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:27:44 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:27:44 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:27:44 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:27:44 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:27:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:27:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 377.8s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:27:44 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:27:44 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:27:44 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-10 15:27:44 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-10 15:27:44 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-10 15:27:44 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-10 15:27:44 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.3069s
2025-10-10 15:27:44 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:27:44 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-10 15:27:44 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:27:44 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:27:44 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:27:44 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:27:44 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:27:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:27:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 378.1s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:27:44 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:27:44 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:27:44 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-10 15:27:44 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-10 15:27:44 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-10 15:27:44 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-10 15:27:44 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.2392s
2025-10-10 15:27:44 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:27:45 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/jd?page=1&size=10
2025-10-10 15:27:45 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:27:45 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:27:45 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:27:45 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:27:45 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:27:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:27:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 378.4s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:27:45 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:27:45 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:27:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT count(*) AS count_1 
FROM (SELECT job_descriptions.title AS title, job_descriptions.department AS department, job_descriptions.location AS location, job_descriptions.salary_range AS salary_range, job_descriptions.experience_level AS experience_level, job_descriptions.education AS education, job_descriptions.job_type AS job_type, job_descriptions.skills AS skills, job_descriptions.content AS content, job_descriptions.requirements AS requirements, job_descriptions.status AS status, job_descriptions.meta_data AS meta_data, job_descriptions.conversation_id AS conversation_id, job_descriptions.workflow_type AS workflow_type, job_descriptions.user_id AS user_id, job_descriptions.id AS id, job_descriptions.created_at AS created_at, job_descriptions.updated_at AS updated_at, job_descriptions.is_active AS is_active, job_descriptions.created_by AS created_by, job_descriptions.updated_by AS updated_by 
FROM job_descriptions 
WHERE job_descriptions.user_id = $1::UUID AND job_descriptions.is_active = true) AS anon_1
2025-10-10 15:27:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00232s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:27:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT job_descriptions.title, job_descriptions.department, job_descriptions.location, job_descriptions.salary_range, job_descriptions.experience_level, job_descriptions.education, job_descriptions.job_type, job_descriptions.skills, job_descriptions.content, job_descriptions.requirements, job_descriptions.status, job_descriptions.meta_data, job_descriptions.conversation_id, job_descriptions.workflow_type, job_descriptions.user_id, job_descriptions.id, job_descriptions.created_at, job_descriptions.updated_at, job_descriptions.is_active, job_descriptions.created_by, job_descriptions.updated_by 
FROM job_descriptions 
WHERE job_descriptions.user_id = $1::UUID AND job_descriptions.is_active = true ORDER BY job_descriptions.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-10 15:27:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00125s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 10, 0)
2025-10-10 15:27:45 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1403s
2025-10-10 15:27:45 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:27:47 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?page=1&size=10
2025-10-10 15:27:47 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/jd?page=1&size=100&status_filter=published
2025-10-10 15:27:47 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:27:47 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:27:47 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:27:47 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:27:47 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:27:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:27:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 381s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:27:47 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:27:47 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:27:47 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:27:47 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:27:47 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:27:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:27:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 381s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:27:47 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:27:47 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:27:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID ORDER BY resume_evaluations.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-10 15:27:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 380.9s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 20, 0)
2025-10-10 15:27:47 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:27:47 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:27:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT count(*) AS count_1 
FROM (SELECT job_descriptions.title AS title, job_descriptions.department AS department, job_descriptions.location AS location, job_descriptions.salary_range AS salary_range, job_descriptions.experience_level AS experience_level, job_descriptions.education AS education, job_descriptions.job_type AS job_type, job_descriptions.skills AS skills, job_descriptions.content AS content, job_descriptions.requirements AS requirements, job_descriptions.status AS status, job_descriptions.meta_data AS meta_data, job_descriptions.conversation_id AS conversation_id, job_descriptions.workflow_type AS workflow_type, job_descriptions.user_id AS user_id, job_descriptions.id AS id, job_descriptions.created_at AS created_at, job_descriptions.updated_at AS updated_at, job_descriptions.is_active AS is_active, job_descriptions.created_by AS created_by, job_descriptions.updated_by AS updated_by 
FROM job_descriptions 
WHERE job_descriptions.user_id = $1::UUID AND job_descriptions.is_active = true AND job_descriptions.status = $2::jdstatus) AS anon_1
2025-10-10 15:27:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 380.8s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'PUBLISHED')
2025-10-10 15:27:47 - app.services.resume_evaluation_service - ERROR - resume_evaluation_service - get_evaluation_history - 获取评价历史失败: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column resume_evaluations.status does not exist
[SQL: SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID ORDER BY resume_evaluations.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 20, 0)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-10-10 15:27:47 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0837s
2025-10-10 15:27:47 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:27:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT job_descriptions.title, job_descriptions.department, job_descriptions.location, job_descriptions.salary_range, job_descriptions.experience_level, job_descriptions.education, job_descriptions.job_type, job_descriptions.skills, job_descriptions.content, job_descriptions.requirements, job_descriptions.status, job_descriptions.meta_data, job_descriptions.conversation_id, job_descriptions.workflow_type, job_descriptions.user_id, job_descriptions.id, job_descriptions.created_at, job_descriptions.updated_at, job_descriptions.is_active, job_descriptions.created_by, job_descriptions.updated_by 
FROM job_descriptions 
WHERE job_descriptions.user_id = $1::UUID AND job_descriptions.is_active = true AND job_descriptions.status = $2::jdstatus ORDER BY job_descriptions.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-10 15:27:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 380.5s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'PUBLISHED', 100, 0)
2025-10-10 15:27:47 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1803s
2025-10-10 15:27:47 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:28:03 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-10 15:28:03 - main - INFO - main - lifespan - Logging configured
2025-10-10 15:28:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-10 15:28:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-10 15:28:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-10 15:28:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-10 15:28:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-10 15:28:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-10 15:28:03 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:28:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-10 15:28:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00069s] ()
2025-10-10 15:28:03 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-10 15:28:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:28:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00179s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:28:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:28:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02391s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:28:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:28:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03474s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:28:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:28:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0459s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:28:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:28:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05605s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:28:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:28:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06549s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:28:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:28:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07695s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:28:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:28:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08852s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:28:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:28:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09816s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:28:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:28:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1089s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:28:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 15:28:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00081s] ('userrole', 'pg_catalog')
2025-10-10 15:28:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 15:28:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02059s ago] ('conversationstatus', 'pg_catalog')
2025-10-10 15:28:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 15:28:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03097s ago] ('messagerole', 'pg_catalog')
2025-10-10 15:28:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 15:28:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0412s ago] ('jdstatus', 'pg_catalog')
2025-10-10 15:28:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 15:28:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0531s ago] ('scoringstatus', 'pg_catalog')
2025-10-10 15:28:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 15:28:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0626s ago] ('resumestatus', 'pg_catalog')
2025-10-10 15:28:03 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-10 15:28:03 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-10 15:28:03 - main - INFO - main - lifespan - Database initialized successfully
2025-10-10 15:28:03 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-10 15:28:04 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/auth/login
2025-10-10 15:28:04 - app.api.v1.endpoints.auth - INFO - auth - login - Login attempt for username: testuser
2025-10-10 15:28:04 - app.api.v1.endpoints.auth - INFO - auth - login - UserService created successfully
2025-10-10 15:28:04 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:28:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.username = $1::VARCHAR AND users.is_active = true
2025-10-10 15:28:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00083s] ('testuser',)
2025-10-10 15:28:04 - passlib.handlers.bcrypt - WARNING - bcrypt - _load_backend_mixin - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\passlib\handlers\bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-10-10 15:28:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - UPDATE users SET last_login=now(), updated_at=$1::TIMESTAMP WITHOUT TIME ZONE WHERE users.id = $2::UUID
2025-10-10 15:28:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00189s] (datetime.datetime(2025, 10, 10, 7, 28, 4, 612424), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-10 15:28:04 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-10 15:28:04 - app.api.v1.endpoints.auth - INFO - auth - login - Authentication result: True
2025-10-10 15:28:04 - app.api.v1.endpoints.auth - INFO - auth - login - Creating access token for user: testuser
2025-10-10 15:28:04 - app.api.v1.endpoints.auth - INFO - auth - login - Login successful for user: testuser
2025-10-10 15:28:04 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.4375s
2025-10-10 15:28:04 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-10 15:28:04 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:28:04 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:28:04 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:28:04 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:28:04 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:28:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:28:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00203s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:28:04 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:28:04 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:28:04 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-10 15:28:04 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-10 15:28:04 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-10 15:28:04 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-10 15:28:04 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0785s
2025-10-10 15:28:04 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:28:07 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-10 15:28:07 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:28:07 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:28:07 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:28:07 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:28:07 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:28:07 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:28:07 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2.473s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:28:07 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:28:07 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:28:07 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-10 15:28:07 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-10 15:28:07 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-10 15:28:07 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-10 15:28:07 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0315s
2025-10-10 15:28:07 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:28:07 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-10 15:28:07 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:28:07 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:28:07 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:28:07 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:28:07 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:28:07 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:28:07 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2.63s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:28:07 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:28:07 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:28:07 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-10 15:28:07 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-10 15:28:07 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-10 15:28:07 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-10 15:28:07 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.2146s
2025-10-10 15:28:07 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:28:07 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/jd?page=1&size=10
2025-10-10 15:28:07 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:28:07 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:28:07 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:28:07 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:28:07 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:28:07 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:28:07 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2.972s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:28:07 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:28:07 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:28:07 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT count(*) AS count_1 
FROM (SELECT job_descriptions.title AS title, job_descriptions.department AS department, job_descriptions.location AS location, job_descriptions.salary_range AS salary_range, job_descriptions.experience_level AS experience_level, job_descriptions.education AS education, job_descriptions.job_type AS job_type, job_descriptions.skills AS skills, job_descriptions.content AS content, job_descriptions.requirements AS requirements, job_descriptions.status AS status, job_descriptions.meta_data AS meta_data, job_descriptions.conversation_id AS conversation_id, job_descriptions.workflow_type AS workflow_type, job_descriptions.user_id AS user_id, job_descriptions.id AS id, job_descriptions.created_at AS created_at, job_descriptions.updated_at AS updated_at, job_descriptions.is_active AS is_active, job_descriptions.created_by AS created_by, job_descriptions.updated_by AS updated_by 
FROM job_descriptions 
WHERE job_descriptions.user_id = $1::UUID AND job_descriptions.is_active = true) AS anon_1
2025-10-10 15:28:07 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00124s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:28:07 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT job_descriptions.title, job_descriptions.department, job_descriptions.location, job_descriptions.salary_range, job_descriptions.experience_level, job_descriptions.education, job_descriptions.job_type, job_descriptions.skills, job_descriptions.content, job_descriptions.requirements, job_descriptions.status, job_descriptions.meta_data, job_descriptions.conversation_id, job_descriptions.workflow_type, job_descriptions.user_id, job_descriptions.id, job_descriptions.created_at, job_descriptions.updated_at, job_descriptions.is_active, job_descriptions.created_by, job_descriptions.updated_by 
FROM job_descriptions 
WHERE job_descriptions.user_id = $1::UUID AND job_descriptions.is_active = true ORDER BY job_descriptions.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-10 15:28:07 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00138s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 10, 0)
2025-10-10 15:28:07 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1247s
2025-10-10 15:28:07 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:28:09 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/jd?page=1&size=100&status_filter=published
2025-10-10 15:28:09 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?page=1&size=10
2025-10-10 15:28:09 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:28:09 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:28:09 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:28:09 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:28:09 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:28:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:28:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 5.194s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:28:09 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:28:09 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:28:09 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:28:09 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:28:09 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:28:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:28:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 5.208s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:28:09 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:28:09 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:28:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT count(*) AS count_1 
FROM (SELECT job_descriptions.title AS title, job_descriptions.department AS department, job_descriptions.location AS location, job_descriptions.salary_range AS salary_range, job_descriptions.experience_level AS experience_level, job_descriptions.education AS education, job_descriptions.job_type AS job_type, job_descriptions.skills AS skills, job_descriptions.content AS content, job_descriptions.requirements AS requirements, job_descriptions.status AS status, job_descriptions.meta_data AS meta_data, job_descriptions.conversation_id AS conversation_id, job_descriptions.workflow_type AS workflow_type, job_descriptions.user_id AS user_id, job_descriptions.id AS id, job_descriptions.created_at AS created_at, job_descriptions.updated_at AS updated_at, job_descriptions.is_active AS is_active, job_descriptions.created_by AS created_by, job_descriptions.updated_by AS updated_by 
FROM job_descriptions 
WHERE job_descriptions.user_id = $1::UUID AND job_descriptions.is_active = true AND job_descriptions.status = $2::jdstatus) AS anon_1
2025-10-10 15:28:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00204s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'PUBLISHED')
2025-10-10 15:28:09 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:28:09 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:28:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID ORDER BY resume_evaluations.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-10 15:28:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00227s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 20, 0)
2025-10-10 15:28:09 - app.services.resume_evaluation_service - ERROR - resume_evaluation_service - get_evaluation_history - 获取评价历史失败: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column resume_evaluations.status does not exist
[SQL: SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID ORDER BY resume_evaluations.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 20, 0)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-10-10 15:28:09 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0872s
2025-10-10 15:28:09 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:28:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT job_descriptions.title, job_descriptions.department, job_descriptions.location, job_descriptions.salary_range, job_descriptions.experience_level, job_descriptions.education, job_descriptions.job_type, job_descriptions.skills, job_descriptions.content, job_descriptions.requirements, job_descriptions.status, job_descriptions.meta_data, job_descriptions.conversation_id, job_descriptions.workflow_type, job_descriptions.user_id, job_descriptions.id, job_descriptions.created_at, job_descriptions.updated_at, job_descriptions.is_active, job_descriptions.created_by, job_descriptions.updated_by 
FROM job_descriptions 
WHERE job_descriptions.user_id = $1::UUID AND job_descriptions.is_active = true AND job_descriptions.status = $2::jdstatus ORDER BY job_descriptions.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-10 15:28:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00089s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'PUBLISHED', 100, 0)
2025-10-10 15:28:10 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1684s
2025-10-10 15:28:10 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:48:20 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/auth/login
2025-10-10 15:48:20 - app.api.v1.endpoints.auth - INFO - auth - login - Login attempt for username: testuser
2025-10-10 15:48:20 - app.api.v1.endpoints.auth - INFO - auth - login - UserService created successfully
2025-10-10 15:48:20 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:48:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.username = $1::VARCHAR AND users.is_active = true
2025-10-10 15:48:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1217s ago] ('testuser',)
2025-10-10 15:48:40 - app.services.user_service - ERROR - user_service - get_user_by_username - Error getting user by username testuser: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.username = $1::VARCHAR AND users.is_active = true]
[parameters: ('testuser',)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-10 15:48:40 - app.services.user_service - ERROR - user_service - authenticate - Error authenticating user: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.username = $1::VARCHAR AND users.is_active = true]
[parameters: ('testuser',)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-10 15:48:40 - app.api.v1.endpoints.auth - INFO - auth - login - Authentication result: False
2025-10-10 15:48:40 - app.api.v1.endpoints.auth - WARNING - auth - login - Authentication failed for username: testuser
2025-10-10 15:48:40 - app.api.v1.endpoints.auth - ERROR - auth - login - Login error: 
Traceback (most recent call last):
  File "E:\workspace-py\hr-agent\backend\app\api\v1\endpoints\auth.py", line 73, in login
    raise HTTPException(
fastapi.exceptions.HTTPException
2025-10-10 15:48:40 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: Incorrect username or password
2025-10-10 15:48:40 - app.core.middleware - INFO - middleware - dispatch - Response: 401 - Processing time: 19.1945s
2025-10-10 15:51:47 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/auth/login
2025-10-10 15:51:47 - app.api.v1.endpoints.auth - INFO - auth - login - Login attempt for username: testuser
2025-10-10 15:51:47 - app.api.v1.endpoints.auth - INFO - auth - login - UserService created successfully
2025-10-10 15:51:47 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:51:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.username = $1::VARCHAR AND users.is_active = true
2025-10-10 15:51:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1424s ago] ('testuser',)
2025-10-10 15:51:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - UPDATE users SET last_login=now(), updated_at=$1::TIMESTAMP WITHOUT TIME ZONE WHERE users.id = $2::UUID
2025-10-10 15:51:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1424s ago] (datetime.datetime(2025, 10, 10, 7, 51, 48, 125531), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-10 15:51:48 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-10 15:51:48 - app.api.v1.endpoints.auth - INFO - auth - login - Authentication result: True
2025-10-10 15:51:48 - app.api.v1.endpoints.auth - INFO - auth - login - Creating access token for user: testuser
2025-10-10 15:51:48 - app.api.v1.endpoints.auth - INFO - auth - login - Login successful for user: testuser
2025-10-10 15:51:48 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.5227s
2025-10-10 15:51:48 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-10 15:51:48 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:51:48 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:51:48 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:51:48 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:51:48 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:51:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:51:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1424s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:51:48 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:51:48 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:51:48 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-10 15:51:48 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-10 15:51:48 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-10 15:51:48 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-10 15:51:48 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.2305s
2025-10-10 15:51:48 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:51:51 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?page=1&size=10
2025-10-10 15:51:51 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:51:51 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:51:51 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:51:51 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:51:51 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:51:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:51:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1427s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:51:51 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/jd?page=1&size=100&status_filter=published
2025-10-10 15:51:51 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:51:51 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:51:51 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:51:51 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:51:51 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:51:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:51:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1427s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:51:51 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:51:51 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:51:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT count(*) AS count_1 
FROM (SELECT job_descriptions.title AS title, job_descriptions.department AS department, job_descriptions.location AS location, job_descriptions.salary_range AS salary_range, job_descriptions.experience_level AS experience_level, job_descriptions.education AS education, job_descriptions.job_type AS job_type, job_descriptions.skills AS skills, job_descriptions.content AS content, job_descriptions.requirements AS requirements, job_descriptions.status AS status, job_descriptions.meta_data AS meta_data, job_descriptions.conversation_id AS conversation_id, job_descriptions.workflow_type AS workflow_type, job_descriptions.user_id AS user_id, job_descriptions.id AS id, job_descriptions.created_at AS created_at, job_descriptions.updated_at AS updated_at, job_descriptions.is_active AS is_active, job_descriptions.created_by AS created_by, job_descriptions.updated_by AS updated_by 
FROM job_descriptions 
WHERE job_descriptions.user_id = $1::UUID AND job_descriptions.is_active = true AND job_descriptions.status = $2::jdstatus) AS anon_1
2025-10-10 15:51:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1422s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'PUBLISHED')
2025-10-10 15:51:51 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:51:51 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:51:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID ORDER BY resume_evaluations.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-10 15:51:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1422s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 20, 0)
2025-10-10 15:51:51 - app.services.resume_evaluation_service - ERROR - resume_evaluation_service - get_evaluation_history - 获取评价历史失败: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column resume_evaluations.status does not exist
[SQL: SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID ORDER BY resume_evaluations.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 20, 0)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-10-10 15:51:51 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0696s
2025-10-10 15:51:51 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:51:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT job_descriptions.title, job_descriptions.department, job_descriptions.location, job_descriptions.salary_range, job_descriptions.experience_level, job_descriptions.education, job_descriptions.job_type, job_descriptions.skills, job_descriptions.content, job_descriptions.requirements, job_descriptions.status, job_descriptions.meta_data, job_descriptions.conversation_id, job_descriptions.workflow_type, job_descriptions.user_id, job_descriptions.id, job_descriptions.created_at, job_descriptions.updated_at, job_descriptions.is_active, job_descriptions.created_by, job_descriptions.updated_by 
FROM job_descriptions 
WHERE job_descriptions.user_id = $1::UUID AND job_descriptions.is_active = true AND job_descriptions.status = $2::jdstatus ORDER BY job_descriptions.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-10 15:51:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00112s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'PUBLISHED', 100, 0)
2025-10-10 15:51:51 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1371s
2025-10-10 15:51:51 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:51:59 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/jd?page=1&size=10
2025-10-10 15:51:59 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:51:59 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:51:59 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:51:59 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:51:59 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:51:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:51:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1435s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:51:59 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:51:59 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:51:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT count(*) AS count_1 
FROM (SELECT job_descriptions.title AS title, job_descriptions.department AS department, job_descriptions.location AS location, job_descriptions.salary_range AS salary_range, job_descriptions.experience_level AS experience_level, job_descriptions.education AS education, job_descriptions.job_type AS job_type, job_descriptions.skills AS skills, job_descriptions.content AS content, job_descriptions.requirements AS requirements, job_descriptions.status AS status, job_descriptions.meta_data AS meta_data, job_descriptions.conversation_id AS conversation_id, job_descriptions.workflow_type AS workflow_type, job_descriptions.user_id AS user_id, job_descriptions.id AS id, job_descriptions.created_at AS created_at, job_descriptions.updated_at AS updated_at, job_descriptions.is_active AS is_active, job_descriptions.created_by AS created_by, job_descriptions.updated_by AS updated_by 
FROM job_descriptions 
WHERE job_descriptions.user_id = $1::UUID AND job_descriptions.is_active = true) AS anon_1
2025-10-10 15:51:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1432s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:51:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT job_descriptions.title, job_descriptions.department, job_descriptions.location, job_descriptions.salary_range, job_descriptions.experience_level, job_descriptions.education, job_descriptions.job_type, job_descriptions.skills, job_descriptions.content, job_descriptions.requirements, job_descriptions.status, job_descriptions.meta_data, job_descriptions.conversation_id, job_descriptions.workflow_type, job_descriptions.user_id, job_descriptions.id, job_descriptions.created_at, job_descriptions.updated_at, job_descriptions.is_active, job_descriptions.created_by, job_descriptions.updated_by 
FROM job_descriptions 
WHERE job_descriptions.user_id = $1::UUID AND job_descriptions.is_active = true ORDER BY job_descriptions.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-10 15:51:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00083s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 10, 0)
2025-10-10 15:51:59 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1121s
2025-10-10 15:51:59 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:52:01 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?page=1&size=10
2025-10-10 15:52:01 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/jd?page=1&size=100&status_filter=published
2025-10-10 15:52:01 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:52:01 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:52:01 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:52:01 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:52:01 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:52:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:52:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1437s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:52:01 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:52:01 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:52:01 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:52:01 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:52:01 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:52:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:52:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1437s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:52:01 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:52:01 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:52:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID ORDER BY resume_evaluations.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-10 15:52:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1432s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 20, 0)
2025-10-10 15:52:01 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:52:01 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:52:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT count(*) AS count_1 
FROM (SELECT job_descriptions.title AS title, job_descriptions.department AS department, job_descriptions.location AS location, job_descriptions.salary_range AS salary_range, job_descriptions.experience_level AS experience_level, job_descriptions.education AS education, job_descriptions.job_type AS job_type, job_descriptions.skills AS skills, job_descriptions.content AS content, job_descriptions.requirements AS requirements, job_descriptions.status AS status, job_descriptions.meta_data AS meta_data, job_descriptions.conversation_id AS conversation_id, job_descriptions.workflow_type AS workflow_type, job_descriptions.user_id AS user_id, job_descriptions.id AS id, job_descriptions.created_at AS created_at, job_descriptions.updated_at AS updated_at, job_descriptions.is_active AS is_active, job_descriptions.created_by AS created_by, job_descriptions.updated_by AS updated_by 
FROM job_descriptions 
WHERE job_descriptions.user_id = $1::UUID AND job_descriptions.is_active = true AND job_descriptions.status = $2::jdstatus) AS anon_1
2025-10-10 15:52:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1432s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'PUBLISHED')
2025-10-10 15:52:01 - app.services.resume_evaluation_service - ERROR - resume_evaluation_service - get_evaluation_history - 获取评价历史失败: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column resume_evaluations.status does not exist
[SQL: SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID ORDER BY resume_evaluations.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 20, 0)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-10-10 15:52:01 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0617s
2025-10-10 15:52:01 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:52:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT job_descriptions.title, job_descriptions.department, job_descriptions.location, job_descriptions.salary_range, job_descriptions.experience_level, job_descriptions.education, job_descriptions.job_type, job_descriptions.skills, job_descriptions.content, job_descriptions.requirements, job_descriptions.status, job_descriptions.meta_data, job_descriptions.conversation_id, job_descriptions.workflow_type, job_descriptions.user_id, job_descriptions.id, job_descriptions.created_at, job_descriptions.updated_at, job_descriptions.is_active, job_descriptions.created_by, job_descriptions.updated_by 
FROM job_descriptions 
WHERE job_descriptions.user_id = $1::UUID AND job_descriptions.is_active = true AND job_descriptions.status = $2::jdstatus ORDER BY job_descriptions.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-10 15:52:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 10.1s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'PUBLISHED', 100, 0)
2025-10-10 15:52:01 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1239s
2025-10-10 15:52:01 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:52:28 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-10 15:52:28 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-10 15:52:28 - main - INFO - main - lifespan - Database connections closed
2025-10-10 15:52:28 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-10 15:52:37 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-10 15:52:37 - main - INFO - main - lifespan - Logging configured
2025-10-10 15:52:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-10 15:52:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-10 15:52:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-10 15:52:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-10 15:52:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-10 15:52:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-10 15:52:37 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:52:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-10 15:52:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00028s] ()
2025-10-10 15:52:37 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-10 15:52:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:52:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00037s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:52:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:52:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.01394s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:52:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:52:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.01977s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:52:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:52:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0257s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:52:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:52:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03391s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:52:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:52:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04487s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:52:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:52:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05247s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:52:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:52:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06133s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:52:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:52:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06714s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:52:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:52:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07308s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:52:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 15:52:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00043s] ('userrole', 'pg_catalog')
2025-10-10 15:52:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 15:52:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02339s ago] ('conversationstatus', 'pg_catalog')
2025-10-10 15:52:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 15:52:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02996s ago] ('messagerole', 'pg_catalog')
2025-10-10 15:52:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 15:52:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03646s ago] ('jdstatus', 'pg_catalog')
2025-10-10 15:52:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 15:52:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04323s ago] ('scoringstatus', 'pg_catalog')
2025-10-10 15:52:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 15:52:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04976s ago] ('resumestatus', 'pg_catalog')
2025-10-10 15:52:37 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-10 15:52:37 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-10 15:52:37 - main - INFO - main - lifespan - Database initialized successfully
2025-10-10 15:52:37 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-10 15:54:37 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-10 15:54:37 - main - INFO - main - lifespan - Logging configured
2025-10-10 15:54:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-10 15:54:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-10 15:54:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-10 15:54:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-10 15:54:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-10 15:54:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-10 15:54:37 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:54:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-10 15:54:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00032s] ()
2025-10-10 15:54:37 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-10 15:54:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:54:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00033s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:54:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:54:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.01418s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:54:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:54:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02252s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:54:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:54:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02912s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:54:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:54:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03522s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:54:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:54:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04426s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:54:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:54:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05247s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:54:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:54:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06127s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:54:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:54:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06984s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:54:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 15:54:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08127s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 15:54:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 15:54:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00029s] ('userrole', 'pg_catalog')
2025-10-10 15:54:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 15:54:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02622s ago] ('conversationstatus', 'pg_catalog')
2025-10-10 15:54:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 15:54:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03246s ago] ('messagerole', 'pg_catalog')
2025-10-10 15:54:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 15:54:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04136s ago] ('jdstatus', 'pg_catalog')
2025-10-10 15:54:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 15:54:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05352s ago] ('scoringstatus', 'pg_catalog')
2025-10-10 15:54:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 15:54:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06123s ago] ('resumestatus', 'pg_catalog')
2025-10-10 15:54:37 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-10 15:54:37 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-10 15:54:37 - main - INFO - main - lifespan - Database initialized successfully
2025-10-10 15:54:37 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-10 15:55:03 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/jd?page=1&size=10
2025-10-10 15:55:03 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:55:03 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:55:03 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:55:03 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:55:03 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:55:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:55:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00178s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:55:03 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:55:03 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:55:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT count(*) AS count_1 
FROM (SELECT job_descriptions.title AS title, job_descriptions.department AS department, job_descriptions.location AS location, job_descriptions.salary_range AS salary_range, job_descriptions.experience_level AS experience_level, job_descriptions.education AS education, job_descriptions.job_type AS job_type, job_descriptions.skills AS skills, job_descriptions.content AS content, job_descriptions.requirements AS requirements, job_descriptions.status AS status, job_descriptions.meta_data AS meta_data, job_descriptions.conversation_id AS conversation_id, job_descriptions.workflow_type AS workflow_type, job_descriptions.user_id AS user_id, job_descriptions.id AS id, job_descriptions.created_at AS created_at, job_descriptions.updated_at AS updated_at, job_descriptions.is_active AS is_active, job_descriptions.created_by AS created_by, job_descriptions.updated_by AS updated_by 
FROM job_descriptions 
WHERE job_descriptions.user_id = $1::UUID AND job_descriptions.is_active = true) AS anon_1
2025-10-10 15:55:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00153s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:55:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT job_descriptions.title, job_descriptions.department, job_descriptions.location, job_descriptions.salary_range, job_descriptions.experience_level, job_descriptions.education, job_descriptions.job_type, job_descriptions.skills, job_descriptions.content, job_descriptions.requirements, job_descriptions.status, job_descriptions.meta_data, job_descriptions.conversation_id, job_descriptions.workflow_type, job_descriptions.user_id, job_descriptions.id, job_descriptions.created_at, job_descriptions.updated_at, job_descriptions.is_active, job_descriptions.created_by, job_descriptions.updated_by 
FROM job_descriptions 
WHERE job_descriptions.user_id = $1::UUID AND job_descriptions.is_active = true ORDER BY job_descriptions.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-10 15:55:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00185s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 10, 0)
2025-10-10 15:55:03 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.2477s
2025-10-10 15:55:03 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:55:04 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?page=1&size=10
2025-10-10 15:55:04 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/jd?page=1&size=100
2025-10-10 15:55:04 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:55:04 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:55:04 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:55:04 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:55:04 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:55:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:55:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1.077s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:55:04 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 15:55:04 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 15:55:04 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:55:04 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 15:55:04 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:55:04 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:55:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID ORDER BY resume_evaluations.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-10 15:55:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00112s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 20, 0)
2025-10-10 15:55:04 - app.services.resume_evaluation_service - ERROR - resume_evaluation_service - get_evaluation_history - 获取评价历史失败: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column resume_evaluations.status does not exist
[SQL: SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID ORDER BY resume_evaluations.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 20, 0)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-10-10 15:55:04 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1343s
2025-10-10 15:55:04 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:55:04 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 15:55:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 15:55:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1.259s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:55:04 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 15:55:04 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 15:55:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT count(*) AS count_1 
FROM (SELECT job_descriptions.title AS title, job_descriptions.department AS department, job_descriptions.location AS location, job_descriptions.salary_range AS salary_range, job_descriptions.experience_level AS experience_level, job_descriptions.education AS education, job_descriptions.job_type AS job_type, job_descriptions.skills AS skills, job_descriptions.content AS content, job_descriptions.requirements AS requirements, job_descriptions.status AS status, job_descriptions.meta_data AS meta_data, job_descriptions.conversation_id AS conversation_id, job_descriptions.workflow_type AS workflow_type, job_descriptions.user_id AS user_id, job_descriptions.id AS id, job_descriptions.created_at AS created_at, job_descriptions.updated_at AS updated_at, job_descriptions.is_active AS is_active, job_descriptions.created_by AS created_by, job_descriptions.updated_by AS updated_by 
FROM job_descriptions 
WHERE job_descriptions.user_id = $1::UUID AND job_descriptions.is_active = true) AS anon_1
2025-10-10 15:55:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1.271s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 15:55:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT job_descriptions.title, job_descriptions.department, job_descriptions.location, job_descriptions.salary_range, job_descriptions.experience_level, job_descriptions.education, job_descriptions.job_type, job_descriptions.skills, job_descriptions.content, job_descriptions.requirements, job_descriptions.status, job_descriptions.meta_data, job_descriptions.conversation_id, job_descriptions.workflow_type, job_descriptions.user_id, job_descriptions.id, job_descriptions.created_at, job_descriptions.updated_at, job_descriptions.is_active, job_descriptions.created_by, job_descriptions.updated_by 
FROM job_descriptions 
WHERE job_descriptions.user_id = $1::UUID AND job_descriptions.is_active = true ORDER BY job_descriptions.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-10 15:55:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00142s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 100, 0)
2025-10-10 15:55:04 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.4081s
2025-10-10 15:55:04 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 15:55:34 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-10 15:55:34 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-10 15:55:34 - main - INFO - main - lifespan - Database connections closed
2025-10-10 15:55:34 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-10 16:09:14 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-10 16:09:14 - main - INFO - main - lifespan - Logging configured
2025-10-10 16:09:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-10 16:09:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-10 16:09:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-10 16:09:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-10 16:09:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-10 16:09:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-10 16:09:14 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 16:09:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-10 16:09:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00041s] ()
2025-10-10 16:09:14 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-10 16:09:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:09:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00045s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:09:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:09:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02808s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:09:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:09:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03798s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:09:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:09:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04655s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:09:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:09:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05948s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:09:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:09:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06825s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:09:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:09:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08573s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:09:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:09:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09496s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:09:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:09:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1072s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:09:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:09:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.115s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:09:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 16:09:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00043s] ('userrole', 'pg_catalog')
2025-10-10 16:09:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 16:09:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02192s ago] ('conversationstatus', 'pg_catalog')
2025-10-10 16:09:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 16:09:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02806s ago] ('messagerole', 'pg_catalog')
2025-10-10 16:09:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 16:09:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03612s ago] ('jdstatus', 'pg_catalog')
2025-10-10 16:09:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 16:09:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04824s ago] ('scoringstatus', 'pg_catalog')
2025-10-10 16:09:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 16:09:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05646s ago] ('resumestatus', 'pg_catalog')
2025-10-10 16:09:14 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-10 16:09:14 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-10 16:09:14 - main - INFO - main - lifespan - Database initialized successfully
2025-10-10 16:09:14 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-10 16:46:43 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-10 16:47:02 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-10 16:47:02 - main - INFO - main - lifespan - Database connections closed
2025-10-10 16:47:02 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-10 16:49:34 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-10 16:49:34 - main - INFO - main - lifespan - Logging configured
2025-10-10 16:49:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-10 16:49:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-10 16:49:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-10 16:49:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-10 16:49:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-10 16:49:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-10 16:49:35 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 16:49:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-10 16:49:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00103s] ()
2025-10-10 16:49:35 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-10 16:49:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:49:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00047s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:49:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:49:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03453s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:49:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:49:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04105s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:49:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:49:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05146s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:49:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:49:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05739s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:49:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:49:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06363s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:49:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:49:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07917s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:49:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:49:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08507s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:49:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:49:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09461s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:49:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:49:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1021s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:49:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 16:49:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00034s] ('userrole', 'pg_catalog')
2025-10-10 16:49:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 16:49:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02863s ago] ('conversationstatus', 'pg_catalog')
2025-10-10 16:49:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 16:49:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04045s ago] ('messagerole', 'pg_catalog')
2025-10-10 16:49:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 16:49:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04905s ago] ('jdstatus', 'pg_catalog')
2025-10-10 16:49:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 16:49:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06449s ago] ('scoringstatus', 'pg_catalog')
2025-10-10 16:49:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 16:49:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08047s ago] ('resumestatus', 'pg_catalog')
2025-10-10 16:49:35 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-10 16:49:35 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-10 16:49:35 - main - INFO - main - lifespan - Database initialized successfully
2025-10-10 16:49:35 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-10 16:50:31 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-10 16:50:31 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-10 16:50:31 - main - INFO - main - lifespan - Database connections closed
2025-10-10 16:50:31 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-10 16:50:34 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-10 16:50:34 - main - INFO - main - lifespan - Logging configured
2025-10-10 16:50:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-10 16:50:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-10 16:50:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-10 16:50:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-10 16:50:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-10 16:50:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-10 16:50:35 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 16:50:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-10 16:50:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00112s] ()
2025-10-10 16:50:35 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-10 16:50:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:50:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00078s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:50:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:50:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0212s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:50:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:50:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0341s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:50:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:50:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04637s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:50:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:50:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06392s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:50:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:50:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07561s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:50:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:50:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08444s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:50:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:50:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0941s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:50:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:50:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1033s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:50:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:50:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1141s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:50:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 16:50:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00051s] ('userrole', 'pg_catalog')
2025-10-10 16:50:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 16:50:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02203s ago] ('conversationstatus', 'pg_catalog')
2025-10-10 16:50:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 16:50:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03059s ago] ('messagerole', 'pg_catalog')
2025-10-10 16:50:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 16:50:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04171s ago] ('jdstatus', 'pg_catalog')
2025-10-10 16:50:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 16:50:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05653s ago] ('scoringstatus', 'pg_catalog')
2025-10-10 16:50:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 16:50:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06837s ago] ('resumestatus', 'pg_catalog')
2025-10-10 16:50:35 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-10 16:50:35 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-10 16:50:35 - main - INFO - main - lifespan - Database initialized successfully
2025-10-10 16:50:35 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-10 16:50:40 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-10 16:50:40 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-10 16:50:40 - main - INFO - main - lifespan - Database connections closed
2025-10-10 16:50:40 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-10 16:50:44 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-10 16:50:44 - main - INFO - main - lifespan - Logging configured
2025-10-10 16:50:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-10 16:50:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-10 16:50:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-10 16:50:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-10 16:50:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-10 16:50:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-10 16:50:44 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 16:50:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-10 16:50:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00032s] ()
2025-10-10 16:50:44 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-10 16:50:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:50:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00039s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:50:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:50:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.01553s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:50:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:50:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02275s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:50:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:50:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03146s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:50:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:50:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03823s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:50:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:50:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04517s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:50:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:50:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05173s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:50:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:50:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05866s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:50:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:50:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0663s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:50:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:50:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07465s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:50:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 16:50:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00031s] ('userrole', 'pg_catalog')
2025-10-10 16:50:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 16:50:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.01312s ago] ('conversationstatus', 'pg_catalog')
2025-10-10 16:50:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 16:50:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0197s ago] ('messagerole', 'pg_catalog')
2025-10-10 16:50:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 16:50:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03037s ago] ('jdstatus', 'pg_catalog')
2025-10-10 16:50:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 16:50:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03704s ago] ('scoringstatus', 'pg_catalog')
2025-10-10 16:50:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 16:50:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04467s ago] ('resumestatus', 'pg_catalog')
2025-10-10 16:50:44 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-10 16:50:44 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-10 16:50:44 - main - INFO - main - lifespan - Database initialized successfully
2025-10-10 16:50:44 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-10 16:50:53 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-10 16:50:53 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-10 16:50:53 - main - INFO - main - lifespan - Database connections closed
2025-10-10 16:50:53 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-10 16:50:59 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-10 16:50:59 - main - INFO - main - lifespan - Logging configured
2025-10-10 16:50:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-10 16:50:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-10 16:50:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-10 16:50:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-10 16:50:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-10 16:50:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-10 16:50:59 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 16:50:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-10 16:50:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00031s] ()
2025-10-10 16:50:59 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-10 16:50:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:50:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00042s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:50:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:50:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.01606s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:50:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:50:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02296s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:50:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:50:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02942s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:50:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:50:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04122s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:50:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:50:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04769s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:50:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:50:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05542s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:50:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:50:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06572s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:50:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:50:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08697s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:50:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:50:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09728s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:50:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 16:50:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00055s] ('userrole', 'pg_catalog')
2025-10-10 16:50:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 16:50:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.01781s ago] ('conversationstatus', 'pg_catalog')
2025-10-10 16:50:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 16:50:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02699s ago] ('messagerole', 'pg_catalog')
2025-10-10 16:50:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 16:50:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03906s ago] ('jdstatus', 'pg_catalog')
2025-10-10 16:50:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 16:50:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04673s ago] ('scoringstatus', 'pg_catalog')
2025-10-10 16:50:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 16:50:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05851s ago] ('resumestatus', 'pg_catalog')
2025-10-10 16:50:59 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-10 16:50:59 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-10 16:50:59 - main - INFO - main - lifespan - Database initialized successfully
2025-10-10 16:50:59 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-10 16:51:17 - app.core.middleware - INFO - middleware - dispatch - Request: PUT http://localhost:8000/api/v1/resume-evaluation/559a7aec-b763-44de-98a5-0719d5c3c920/status
2025-10-10 16:51:17 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 16:51:17 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 16:51:17 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 16:51:17 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 16:51:17 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 16:51:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 16:51:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00101s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 16:51:17 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 16:51:17 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 16:51:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.id = $1::UUID AND resume_evaluations.user_id = $2::UUID
2025-10-10 16:51:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00079s] (UUID('559a7aec-b763-44de-98a5-0719d5c3c920'), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-10 16:51:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - UPDATE resume_evaluations SET status=$1::resumestatus, updated_at=$2::TIMESTAMP WITHOUT TIME ZONE WHERE resume_evaluations.id = $3::UUID
2025-10-10 16:51:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00054s] ('REJECTED', datetime.datetime(2025, 10, 10, 8, 51, 17, 651127), UUID('559a7aec-b763-44de-98a5-0719d5c3c920'))
2025-10-10 16:51:17 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-10 16:51:17 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.3144s
2025-10-10 16:51:17 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?page=1&size=10
2025-10-10 16:51:17 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 16:51:17 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 16:51:17 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 16:51:17 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 16:51:17 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 16:51:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 16:51:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1997s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 16:51:17 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 16:51:17 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 16:51:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID ORDER BY resume_evaluations.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-10 16:51:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00146s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 20, 0)
2025-10-10 16:51:17 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0779s
2025-10-10 16:51:17 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 16:53:17 - app.core.middleware - INFO - middleware - dispatch - Request: PUT http://localhost:8000/api/v1/resume-evaluation/559a7aec-b763-44de-98a5-0719d5c3c920/status
2025-10-10 16:53:17 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 16:53:17 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 16:53:17 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 16:53:17 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 16:53:17 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 16:53:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 16:53:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 119.6s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 16:53:17 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 16:53:17 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 16:53:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.id = $1::UUID AND resume_evaluations.user_id = $2::UUID
2025-10-10 16:53:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 119.5s ago] (UUID('559a7aec-b763-44de-98a5-0719d5c3c920'), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-10 16:53:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - UPDATE resume_evaluations SET status=$1::resumestatus, updated_at=$2::TIMESTAMP WITHOUT TIME ZONE WHERE resume_evaluations.id = $3::UUID
2025-10-10 16:53:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 119.5s ago] ('INTERVIEW', datetime.datetime(2025, 10, 10, 8, 53, 17, 117616), UUID('559a7aec-b763-44de-98a5-0719d5c3c920'))
2025-10-10 16:53:17 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-10 16:53:17 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0803s
2025-10-10 16:53:17 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?page=1&size=10
2025-10-10 16:53:17 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 16:53:17 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 16:53:17 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 16:53:17 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 16:53:17 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 16:53:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 16:53:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 119.7s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 16:53:17 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 16:53:17 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 16:53:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID ORDER BY resume_evaluations.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-10 16:53:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 119.5s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 20, 0)
2025-10-10 16:53:17 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0547s
2025-10-10 16:53:17 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 16:53:17 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-10 16:53:17 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 16:53:17 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 16:53:17 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 16:53:17 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 16:53:17 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 16:53:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 16:53:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 120.3s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 16:53:17 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 16:53:17 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 16:53:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-10 16:53:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00121s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-10 16:53:17 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0559s
2025-10-10 16:53:17 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 16:55:13 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-10 16:55:13 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-10 16:55:13 - main - INFO - main - lifespan - Database connections closed
2025-10-10 16:55:13 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-10 16:55:16 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-10 16:55:16 - main - INFO - main - lifespan - Logging configured
2025-10-10 16:55:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-10 16:55:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-10 16:55:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-10 16:55:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-10 16:55:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-10 16:55:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-10 16:55:17 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 16:55:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-10 16:55:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00045s] ()
2025-10-10 16:55:17 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-10 16:55:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:55:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00053s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:55:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:55:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02182s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:55:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:55:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02954s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:55:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:55:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03679s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:55:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:55:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04404s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:55:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:55:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05371s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:55:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:55:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06481s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:55:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:55:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07262s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:55:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:55:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08165s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:55:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:55:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09306s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:55:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 16:55:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00074s] ('userrole', 'pg_catalog')
2025-10-10 16:55:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 16:55:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.01912s ago] ('conversationstatus', 'pg_catalog')
2025-10-10 16:55:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 16:55:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02733s ago] ('messagerole', 'pg_catalog')
2025-10-10 16:55:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 16:55:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0337s ago] ('jdstatus', 'pg_catalog')
2025-10-10 16:55:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 16:55:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04111s ago] ('scoringstatus', 'pg_catalog')
2025-10-10 16:55:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 16:55:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05221s ago] ('resumestatus', 'pg_catalog')
2025-10-10 16:55:17 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-10 16:55:17 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-10 16:55:17 - main - INFO - main - lifespan - Database initialized successfully
2025-10-10 16:55:17 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-10 16:55:23 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-10 16:55:23 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-10 16:55:23 - main - INFO - main - lifespan - Database connections closed
2025-10-10 16:55:23 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-10 16:55:27 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-10 16:55:27 - main - INFO - main - lifespan - Logging configured
2025-10-10 16:55:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-10 16:55:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-10 16:55:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-10 16:55:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-10 16:55:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-10 16:55:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-10 16:55:28 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 16:55:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-10 16:55:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00034s] ()
2025-10-10 16:55:28 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-10 16:55:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:55:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00049s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:55:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:55:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.01696s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:55:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:55:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02391s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:55:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:55:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03355s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:55:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:55:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04081s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:55:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:55:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05111s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:55:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:55:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06525s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:55:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:55:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07093s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:55:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:55:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07622s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:55:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:55:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0828s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:55:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 16:55:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00039s] ('userrole', 'pg_catalog')
2025-10-10 16:55:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 16:55:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02557s ago] ('conversationstatus', 'pg_catalog')
2025-10-10 16:55:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 16:55:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04426s ago] ('messagerole', 'pg_catalog')
2025-10-10 16:55:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 16:55:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05305s ago] ('jdstatus', 'pg_catalog')
2025-10-10 16:55:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 16:55:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05923s ago] ('scoringstatus', 'pg_catalog')
2025-10-10 16:55:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 16:55:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06594s ago] ('resumestatus', 'pg_catalog')
2025-10-10 16:55:28 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-10 16:55:28 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-10 16:55:28 - main - INFO - main - lifespan - Database initialized successfully
2025-10-10 16:55:28 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-10 16:55:34 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-10 16:55:34 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 16:55:34 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 16:55:34 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 16:55:34 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 16:55:34 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 16:55:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 16:55:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00065s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 16:55:34 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 16:55:34 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 16:55:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-10 16:55:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00044s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-10 16:55:34 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.2100s
2025-10-10 16:55:34 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 16:55:34 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-10 16:55:34 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 16:55:34 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 16:55:34 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 16:55:34 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 16:55:34 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 16:55:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 16:55:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.3206s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 16:55:34 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 16:55:34 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 16:55:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-10 16:55:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.2452s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-10 16:55:34 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0375s
2025-10-10 16:55:34 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 16:55:49 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-10 16:55:49 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-10 16:55:49 - main - INFO - main - lifespan - Database connections closed
2025-10-10 16:55:49 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-10 16:55:59 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-10 16:55:59 - main - INFO - main - lifespan - Logging configured
2025-10-10 16:55:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-10 16:55:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-10 16:55:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-10 16:55:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-10 16:55:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-10 16:55:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-10 16:55:59 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 16:55:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-10 16:55:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00063s] ()
2025-10-10 16:55:59 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-10 16:55:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:55:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00081s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:55:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:55:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02985s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:55:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:55:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03975s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:55:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:55:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05322s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:55:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:55:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06644s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:55:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:55:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07835s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:55:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:55:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09414s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:55:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:55:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1078s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:55:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:55:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1194s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:55:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 16:55:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1285s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 16:55:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 16:55:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00088s] ('userrole', 'pg_catalog')
2025-10-10 16:55:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 16:55:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02212s ago] ('conversationstatus', 'pg_catalog')
2025-10-10 16:55:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 16:55:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03169s ago] ('messagerole', 'pg_catalog')
2025-10-10 16:55:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 16:55:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04055s ago] ('jdstatus', 'pg_catalog')
2025-10-10 16:55:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 16:55:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04967s ago] ('scoringstatus', 'pg_catalog')
2025-10-10 16:55:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 16:55:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0587s ago] ('resumestatus', 'pg_catalog')
2025-10-10 16:55:59 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-10 16:55:59 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-10 16:55:59 - main - INFO - main - lifespan - Database initialized successfully
2025-10-10 16:55:59 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-10 16:56:01 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/jd?page=1&size=10
2025-10-10 16:56:01 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 16:56:01 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 16:56:01 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 16:56:01 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 16:56:01 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 16:56:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 16:56:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00059s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 16:56:01 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 16:56:01 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 16:56:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT count(*) AS count_1 
FROM (SELECT job_descriptions.title AS title, job_descriptions.department AS department, job_descriptions.location AS location, job_descriptions.salary_range AS salary_range, job_descriptions.experience_level AS experience_level, job_descriptions.education AS education, job_descriptions.job_type AS job_type, job_descriptions.skills AS skills, job_descriptions.content AS content, job_descriptions.requirements AS requirements, job_descriptions.status AS status, job_descriptions.meta_data AS meta_data, job_descriptions.conversation_id AS conversation_id, job_descriptions.workflow_type AS workflow_type, job_descriptions.user_id AS user_id, job_descriptions.id AS id, job_descriptions.created_at AS created_at, job_descriptions.updated_at AS updated_at, job_descriptions.is_active AS is_active, job_descriptions.created_by AS created_by, job_descriptions.updated_by AS updated_by 
FROM job_descriptions 
WHERE job_descriptions.user_id = $1::UUID AND job_descriptions.is_active = true) AS anon_1
2025-10-10 16:56:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00202s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 16:56:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT job_descriptions.title, job_descriptions.department, job_descriptions.location, job_descriptions.salary_range, job_descriptions.experience_level, job_descriptions.education, job_descriptions.job_type, job_descriptions.skills, job_descriptions.content, job_descriptions.requirements, job_descriptions.status, job_descriptions.meta_data, job_descriptions.conversation_id, job_descriptions.workflow_type, job_descriptions.user_id, job_descriptions.id, job_descriptions.created_at, job_descriptions.updated_at, job_descriptions.is_active, job_descriptions.created_by, job_descriptions.updated_by 
FROM job_descriptions 
WHERE job_descriptions.user_id = $1::UUID AND job_descriptions.is_active = true ORDER BY job_descriptions.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-10 16:56:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00162s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 10, 0)
2025-10-10 16:56:01 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.2434s
2025-10-10 16:56:01 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 16:56:02 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/jd?page=1&size=100
2025-10-10 16:56:02 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?page=1&size=10
2025-10-10 16:56:02 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 16:56:02 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 16:56:02 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 16:56:02 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 16:56:02 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 16:56:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 16:56:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1.06s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 16:56:02 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 16:56:02 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 16:56:02 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 16:56:02 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 16:56:02 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 16:56:02 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 16:56:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT count(*) AS count_1 
FROM (SELECT job_descriptions.title AS title, job_descriptions.department AS department, job_descriptions.location AS location, job_descriptions.salary_range AS salary_range, job_descriptions.experience_level AS experience_level, job_descriptions.education AS education, job_descriptions.job_type AS job_type, job_descriptions.skills AS skills, job_descriptions.content AS content, job_descriptions.requirements AS requirements, job_descriptions.status AS status, job_descriptions.meta_data AS meta_data, job_descriptions.conversation_id AS conversation_id, job_descriptions.workflow_type AS workflow_type, job_descriptions.user_id AS user_id, job_descriptions.id AS id, job_descriptions.created_at AS created_at, job_descriptions.updated_at AS updated_at, job_descriptions.is_active AS is_active, job_descriptions.created_by AS created_by, job_descriptions.updated_by AS updated_by 
FROM job_descriptions 
WHERE job_descriptions.user_id = $1::UUID AND job_descriptions.is_active = true) AS anon_1
2025-10-10 16:56:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.9911s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 16:56:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT job_descriptions.title, job_descriptions.department, job_descriptions.location, job_descriptions.salary_range, job_descriptions.experience_level, job_descriptions.education, job_descriptions.job_type, job_descriptions.skills, job_descriptions.content, job_descriptions.requirements, job_descriptions.status, job_descriptions.meta_data, job_descriptions.conversation_id, job_descriptions.workflow_type, job_descriptions.user_id, job_descriptions.id, job_descriptions.created_at, job_descriptions.updated_at, job_descriptions.is_active, job_descriptions.created_by, job_descriptions.updated_by 
FROM job_descriptions 
WHERE job_descriptions.user_id = $1::UUID AND job_descriptions.is_active = true ORDER BY job_descriptions.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-10 16:56:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00247s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 100, 0)
2025-10-10 16:56:02 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1061s
2025-10-10 16:56:02 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 16:56:03 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 16:56:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 16:56:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2.231s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 16:56:03 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 16:56:03 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 16:56:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID ORDER BY resume_evaluations.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-10 16:56:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00230s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 20, 0)
2025-10-10 16:56:03 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 1.3634s
2025-10-10 16:56:03 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 16:56:07 - app.core.middleware - INFO - middleware - dispatch - Request: PUT http://localhost:8000/api/v1/resume-evaluation/559a7aec-b763-44de-98a5-0719d5c3c920/status?status=rejected
2025-10-10 16:56:07 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 16:56:07 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 16:56:07 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 16:56:07 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 16:56:07 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 16:56:07 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 16:56:07 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 5.813s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 16:56:07 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 16:56:07 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 16:56:07 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.id = $1::UUID AND resume_evaluations.user_id = $2::UUID
2025-10-10 16:56:07 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00073s] (UUID('559a7aec-b763-44de-98a5-0719d5c3c920'), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-10 16:56:07 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - UPDATE resume_evaluations SET status=$1::resumestatus, updated_at=$2::TIMESTAMP WITHOUT TIME ZONE WHERE resume_evaluations.id = $3::UUID
2025-10-10 16:56:07 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00200s] ('REJECTED', datetime.datetime(2025, 10, 10, 8, 56, 7, 401432), UUID('559a7aec-b763-44de-98a5-0719d5c3c920'))
2025-10-10 16:56:07 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-10 16:56:07 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1413s
2025-10-10 16:56:07 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?page=1&size=10
2025-10-10 16:56:07 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 16:56:07 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 16:56:07 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 16:56:07 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 16:56:07 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 16:56:07 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 16:56:07 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 5.982s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 16:56:07 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 16:56:07 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 16:56:07 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID ORDER BY resume_evaluations.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-10 16:56:07 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 3.673s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 20, 0)
2025-10-10 16:56:07 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0638s
2025-10-10 16:56:07 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 16:56:25 - app.core.middleware - INFO - middleware - dispatch - Request: PUT http://localhost:8000/api/v1/resume-evaluation/559a7aec-b763-44de-98a5-0719d5c3c920/status?status=interview
2025-10-10 16:56:25 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 16:56:25 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 16:56:25 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 16:56:25 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 16:56:25 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 16:56:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 16:56:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 24.29s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 16:56:25 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 16:56:25 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 16:56:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.id = $1::UUID AND resume_evaluations.user_id = $2::UUID
2025-10-10 16:56:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 18.48s ago] (UUID('559a7aec-b763-44de-98a5-0719d5c3c920'), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-10 16:56:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - UPDATE resume_evaluations SET status=$1::resumestatus, updated_at=$2::TIMESTAMP WITHOUT TIME ZONE WHERE resume_evaluations.id = $3::UUID
2025-10-10 16:56:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 18.45s ago] ('INTERVIEW', datetime.datetime(2025, 10, 10, 8, 56, 25, 850879), UUID('559a7aec-b763-44de-98a5-0719d5c3c920'))
2025-10-10 16:56:25 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-10 16:56:25 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1299s
2025-10-10 16:56:25 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?page=1&size=10
2025-10-10 16:56:25 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 16:56:25 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 16:56:25 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 16:56:25 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 16:56:25 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 16:56:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 16:56:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 24.5s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 16:56:26 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 16:56:26 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 16:56:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID ORDER BY resume_evaluations.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-10 16:56:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 22.2s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 20, 0)
2025-10-10 16:56:26 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0887s
2025-10-10 16:56:26 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 16:56:26 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-10 16:56:26 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 16:56:26 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 16:56:26 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 16:56:26 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 16:56:26 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 16:56:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 16:56:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 24.72s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 16:56:26 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 16:56:26 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 16:56:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-10 16:56:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00251s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-10 16:56:26 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0711s
2025-10-10 16:56:26 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 17:00:59 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-10 17:00:59 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 17:00:59 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 17:00:59 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:00:59 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:00:59 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 17:00:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 17:00:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 297.8s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 17:01:18 - app.services.user_service - ERROR - user_service - get_user - Error getting user 663c3a32-596c-4fec-955e-6eace86eb281: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-10 17:01:18 - app.api.deps - ERROR - deps - get_current_user - ❌ Error in get_current_user: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-10 17:01:18 - app.core.exception_handlers - ERROR - exception_handlers - sqlalchemy_exception_handler - Database Error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\asyncio\selector_events.py", line 862, in _read_ready__data_received
    data = self._sock.recv(self.max_size)
ConnectionResetError: [WinError 10054] 远程主机强迫关闭了一个现有的连接。

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 859, in _start_transaction
    await self._transaction.start()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\asyncpg\transaction.py", line 146, in start
    await self._connection.execute(query)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\asyncpg\connection.py", line 350, in execute
    result = await self._protocol.query(query, timeout)
  File "asyncpg\protocol\protocol.pyx", line 374, in query
asyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 527, in _prepare_and_execute
    await adapt_connection._start_transaction()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 861, in _start_transaction
    self._handle_exception(error)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.Error: <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 20, in __call__
    raise e
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 66, in app
    response = await func(request)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\routing.py", line 264, in app
    solved_result = await solve_dependencies(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\dependencies\utils.py", line 592, in solve_dependencies
    solved = await call(**sub_values)
  File "E:\workspace-py\hr-agent\backend\app\api\deps.py", line 56, in get_current_user
    user = await user_service.get_user(user_uuid)
  File "E:\workspace-py\hr-agent\backend\app\services\user_service.py", line 112, in get_user
    result = await self.db.execute(query)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 455, in execute
    result = await greenlet_spawn(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 190, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\orm\session.py", line 2308, in execute
    return self._execute_internal(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\orm\session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 527, in _prepare_and_execute
    await adapt_connection._start_transaction()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 861, in _start_transaction
    self._handle_exception(error)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.DBAPIError: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-10 17:01:18 - app.core.middleware - INFO - middleware - dispatch - Response: 500 - Processing time: 19.1948s
2025-10-10 17:04:04 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?page=1&size=10
2025-10-10 17:04:04 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 17:04:04 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 17:04:04 - app.api.deps - ERROR - deps - get_current_user - ❌ JWT decode error: Signature has expired.
2025-10-10 17:04:04 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/jd?page=1&size=100
2025-10-10 17:04:04 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 17:04:04 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 17:04:04 - app.api.deps - ERROR - deps - get_current_user - ❌ JWT decode error: Signature has expired.
2025-10-10 17:04:04 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: Could not validate credentials
2025-10-10 17:04:04 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: Could not validate credentials
2025-10-10 17:04:04 - app.core.middleware - INFO - middleware - dispatch - Response: 401 - Processing time: 0.0151s
2025-10-10 17:04:04 - app.core.middleware - INFO - middleware - dispatch - Response: 401 - Processing time: 0.0090s
2025-10-10 17:04:06 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/auth/login
2025-10-10 17:04:06 - app.api.v1.endpoints.auth - INFO - auth - login - Login attempt for username: testuser
2025-10-10 17:04:06 - app.api.v1.endpoints.auth - INFO - auth - login - UserService created successfully
2025-10-10 17:04:06 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 17:04:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.username = $1::VARCHAR AND users.is_active = true
2025-10-10 17:04:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00054s] ('testuser',)
2025-10-10 17:04:06 - passlib.handlers.bcrypt - WARNING - bcrypt - _load_backend_mixin - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\passlib\handlers\bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-10-10 17:04:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - UPDATE users SET last_login=now(), updated_at=$1::TIMESTAMP WITHOUT TIME ZONE WHERE users.id = $2::UUID
2025-10-10 17:04:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00120s] (datetime.datetime(2025, 10, 10, 9, 4, 6, 702973), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-10 17:04:06 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-10 17:04:06 - app.api.v1.endpoints.auth - INFO - auth - login - Authentication result: True
2025-10-10 17:04:06 - app.api.v1.endpoints.auth - INFO - auth - login - Creating access token for user: testuser
2025-10-10 17:04:06 - app.api.v1.endpoints.auth - INFO - auth - login - Login successful for user: testuser
2025-10-10 17:04:06 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.5289s
2025-10-10 17:04:06 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-10 17:04:06 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 17:04:06 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 17:04:06 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:04:06 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:04:06 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 17:04:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 17:04:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 485.4s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 17:04:06 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 17:04:06 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 17:04:06 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-10 17:04:06 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-10 17:04:06 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-10 17:04:06 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-10 17:04:06 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.2233s
2025-10-10 17:04:06 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 17:04:10 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?page=1&size=10
2025-10-10 17:04:10 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/jd?page=1&size=100
2025-10-10 17:04:10 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 17:04:10 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 17:04:10 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:04:10 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:04:10 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 17:04:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 17:04:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 488.8s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 17:04:10 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 17:04:10 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 17:04:10 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:04:10 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:04:10 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 17:04:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 17:04:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 488.8s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 17:04:10 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 17:04:10 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 17:04:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT count(*) AS count_1 
FROM (SELECT job_descriptions.title AS title, job_descriptions.department AS department, job_descriptions.location AS location, job_descriptions.salary_range AS salary_range, job_descriptions.experience_level AS experience_level, job_descriptions.education AS education, job_descriptions.job_type AS job_type, job_descriptions.skills AS skills, job_descriptions.content AS content, job_descriptions.requirements AS requirements, job_descriptions.status AS status, job_descriptions.meta_data AS meta_data, job_descriptions.conversation_id AS conversation_id, job_descriptions.workflow_type AS workflow_type, job_descriptions.user_id AS user_id, job_descriptions.id AS id, job_descriptions.created_at AS created_at, job_descriptions.updated_at AS updated_at, job_descriptions.is_active AS is_active, job_descriptions.created_by AS created_by, job_descriptions.updated_by AS updated_by 
FROM job_descriptions 
WHERE job_descriptions.user_id = $1::UUID AND job_descriptions.is_active = true) AS anon_1
2025-10-10 17:04:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 488.7s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 17:04:10 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 17:04:10 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 17:04:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID ORDER BY resume_evaluations.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-10 17:04:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 486.5s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 20, 0)
2025-10-10 17:04:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT job_descriptions.title, job_descriptions.department, job_descriptions.location, job_descriptions.salary_range, job_descriptions.experience_level, job_descriptions.education, job_descriptions.job_type, job_descriptions.skills, job_descriptions.content, job_descriptions.requirements, job_descriptions.status, job_descriptions.meta_data, job_descriptions.conversation_id, job_descriptions.workflow_type, job_descriptions.user_id, job_descriptions.id, job_descriptions.created_at, job_descriptions.updated_at, job_descriptions.is_active, job_descriptions.created_by, job_descriptions.updated_by 
FROM job_descriptions 
WHERE job_descriptions.user_id = $1::UUID AND job_descriptions.is_active = true ORDER BY job_descriptions.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-10 17:04:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 487.8s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 100, 0)
2025-10-10 17:04:10 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1099s
2025-10-10 17:04:10 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 17:04:10 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1510s
2025-10-10 17:04:10 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 17:04:11 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-10 17:04:11 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 17:04:11 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 17:04:11 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:04:11 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:04:11 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 17:04:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 17:04:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 490.1s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 17:04:11 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 17:04:11 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 17:04:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-10 17:04:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 465.3s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-10 17:04:11 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0630s
2025-10-10 17:04:11 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 17:04:18 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?page=1&size=10
2025-10-10 17:04:18 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/jd?page=1&size=100
2025-10-10 17:04:18 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 17:04:18 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 17:04:18 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:04:18 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:04:18 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 17:04:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 17:04:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 497.2s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 17:04:18 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 17:04:18 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 17:04:18 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:04:18 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:04:18 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 17:04:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 17:04:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 497.2s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 17:04:18 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 17:04:18 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 17:04:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID ORDER BY resume_evaluations.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-10 17:04:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 494.9s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 20, 0)
2025-10-10 17:04:18 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 17:04:18 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 17:04:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT count(*) AS count_1 
FROM (SELECT job_descriptions.title AS title, job_descriptions.department AS department, job_descriptions.location AS location, job_descriptions.salary_range AS salary_range, job_descriptions.experience_level AS experience_level, job_descriptions.education AS education, job_descriptions.job_type AS job_type, job_descriptions.skills AS skills, job_descriptions.content AS content, job_descriptions.requirements AS requirements, job_descriptions.status AS status, job_descriptions.meta_data AS meta_data, job_descriptions.conversation_id AS conversation_id, job_descriptions.workflow_type AS workflow_type, job_descriptions.user_id AS user_id, job_descriptions.id AS id, job_descriptions.created_at AS created_at, job_descriptions.updated_at AS updated_at, job_descriptions.is_active AS is_active, job_descriptions.created_by AS created_by, job_descriptions.updated_by AS updated_by 
FROM job_descriptions 
WHERE job_descriptions.user_id = $1::UUID AND job_descriptions.is_active = true) AS anon_1
2025-10-10 17:04:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 497.1s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 17:04:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT job_descriptions.title, job_descriptions.department, job_descriptions.location, job_descriptions.salary_range, job_descriptions.experience_level, job_descriptions.education, job_descriptions.job_type, job_descriptions.skills, job_descriptions.content, job_descriptions.requirements, job_descriptions.status, job_descriptions.meta_data, job_descriptions.conversation_id, job_descriptions.workflow_type, job_descriptions.user_id, job_descriptions.id, job_descriptions.created_at, job_descriptions.updated_at, job_descriptions.is_active, job_descriptions.created_by, job_descriptions.updated_by 
FROM job_descriptions 
WHERE job_descriptions.user_id = $1::UUID AND job_descriptions.is_active = true ORDER BY job_descriptions.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-10 17:04:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 496.1s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 100, 0)
2025-10-10 17:04:18 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1155s
2025-10-10 17:04:18 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 17:04:18 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1629s
2025-10-10 17:04:18 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 17:04:20 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-10 17:04:20 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 17:04:20 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 17:04:20 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:04:20 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:04:20 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 17:04:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 17:04:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 498.6s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 17:04:20 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 17:04:20 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 17:04:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-10 17:04:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 473.9s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-10 17:04:20 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0664s
2025-10-10 17:04:20 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 17:08:39 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-10 17:08:39 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-10 17:08:39 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 17:08:39 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 17:08:39 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:08:39 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:08:39 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 17:08:39 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 17:08:39 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 757.7s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 17:08:39 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 17:08:39 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 17:08:39 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:08:39 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:08:39 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 17:08:39 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 17:08:39 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 757.8s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 17:08:58 - app.services.user_service - ERROR - user_service - get_user - Error getting user 663c3a32-596c-4fec-955e-6eace86eb281: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-10 17:08:58 - app.api.deps - ERROR - deps - get_current_user - ❌ Error in get_current_user: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-10 17:08:58 - app.core.exception_handlers - ERROR - exception_handlers - sqlalchemy_exception_handler - Database Error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\asyncio\selector_events.py", line 862, in _read_ready__data_received
    data = self._sock.recv(self.max_size)
ConnectionResetError: [WinError 10054] 远程主机强迫关闭了一个现有的连接。

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 859, in _start_transaction
    await self._transaction.start()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\asyncpg\transaction.py", line 146, in start
    await self._connection.execute(query)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\asyncpg\connection.py", line 350, in execute
    result = await self._protocol.query(query, timeout)
  File "asyncpg\protocol\protocol.pyx", line 374, in query
asyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 527, in _prepare_and_execute
    await adapt_connection._start_transaction()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 861, in _start_transaction
    self._handle_exception(error)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.Error: <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 20, in __call__
    raise e
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 66, in app
    response = await func(request)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\routing.py", line 264, in app
    solved_result = await solve_dependencies(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\dependencies\utils.py", line 592, in solve_dependencies
    solved = await call(**sub_values)
  File "E:\workspace-py\hr-agent\backend\app\api\deps.py", line 56, in get_current_user
    user = await user_service.get_user(user_uuid)
  File "E:\workspace-py\hr-agent\backend\app\services\user_service.py", line 112, in get_user
    result = await self.db.execute(query)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 455, in execute
    result = await greenlet_spawn(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 190, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\orm\session.py", line 2308, in execute
    return self._execute_internal(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\orm\session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 527, in _prepare_and_execute
    await adapt_connection._start_transaction()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 861, in _start_transaction
    self._handle_exception(error)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.DBAPIError: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-10 17:08:58 - app.core.middleware - INFO - middleware - dispatch - Response: 500 - Processing time: 19.1951s
2025-10-10 17:08:58 - app.services.user_service - ERROR - user_service - get_user - Error getting user 663c3a32-596c-4fec-955e-6eace86eb281: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-10 17:08:58 - app.api.deps - ERROR - deps - get_current_user - ❌ Error in get_current_user: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-10 17:08:58 - app.core.exception_handlers - ERROR - exception_handlers - sqlalchemy_exception_handler - Database Error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\asyncio\selector_events.py", line 862, in _read_ready__data_received
    data = self._sock.recv(self.max_size)
ConnectionResetError: [WinError 10054] 远程主机强迫关闭了一个现有的连接。

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 859, in _start_transaction
    await self._transaction.start()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\asyncpg\transaction.py", line 146, in start
    await self._connection.execute(query)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\asyncpg\connection.py", line 350, in execute
    result = await self._protocol.query(query, timeout)
  File "asyncpg\protocol\protocol.pyx", line 374, in query
asyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 527, in _prepare_and_execute
    await adapt_connection._start_transaction()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 861, in _start_transaction
    self._handle_exception(error)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.Error: <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 20, in __call__
    raise e
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 66, in app
    response = await func(request)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\routing.py", line 264, in app
    solved_result = await solve_dependencies(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\dependencies\utils.py", line 592, in solve_dependencies
    solved = await call(**sub_values)
  File "E:\workspace-py\hr-agent\backend\app\api\deps.py", line 56, in get_current_user
    user = await user_service.get_user(user_uuid)
  File "E:\workspace-py\hr-agent\backend\app\services\user_service.py", line 112, in get_user
    result = await self.db.execute(query)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 455, in execute
    result = await greenlet_spawn(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 190, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\orm\session.py", line 2308, in execute
    return self._execute_internal(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\orm\session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 527, in _prepare_and_execute
    await adapt_connection._start_transaction()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 861, in _start_transaction
    self._handle_exception(error)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.DBAPIError: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-10 17:08:58 - app.core.middleware - INFO - middleware - dispatch - Response: 500 - Processing time: 19.2272s
2025-10-10 17:10:30 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/auth/login
2025-10-10 17:10:30 - app.api.v1.endpoints.auth - INFO - auth - login - Login attempt for username: testuser
2025-10-10 17:10:30 - app.api.v1.endpoints.auth - INFO - auth - login - UserService created successfully
2025-10-10 17:10:30 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 17:10:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.username = $1::VARCHAR AND users.is_active = true
2025-10-10 17:10:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 384.4s ago] ('testuser',)
2025-10-10 17:10:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - UPDATE users SET last_login=now(), updated_at=$1::TIMESTAMP WITHOUT TIME ZONE WHERE users.id = $2::UUID
2025-10-10 17:10:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 384.4s ago] (datetime.datetime(2025, 10, 10, 9, 10, 31, 122739), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-10 17:10:31 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-10 17:10:31 - app.api.v1.endpoints.auth - INFO - auth - login - Authentication result: True
2025-10-10 17:10:31 - app.api.v1.endpoints.auth - INFO - auth - login - Creating access token for user: testuser
2025-10-10 17:10:31 - app.api.v1.endpoints.auth - INFO - auth - login - Login successful for user: testuser
2025-10-10 17:10:31 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.5364s
2025-10-10 17:10:31 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-10 17:10:31 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 17:10:31 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 17:10:31 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:10:31 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:10:31 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 17:10:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 17:10:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 869.9s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 17:10:31 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 17:10:31 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 17:10:31 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-10 17:10:31 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-10 17:10:31 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-10 17:10:31 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-10 17:10:31 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.2415s
2025-10-10 17:10:31 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 17:10:56 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?page=1&size=10
2025-10-10 17:10:56 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 17:10:56 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 17:10:56 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:10:56 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:10:56 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 17:10:56 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 17:10:56 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 894.5s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 17:10:56 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/jd?page=1&size=100
2025-10-10 17:10:56 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 17:10:56 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 17:10:56 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:10:56 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:10:56 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 17:10:56 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 17:10:56 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 894.6s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 17:10:56 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 17:10:56 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 17:10:56 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT count(*) AS count_1 
FROM (SELECT job_descriptions.title AS title, job_descriptions.department AS department, job_descriptions.location AS location, job_descriptions.salary_range AS salary_range, job_descriptions.experience_level AS experience_level, job_descriptions.education AS education, job_descriptions.job_type AS job_type, job_descriptions.skills AS skills, job_descriptions.content AS content, job_descriptions.requirements AS requirements, job_descriptions.status AS status, job_descriptions.meta_data AS meta_data, job_descriptions.conversation_id AS conversation_id, job_descriptions.workflow_type AS workflow_type, job_descriptions.user_id AS user_id, job_descriptions.id AS id, job_descriptions.created_at AS created_at, job_descriptions.updated_at AS updated_at, job_descriptions.is_active AS is_active, job_descriptions.created_by AS created_by, job_descriptions.updated_by AS updated_by 
FROM job_descriptions 
WHERE job_descriptions.user_id = $1::UUID AND job_descriptions.is_active = true) AS anon_1
2025-10-10 17:10:56 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 894.5s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 17:10:56 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 17:10:56 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 17:10:56 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID ORDER BY resume_evaluations.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-10 17:10:56 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 892.2s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 20, 0)
2025-10-10 17:10:56 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT job_descriptions.title, job_descriptions.department, job_descriptions.location, job_descriptions.salary_range, job_descriptions.experience_level, job_descriptions.education, job_descriptions.job_type, job_descriptions.skills, job_descriptions.content, job_descriptions.requirements, job_descriptions.status, job_descriptions.meta_data, job_descriptions.conversation_id, job_descriptions.workflow_type, job_descriptions.user_id, job_descriptions.id, job_descriptions.created_at, job_descriptions.updated_at, job_descriptions.is_active, job_descriptions.created_by, job_descriptions.updated_by 
FROM job_descriptions 
WHERE job_descriptions.user_id = $1::UUID AND job_descriptions.is_active = true ORDER BY job_descriptions.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-10 17:10:56 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 893.5s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 100, 0)
2025-10-10 17:10:56 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1603s
2025-10-10 17:10:56 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 17:10:56 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1806s
2025-10-10 17:10:56 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 17:10:57 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-10 17:10:57 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 17:10:57 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 17:10:57 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:10:57 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:10:57 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 17:10:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 17:10:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 895.5s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 17:10:57 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 17:10:57 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 17:10:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-10 17:10:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 870.8s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-10 17:10:57 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0688s
2025-10-10 17:10:57 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 17:11:10 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/auth/login
2025-10-10 17:11:10 - app.api.v1.endpoints.auth - INFO - auth - login - Login attempt for username: testuser
2025-10-10 17:11:10 - app.api.v1.endpoints.auth - INFO - auth - login - UserService created successfully
2025-10-10 17:11:10 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 17:11:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.username = $1::VARCHAR AND users.is_active = true
2025-10-10 17:11:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 424.4s ago] ('testuser',)
2025-10-10 17:11:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - UPDATE users SET last_login=now(), updated_at=$1::TIMESTAMP WITHOUT TIME ZONE WHERE users.id = $2::UUID
2025-10-10 17:11:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 424.4s ago] (datetime.datetime(2025, 10, 10, 9, 11, 11, 55917), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-10 17:11:11 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-10 17:11:11 - app.api.v1.endpoints.auth - INFO - auth - login - Authentication result: True
2025-10-10 17:11:11 - app.api.v1.endpoints.auth - INFO - auth - login - Creating access token for user: testuser
2025-10-10 17:11:11 - app.api.v1.endpoints.auth - INFO - auth - login - Login successful for user: testuser
2025-10-10 17:11:11 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.3348s
2025-10-10 17:11:11 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-10 17:11:11 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 17:11:11 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 17:11:11 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:11:11 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:11:11 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 17:11:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 17:11:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 909.6s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 17:11:11 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 17:11:11 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 17:11:11 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-10 17:11:11 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-10 17:11:11 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-10 17:11:11 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-10 17:11:11 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0222s
2025-10-10 17:11:11 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 17:11:13 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-10 17:11:13 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 17:11:13 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 17:11:13 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:11:13 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:11:13 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 17:11:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 17:11:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 912.2s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 17:11:13 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 17:11:13 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 17:11:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-10 17:11:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 887.5s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-10 17:11:13 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1800s
2025-10-10 17:11:13 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 17:13:14 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-10 17:13:14 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 17:13:14 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 17:13:14 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:13:14 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:13:14 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 17:13:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 17:13:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1033s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 17:13:14 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 17:13:14 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 17:13:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-10 17:13:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1008s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-10 17:13:14 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0420s
2025-10-10 17:13:14 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 17:13:14 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-10 17:13:14 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 17:13:14 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 17:13:14 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:13:14 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:13:14 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 17:13:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 17:13:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1033s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 17:13:14 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 17:13:14 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 17:13:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-10 17:13:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1008s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-10 17:13:14 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0577s
2025-10-10 17:13:14 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 17:13:30 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-10 17:13:30 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 17:13:30 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 17:13:30 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:13:30 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:13:30 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 17:13:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 17:13:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1049s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 17:13:30 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 17:13:30 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 17:13:30 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-10 17:13:30 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-10 17:13:30 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-10 17:13:30 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-10 17:13:30 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0274s
2025-10-10 17:13:30 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 17:13:30 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-10 17:13:30 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 17:13:30 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 17:13:30 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:13:30 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:13:30 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 17:13:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 17:13:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1049s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 17:13:30 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 17:13:30 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 17:13:30 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-10 17:13:30 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-10 17:13:30 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-10 17:13:30 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-10 17:13:30 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0199s
2025-10-10 17:13:30 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 17:13:44 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?page=1&size=10
2025-10-10 17:13:44 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 17:13:44 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 17:13:44 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:13:44 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:13:44 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 17:13:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 17:13:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1063s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 17:13:44 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/jd?page=1&size=100
2025-10-10 17:13:44 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 17:13:44 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 17:13:44 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:13:44 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:13:44 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 17:13:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 17:13:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1063s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 17:13:44 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 17:13:44 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 17:13:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT count(*) AS count_1 
FROM (SELECT job_descriptions.title AS title, job_descriptions.department AS department, job_descriptions.location AS location, job_descriptions.salary_range AS salary_range, job_descriptions.experience_level AS experience_level, job_descriptions.education AS education, job_descriptions.job_type AS job_type, job_descriptions.skills AS skills, job_descriptions.content AS content, job_descriptions.requirements AS requirements, job_descriptions.status AS status, job_descriptions.meta_data AS meta_data, job_descriptions.conversation_id AS conversation_id, job_descriptions.workflow_type AS workflow_type, job_descriptions.user_id AS user_id, job_descriptions.id AS id, job_descriptions.created_at AS created_at, job_descriptions.updated_at AS updated_at, job_descriptions.is_active AS is_active, job_descriptions.created_by AS created_by, job_descriptions.updated_by AS updated_by 
FROM job_descriptions 
WHERE job_descriptions.user_id = $1::UUID AND job_descriptions.is_active = true) AS anon_1
2025-10-10 17:13:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1063s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 17:13:44 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 17:13:44 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 17:13:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID ORDER BY resume_evaluations.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-10 17:13:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1061s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 20, 0)
2025-10-10 17:13:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT job_descriptions.title, job_descriptions.department, job_descriptions.location, job_descriptions.salary_range, job_descriptions.experience_level, job_descriptions.education, job_descriptions.job_type, job_descriptions.skills, job_descriptions.content, job_descriptions.requirements, job_descriptions.status, job_descriptions.meta_data, job_descriptions.conversation_id, job_descriptions.workflow_type, job_descriptions.user_id, job_descriptions.id, job_descriptions.created_at, job_descriptions.updated_at, job_descriptions.is_active, job_descriptions.created_by, job_descriptions.updated_by 
FROM job_descriptions 
WHERE job_descriptions.user_id = $1::UUID AND job_descriptions.is_active = true ORDER BY job_descriptions.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-10 17:13:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1062s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 100, 0)
2025-10-10 17:13:44 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1973s
2025-10-10 17:13:44 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 17:13:44 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.2108s
2025-10-10 17:13:44 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 17:13:54 - app.core.middleware - INFO - middleware - dispatch - Request: PUT http://localhost:8000/api/v1/resume-evaluation/b7c78d67-3c85-4d97-8baf-fb8bd96363a1/status?status=interview
2025-10-10 17:13:54 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 17:13:54 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 17:13:54 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:13:54 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:13:54 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 17:13:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 17:13:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1073s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 17:13:54 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 17:13:54 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 17:13:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.id = $1::UUID AND resume_evaluations.user_id = $2::UUID
2025-10-10 17:13:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1067s ago] (UUID('b7c78d67-3c85-4d97-8baf-fb8bd96363a1'), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-10 17:13:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - UPDATE resume_evaluations SET status=$1::resumestatus, updated_at=$2::TIMESTAMP WITHOUT TIME ZONE WHERE resume_evaluations.id = $3::UUID
2025-10-10 17:13:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1067s ago] ('INTERVIEW', datetime.datetime(2025, 10, 10, 9, 13, 54, 622451), UUID('b7c78d67-3c85-4d97-8baf-fb8bd96363a1'))
2025-10-10 17:13:54 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-10 17:13:54 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0807s
2025-10-10 17:13:54 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?page=1&size=10
2025-10-10 17:13:54 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 17:13:54 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 17:13:54 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:13:54 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:13:54 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 17:13:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 17:13:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1073s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 17:13:54 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 17:13:54 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 17:13:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID ORDER BY resume_evaluations.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-10 17:13:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1071s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 20, 0)
2025-10-10 17:13:54 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1090s
2025-10-10 17:13:54 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 17:13:54 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-10 17:13:54 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 17:13:54 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 17:13:54 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:13:54 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:13:54 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 17:13:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 17:13:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1073s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 17:13:54 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 17:13:54 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 17:13:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-10 17:13:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1049s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-10 17:13:54 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0416s
2025-10-10 17:13:54 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 17:13:59 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?page=1&size=10
2025-10-10 17:13:59 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 17:13:59 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 17:13:59 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:13:59 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:13:59 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 17:13:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 17:13:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1078s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 17:13:59 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/jd?page=1&size=100
2025-10-10 17:13:59 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 17:13:59 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 17:13:59 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:13:59 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:13:59 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 17:13:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 17:13:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1078s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 17:13:59 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 17:13:59 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 17:13:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID ORDER BY resume_evaluations.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-10 17:13:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1076s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 20, 0)
2025-10-10 17:13:59 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 17:13:59 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 17:13:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT count(*) AS count_1 
FROM (SELECT job_descriptions.title AS title, job_descriptions.department AS department, job_descriptions.location AS location, job_descriptions.salary_range AS salary_range, job_descriptions.experience_level AS experience_level, job_descriptions.education AS education, job_descriptions.job_type AS job_type, job_descriptions.skills AS skills, job_descriptions.content AS content, job_descriptions.requirements AS requirements, job_descriptions.status AS status, job_descriptions.meta_data AS meta_data, job_descriptions.conversation_id AS conversation_id, job_descriptions.workflow_type AS workflow_type, job_descriptions.user_id AS user_id, job_descriptions.id AS id, job_descriptions.created_at AS created_at, job_descriptions.updated_at AS updated_at, job_descriptions.is_active AS is_active, job_descriptions.created_by AS created_by, job_descriptions.updated_by AS updated_by 
FROM job_descriptions 
WHERE job_descriptions.user_id = $1::UUID AND job_descriptions.is_active = true) AS anon_1
2025-10-10 17:13:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1078s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 17:13:59 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0653s
2025-10-10 17:13:59 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 17:13:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT job_descriptions.title, job_descriptions.department, job_descriptions.location, job_descriptions.salary_range, job_descriptions.experience_level, job_descriptions.education, job_descriptions.job_type, job_descriptions.skills, job_descriptions.content, job_descriptions.requirements, job_descriptions.status, job_descriptions.meta_data, job_descriptions.conversation_id, job_descriptions.workflow_type, job_descriptions.user_id, job_descriptions.id, job_descriptions.created_at, job_descriptions.updated_at, job_descriptions.is_active, job_descriptions.created_by, job_descriptions.updated_by 
FROM job_descriptions 
WHERE job_descriptions.user_id = $1::UUID AND job_descriptions.is_active = true ORDER BY job_descriptions.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-10 17:13:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1077s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 100, 0)
2025-10-10 17:13:59 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1637s
2025-10-10 17:13:59 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 17:14:03 - app.core.middleware - INFO - middleware - dispatch - Request: PUT http://localhost:8000/api/v1/resume-evaluation/2a22cb0d-45f3-4f30-887d-89c3ba31530f/status?status=interview
2025-10-10 17:14:03 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 17:14:03 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 17:14:03 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:14:03 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:14:03 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 17:14:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 17:14:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1082s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 17:14:03 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 17:14:03 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 17:14:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.id = $1::UUID AND resume_evaluations.user_id = $2::UUID
2025-10-10 17:14:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1076s ago] (UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-10 17:14:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - UPDATE resume_evaluations SET status=$1::resumestatus, updated_at=$2::TIMESTAMP WITHOUT TIME ZONE WHERE resume_evaluations.id = $3::UUID
2025-10-10 17:14:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1076s ago] ('INTERVIEW', datetime.datetime(2025, 10, 10, 9, 14, 3, 476528), UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'))
2025-10-10 17:14:03 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-10 17:14:03 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1269s
2025-10-10 17:14:03 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?page=1&size=10
2025-10-10 17:14:03 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 17:14:03 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 17:14:03 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:14:03 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:14:03 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 17:14:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 17:14:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1082s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 17:14:03 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 17:14:03 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 17:14:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID ORDER BY resume_evaluations.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-10 17:14:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1080s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 20, 0)
2025-10-10 17:14:03 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0629s
2025-10-10 17:14:03 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 17:14:03 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-10 17:14:03 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 17:14:03 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 17:14:03 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:14:03 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:14:03 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 17:14:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 17:14:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1082s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 17:14:03 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 17:14:03 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 17:14:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-10 17:14:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1057s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-10 17:14:03 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0595s
2025-10-10 17:14:03 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 17:21:05 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-10 17:21:05 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 17:21:05 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 17:21:05 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:21:05 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:21:05 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 17:21:05 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 17:21:05 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1504s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 17:21:05 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-10 17:21:05 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 17:21:05 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 17:21:05 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:21:05 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:21:05 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 17:21:05 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 17:21:05 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1504s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 17:21:24 - app.services.user_service - ERROR - user_service - get_user - Error getting user 663c3a32-596c-4fec-955e-6eace86eb281: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-10 17:21:24 - app.api.deps - ERROR - deps - get_current_user - ❌ Error in get_current_user: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-10 17:21:24 - app.core.exception_handlers - ERROR - exception_handlers - sqlalchemy_exception_handler - Database Error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\asyncio\selector_events.py", line 862, in _read_ready__data_received
    data = self._sock.recv(self.max_size)
ConnectionResetError: [WinError 10054] 远程主机强迫关闭了一个现有的连接。

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 859, in _start_transaction
    await self._transaction.start()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\asyncpg\transaction.py", line 146, in start
    await self._connection.execute(query)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\asyncpg\connection.py", line 350, in execute
    result = await self._protocol.query(query, timeout)
  File "asyncpg\protocol\protocol.pyx", line 374, in query
asyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 527, in _prepare_and_execute
    await adapt_connection._start_transaction()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 861, in _start_transaction
    self._handle_exception(error)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.Error: <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 20, in __call__
    raise e
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 66, in app
    response = await func(request)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\routing.py", line 264, in app
    solved_result = await solve_dependencies(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\dependencies\utils.py", line 592, in solve_dependencies
    solved = await call(**sub_values)
  File "E:\workspace-py\hr-agent\backend\app\api\deps.py", line 56, in get_current_user
    user = await user_service.get_user(user_uuid)
  File "E:\workspace-py\hr-agent\backend\app\services\user_service.py", line 112, in get_user
    result = await self.db.execute(query)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 455, in execute
    result = await greenlet_spawn(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 190, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\orm\session.py", line 2308, in execute
    return self._execute_internal(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\orm\session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 527, in _prepare_and_execute
    await adapt_connection._start_transaction()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 861, in _start_transaction
    self._handle_exception(error)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.DBAPIError: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-10 17:21:24 - app.core.middleware - INFO - middleware - dispatch - Response: 500 - Processing time: 19.1568s
2025-10-10 17:21:24 - app.services.user_service - ERROR - user_service - get_user - Error getting user 663c3a32-596c-4fec-955e-6eace86eb281: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-10 17:21:24 - app.api.deps - ERROR - deps - get_current_user - ❌ Error in get_current_user: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-10 17:21:24 - app.core.exception_handlers - ERROR - exception_handlers - sqlalchemy_exception_handler - Database Error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\asyncio\selector_events.py", line 862, in _read_ready__data_received
    data = self._sock.recv(self.max_size)
ConnectionResetError: [WinError 10054] 远程主机强迫关闭了一个现有的连接。

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 859, in _start_transaction
    await self._transaction.start()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\asyncpg\transaction.py", line 146, in start
    await self._connection.execute(query)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\asyncpg\connection.py", line 350, in execute
    result = await self._protocol.query(query, timeout)
  File "asyncpg\protocol\protocol.pyx", line 374, in query
asyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 527, in _prepare_and_execute
    await adapt_connection._start_transaction()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 861, in _start_transaction
    self._handle_exception(error)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.Error: <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 20, in __call__
    raise e
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 66, in app
    response = await func(request)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\routing.py", line 264, in app
    solved_result = await solve_dependencies(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\dependencies\utils.py", line 592, in solve_dependencies
    solved = await call(**sub_values)
  File "E:\workspace-py\hr-agent\backend\app\api\deps.py", line 56, in get_current_user
    user = await user_service.get_user(user_uuid)
  File "E:\workspace-py\hr-agent\backend\app\services\user_service.py", line 112, in get_user
    result = await self.db.execute(query)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 455, in execute
    result = await greenlet_spawn(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 190, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\orm\session.py", line 2308, in execute
    return self._execute_internal(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\orm\session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 527, in _prepare_and_execute
    await adapt_connection._start_transaction()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 861, in _start_transaction
    self._handle_exception(error)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.DBAPIError: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-10 17:21:24 - app.core.middleware - INFO - middleware - dispatch - Response: 500 - Processing time: 19.1554s
2025-10-10 17:21:26 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/auth/login
2025-10-10 17:21:26 - app.api.v1.endpoints.auth - INFO - auth - login - Login attempt for username: testuser
2025-10-10 17:21:26 - app.api.v1.endpoints.auth - INFO - auth - login - UserService created successfully
2025-10-10 17:21:26 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 17:21:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.username = $1::VARCHAR AND users.is_active = true
2025-10-10 17:21:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1040s ago] ('testuser',)
2025-10-10 17:21:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - UPDATE users SET last_login=now(), updated_at=$1::TIMESTAMP WITHOUT TIME ZONE WHERE users.id = $2::UUID
2025-10-10 17:21:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1040s ago] (datetime.datetime(2025, 10, 10, 9, 21, 26, 510958), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-10 17:21:26 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-10 17:21:26 - app.api.v1.endpoints.auth - INFO - auth - login - Authentication result: True
2025-10-10 17:21:26 - app.api.v1.endpoints.auth - INFO - auth - login - Creating access token for user: testuser
2025-10-10 17:21:26 - app.api.v1.endpoints.auth - INFO - auth - login - Login successful for user: testuser
2025-10-10 17:21:26 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.5308s
2025-10-10 17:21:26 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-10 17:21:26 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 17:21:26 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 17:21:26 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:21:26 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:21:26 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 17:21:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 17:21:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1525s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 17:21:26 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 17:21:26 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 17:21:26 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-10 17:21:26 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-10 17:21:26 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-10 17:21:26 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-10 17:21:26 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.2551s
2025-10-10 17:21:26 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 17:21:30 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-10 17:21:30 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 17:21:30 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 17:21:30 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:21:30 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:21:30 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 17:21:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 17:21:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1529s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 17:21:30 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 17:21:30 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 17:21:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-10 17:21:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1504s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-10 17:21:30 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1232s
2025-10-10 17:21:30 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 17:39:30 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-10 17:40:08 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-10 17:40:08 - main - INFO - main - lifespan - Database connections closed
2025-10-10 17:40:08 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-10 17:40:12 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-10 17:40:12 - main - INFO - main - lifespan - Logging configured
2025-10-10 17:40:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-10 17:40:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-10 17:40:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-10 17:40:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-10 17:40:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-10 17:40:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-10 17:40:12 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 17:40:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-10 17:40:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00041s] ()
2025-10-10 17:40:12 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-10 17:40:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 17:40:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00083s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 17:40:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 17:40:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03039s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 17:40:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 17:40:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03843s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 17:40:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 17:40:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04487s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 17:40:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 17:40:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05172s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 17:40:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 17:40:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06603s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 17:40:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 17:40:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07307s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 17:40:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 17:40:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08653s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 17:40:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 17:40:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09951s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 17:40:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 17:40:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1085s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 17:40:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 17:40:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00035s] ('userrole', 'pg_catalog')
2025-10-10 17:40:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 17:40:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02023s ago] ('conversationstatus', 'pg_catalog')
2025-10-10 17:40:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 17:40:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02676s ago] ('messagerole', 'pg_catalog')
2025-10-10 17:40:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 17:40:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03586s ago] ('jdstatus', 'pg_catalog')
2025-10-10 17:40:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 17:40:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04849s ago] ('scoringstatus', 'pg_catalog')
2025-10-10 17:40:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 17:40:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05854s ago] ('resumestatus', 'pg_catalog')
2025-10-10 17:40:12 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-10 17:40:12 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-10 17:40:12 - main - INFO - main - lifespan - Database initialized successfully
2025-10-10 17:40:12 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-10 17:40:42 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-10 17:40:42 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 17:40:42 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 17:40:42 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:40:42 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:40:42 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 17:40:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 17:40:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00064s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 17:40:42 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 17:40:42 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 17:40:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-10 17:40:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00087s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-10 17:40:42 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.2163s
2025-10-10 17:40:42 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 17:41:09 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-10 17:41:09 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 17:41:09 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 17:41:09 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:41:09 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:41:09 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 17:41:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 17:41:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 27.17s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 17:41:09 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-10 17:41:09 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 17:41:09 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 17:41:09 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:41:09 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:41:09 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 17:41:09 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 17:41:09 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-10 17:41:09 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-10 17:41:09 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-10 17:41:09 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-10 17:41:09 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0664s
2025-10-10 17:41:09 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 17:41:09 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 17:41:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 17:41:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 27.35s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 17:41:09 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 17:41:09 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 17:41:09 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-10 17:41:09 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-10 17:41:09 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-10 17:41:09 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-10 17:41:09 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.2669s
2025-10-10 17:41:09 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 17:41:24 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-10 17:41:24 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 17:41:24 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 17:41:24 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:41:24 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:41:24 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 17:41:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 17:41:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 41.8s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 17:41:24 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-10 17:41:24 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 17:41:24 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 17:41:24 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:41:24 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:41:24 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 17:41:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 17:41:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 41.8s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 17:41:24 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 17:41:24 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 17:41:24 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-10 17:41:24 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-10 17:41:24 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-10 17:41:24 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-10 17:41:24 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0345s
2025-10-10 17:41:24 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 17:41:24 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 17:41:24 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-10 17:41:24 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-10 17:41:24 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-10 17:41:24 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-10 17:41:24 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 17:41:24 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0390s
2025-10-10 17:41:24 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 17:41:24 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-10 17:41:24 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 17:41:24 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 17:41:24 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:41:24 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:41:24 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 17:41:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 17:41:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 42.17s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 17:41:24 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 17:41:24 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 17:41:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-10 17:41:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 42.1s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-10 17:41:24 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0697s
2025-10-10 17:41:24 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 17:41:45 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-10 17:41:45 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 17:41:45 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 17:41:45 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:41:45 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:41:45 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 17:41:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 17:41:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 62.81s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 17:41:45 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 17:41:45 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 17:41:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-10 17:41:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 62.73s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-10 17:41:45 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0841s
2025-10-10 17:41:45 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 17:42:14 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-10 17:42:14 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-10 17:42:14 - main - INFO - main - lifespan - Database connections closed
2025-10-10 17:42:14 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-10 17:45:46 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-10 17:45:46 - main - INFO - main - lifespan - Logging configured
2025-10-10 17:45:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-10 17:45:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-10 17:45:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-10 17:45:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-10 17:45:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-10 17:45:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-10 17:45:46 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 17:45:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-10 17:45:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00096s] ()
2025-10-10 17:45:46 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-10 17:45:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 17:45:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00241s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 17:45:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 17:45:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02355s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 17:45:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 17:45:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03509s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 17:45:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 17:45:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04465s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 17:45:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 17:45:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05755s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 17:45:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 17:45:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07079s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 17:45:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 17:45:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08309s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 17:45:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 17:45:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09559s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 17:45:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 17:45:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1061s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 17:45:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 17:45:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1176s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 17:45:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 17:45:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00175s] ('userrole', 'pg_catalog')
2025-10-10 17:45:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 17:45:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02341s ago] ('conversationstatus', 'pg_catalog')
2025-10-10 17:45:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 17:45:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03563s ago] ('messagerole', 'pg_catalog')
2025-10-10 17:45:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 17:45:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05427s ago] ('jdstatus', 'pg_catalog')
2025-10-10 17:45:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 17:45:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06399s ago] ('scoringstatus', 'pg_catalog')
2025-10-10 17:45:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 17:45:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07537s ago] ('resumestatus', 'pg_catalog')
2025-10-10 17:45:47 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-10 17:45:47 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-10 17:45:47 - main - INFO - main - lifespan - Database initialized successfully
2025-10-10 17:45:47 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-10 17:46:05 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-10 17:46:05 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-10 17:46:05 - main - INFO - main - lifespan - Database connections closed
2025-10-10 17:46:05 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-10 17:46:11 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-10 17:46:11 - main - INFO - main - lifespan - Logging configured
2025-10-10 17:46:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-10 17:46:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-10 17:46:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-10 17:46:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-10 17:46:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-10 17:46:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-10 17:46:11 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 17:46:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-10 17:46:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00059s] ()
2025-10-10 17:46:11 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-10 17:46:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 17:46:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00125s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 17:46:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 17:46:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02687s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 17:46:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 17:46:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03691s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 17:46:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 17:46:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05064s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 17:46:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 17:46:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06718s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 17:46:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 17:46:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07778s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 17:46:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 17:46:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09538s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 17:46:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 17:46:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1074s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 17:46:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 17:46:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1175s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 17:46:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 17:46:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1276s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 17:46:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 17:46:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00202s] ('userrole', 'pg_catalog')
2025-10-10 17:46:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 17:46:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02474s ago] ('conversationstatus', 'pg_catalog')
2025-10-10 17:46:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 17:46:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03539s ago] ('messagerole', 'pg_catalog')
2025-10-10 17:46:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 17:46:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05177s ago] ('jdstatus', 'pg_catalog')
2025-10-10 17:46:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 17:46:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06117s ago] ('scoringstatus', 'pg_catalog')
2025-10-10 17:46:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 17:46:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07646s ago] ('resumestatus', 'pg_catalog')
2025-10-10 17:46:11 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-10 17:46:11 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-10 17:46:11 - main - INFO - main - lifespan - Database initialized successfully
2025-10-10 17:46:11 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-10 17:46:29 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/
2025-10-10 17:46:29 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0050s
2025-10-10 17:46:47 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/docs
2025-10-10 17:46:47 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0020s
2025-10-10 17:46:55 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/auth/login
2025-10-10 17:46:55 - app.api.v1.endpoints.auth - INFO - auth - login - Login attempt for username: testuser
2025-10-10 17:46:55 - app.api.v1.endpoints.auth - INFO - auth - login - UserService created successfully
2025-10-10 17:46:55 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 17:46:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.username = $1::VARCHAR AND users.is_active = true
2025-10-10 17:46:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00130s] ('testuser',)
2025-10-10 17:46:55 - passlib.handlers.bcrypt - WARNING - bcrypt - _load_backend_mixin - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\passlib\handlers\bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-10-10 17:46:56 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - UPDATE users SET last_login=now(), updated_at=$1::TIMESTAMP WITHOUT TIME ZONE WHERE users.id = $2::UUID
2025-10-10 17:46:56 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00083s] (datetime.datetime(2025, 10, 10, 9, 46, 56, 144935), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-10 17:46:56 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-10 17:46:56 - app.api.v1.endpoints.auth - INFO - auth - login - Authentication result: True
2025-10-10 17:46:56 - app.api.v1.endpoints.auth - INFO - auth - login - Creating access token for user: testuser
2025-10-10 17:46:56 - app.api.v1.endpoints.auth - INFO - auth - login - Login successful for user: testuser
2025-10-10 17:46:56 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.4283s
2025-10-10 17:46:56 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-10 17:46:56 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 17:46:56 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 17:46:56 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:46:56 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:46:56 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 17:46:56 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 17:46:56 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00040s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 17:46:56 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 17:46:56 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 17:46:56 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-10 17:46:56 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-10 17:46:56 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-10 17:46:56 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-10 17:46:56 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0491s
2025-10-10 17:46:56 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 17:46:59 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/docs
2025-10-10 17:46:59 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0000s
2025-10-10 17:46:59 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-10 17:46:59 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 17:46:59 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 17:46:59 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:46:59 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:46:59 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 17:46:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 17:46:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 3.386s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 17:46:59 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 17:46:59 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 17:46:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-10 17:46:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00111s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-10 17:46:59 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1031s
2025-10-10 17:46:59 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 17:47:19 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/auth/login
2025-10-10 17:47:19 - app.api.v1.endpoints.auth - INFO - auth - login - Login attempt for username: testuser
2025-10-10 17:47:19 - app.api.v1.endpoints.auth - INFO - auth - login - UserService created successfully
2025-10-10 17:47:19 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 17:47:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.username = $1::VARCHAR AND users.is_active = true
2025-10-10 17:47:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 23.52s ago] ('testuser',)
2025-10-10 17:47:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - UPDATE users SET last_login=now(), updated_at=$1::TIMESTAMP WITHOUT TIME ZONE WHERE users.id = $2::UUID
2025-10-10 17:47:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 23.41s ago] (datetime.datetime(2025, 10, 10, 9, 47, 19, 557561), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-10 17:47:19 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-10 17:47:19 - app.api.v1.endpoints.auth - INFO - auth - login - Authentication result: True
2025-10-10 17:47:19 - app.api.v1.endpoints.auth - INFO - auth - login - Creating access token for user: testuser
2025-10-10 17:47:19 - app.api.v1.endpoints.auth - INFO - auth - login - Login successful for user: testuser
2025-10-10 17:47:19 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.2513s
2025-10-10 17:47:19 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-10 17:47:19 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 17:47:19 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 17:47:19 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:47:19 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:47:19 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 17:47:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 17:47:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 23.38s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 17:47:19 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 17:47:19 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 17:47:19 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-10 17:47:19 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-10 17:47:19 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-10 17:47:19 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-10 17:47:19 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0199s
2025-10-10 17:47:19 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 17:47:21 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-10 17:47:21 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 17:47:21 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 17:47:21 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:47:21 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:47:21 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 17:47:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 17:47:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 25.64s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 17:47:21 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 17:47:21 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 17:47:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-10 17:47:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 22.24s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-10 17:47:21 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0449s
2025-10-10 17:47:21 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 17:54:15 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/jd?page=1&size=100
2025-10-10 17:54:15 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?page=1&size=10
2025-10-10 17:54:15 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 17:54:15 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 17:54:15 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:54:15 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:54:15 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 17:54:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 17:54:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 439.2s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 17:54:15 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 17:54:15 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 17:54:15 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:54:15 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:54:15 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 17:54:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 17:54:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 439.4s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 17:54:15 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 17:54:15 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 17:54:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID ORDER BY resume_evaluations.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-10 17:54:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00125s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 20, 0)
2025-10-10 17:54:15 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.3361s
2025-10-10 17:54:15 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 17:54:16 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-10 17:54:16 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 17:54:16 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 17:54:16 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:54:16 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:54:16 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 17:54:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 17:54:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 440.3s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 17:54:16 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 17:54:16 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 17:54:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-10 17:54:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 436.9s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-10 17:54:16 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0649s
2025-10-10 17:54:16 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 17:54:34 - app.services.user_service - ERROR - user_service - get_user - Error getting user 663c3a32-596c-4fec-955e-6eace86eb281: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-10 17:54:34 - app.api.deps - ERROR - deps - get_current_user - ❌ Error in get_current_user: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-10 17:54:34 - app.core.exception_handlers - ERROR - exception_handlers - sqlalchemy_exception_handler - Database Error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\asyncio\selector_events.py", line 862, in _read_ready__data_received
    data = self._sock.recv(self.max_size)
ConnectionResetError: [WinError 10054] 远程主机强迫关闭了一个现有的连接。

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 859, in _start_transaction
    await self._transaction.start()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\asyncpg\transaction.py", line 146, in start
    await self._connection.execute(query)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\asyncpg\connection.py", line 350, in execute
    result = await self._protocol.query(query, timeout)
  File "asyncpg\protocol\protocol.pyx", line 374, in query
asyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 527, in _prepare_and_execute
    await adapt_connection._start_transaction()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 861, in _start_transaction
    self._handle_exception(error)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.Error: <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 20, in __call__
    raise e
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 66, in app
    response = await func(request)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\routing.py", line 264, in app
    solved_result = await solve_dependencies(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\dependencies\utils.py", line 592, in solve_dependencies
    solved = await call(**sub_values)
  File "E:\workspace-py\hr-agent\backend\app\api\deps.py", line 56, in get_current_user
    user = await user_service.get_user(user_uuid)
  File "E:\workspace-py\hr-agent\backend\app\services\user_service.py", line 112, in get_user
    result = await self.db.execute(query)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 455, in execute
    result = await greenlet_spawn(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 190, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\orm\session.py", line 2308, in execute
    return self._execute_internal(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\orm\session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 527, in _prepare_and_execute
    await adapt_connection._start_transaction()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 861, in _start_transaction
    self._handle_exception(error)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.DBAPIError: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-10 17:54:34 - app.core.middleware - INFO - middleware - dispatch - Response: 500 - Processing time: 19.1670s
2025-10-10 17:54:44 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-10 17:54:44 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 17:54:44 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 17:54:44 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:54:44 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:54:44 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-10 17:54:44 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 17:54:44 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 17:54:44 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:54:44 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:54:44 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-10 17:54:44 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 17:54:44 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 17:54:44 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:54:44 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:54:44 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 17:54:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 17:54:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 468.1s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 17:54:44 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 17:54:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 17:54:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 468.1s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 17:54:44 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 17:54:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 17:54:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 468.2s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 17:54:44 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 17:54:44 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 17:54:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-10 17:54:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 464.8s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-10 17:54:44 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 17:54:44 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 17:54:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-10 17:54:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 464.8s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-10 17:54:44 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 17:54:44 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 17:54:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-10 17:54:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 464.9s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-10 17:54:44 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.4043s
2025-10-10 17:54:44 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 17:54:44 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.4587s
2025-10-10 17:54:44 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 17:54:44 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.3795s
2025-10-10 17:54:44 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 17:54:51 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-10 17:54:51 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 17:54:51 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 17:54:51 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:54:51 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:54:51 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 17:54:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 17:54:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 475.1s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 17:54:51 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 17:54:51 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 17:54:51 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-10 17:54:51 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-10 17:54:51 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-10 17:54:51 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-10 17:54:51 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0211s
2025-10-10 17:54:51 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 17:54:51 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-10 17:54:51 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 17:54:51 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 17:54:51 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:54:51 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 17:54:51 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 17:54:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 17:54:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 475.1s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 17:54:51 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 17:54:51 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 17:54:51 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-10 17:54:51 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-10 17:54:51 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-10 17:54:51 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-10 17:54:51 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0210s
2025-10-10 17:54:51 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 18:00:02 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?page=1&size=10
2025-10-10 18:00:02 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/jd?page=1&size=100
2025-10-10 18:00:02 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 18:00:02 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 18:00:02 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:00:02 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:00:02 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 18:00:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 18:00:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 786.1s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 18:00:02 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 18:00:02 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 18:00:02 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:00:02 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:00:02 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 18:00:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 18:00:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 786.1s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 18:00:03 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-10 18:00:03 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 18:00:03 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 18:00:03 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:00:03 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:00:03 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 18:00:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 18:00:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 786.9s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 18:00:21 - app.services.user_service - ERROR - user_service - get_user - Error getting user 663c3a32-596c-4fec-955e-6eace86eb281: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-10 18:00:21 - app.api.deps - ERROR - deps - get_current_user - ❌ Error in get_current_user: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-10 18:00:21 - app.services.user_service - ERROR - user_service - get_user - Error getting user 663c3a32-596c-4fec-955e-6eace86eb281: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-10 18:00:21 - app.api.deps - ERROR - deps - get_current_user - ❌ Error in get_current_user: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-10 18:00:21 - app.core.exception_handlers - ERROR - exception_handlers - sqlalchemy_exception_handler - Database Error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\asyncio\selector_events.py", line 862, in _read_ready__data_received
    data = self._sock.recv(self.max_size)
ConnectionResetError: [WinError 10054] 远程主机强迫关闭了一个现有的连接。

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 859, in _start_transaction
    await self._transaction.start()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\asyncpg\transaction.py", line 146, in start
    await self._connection.execute(query)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\asyncpg\connection.py", line 350, in execute
    result = await self._protocol.query(query, timeout)
  File "asyncpg\protocol\protocol.pyx", line 374, in query
asyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 527, in _prepare_and_execute
    await adapt_connection._start_transaction()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 861, in _start_transaction
    self._handle_exception(error)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.Error: <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 20, in __call__
    raise e
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 66, in app
    response = await func(request)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\routing.py", line 264, in app
    solved_result = await solve_dependencies(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\dependencies\utils.py", line 592, in solve_dependencies
    solved = await call(**sub_values)
  File "E:\workspace-py\hr-agent\backend\app\api\deps.py", line 56, in get_current_user
    user = await user_service.get_user(user_uuid)
  File "E:\workspace-py\hr-agent\backend\app\services\user_service.py", line 112, in get_user
    result = await self.db.execute(query)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 455, in execute
    result = await greenlet_spawn(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 190, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\orm\session.py", line 2308, in execute
    return self._execute_internal(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\orm\session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 527, in _prepare_and_execute
    await adapt_connection._start_transaction()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 861, in _start_transaction
    self._handle_exception(error)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.DBAPIError: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-10 18:00:21 - app.core.exception_handlers - ERROR - exception_handlers - sqlalchemy_exception_handler - Database Error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\asyncio\selector_events.py", line 862, in _read_ready__data_received
    data = self._sock.recv(self.max_size)
ConnectionResetError: [WinError 10054] 远程主机强迫关闭了一个现有的连接。

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 859, in _start_transaction
    await self._transaction.start()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\asyncpg\transaction.py", line 146, in start
    await self._connection.execute(query)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\asyncpg\connection.py", line 350, in execute
    result = await self._protocol.query(query, timeout)
  File "asyncpg\protocol\protocol.pyx", line 374, in query
asyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 527, in _prepare_and_execute
    await adapt_connection._start_transaction()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 861, in _start_transaction
    self._handle_exception(error)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.Error: <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 20, in __call__
    raise e
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 66, in app
    response = await func(request)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\routing.py", line 264, in app
    solved_result = await solve_dependencies(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\dependencies\utils.py", line 592, in solve_dependencies
    solved = await call(**sub_values)
  File "E:\workspace-py\hr-agent\backend\app\api\deps.py", line 56, in get_current_user
    user = await user_service.get_user(user_uuid)
  File "E:\workspace-py\hr-agent\backend\app\services\user_service.py", line 112, in get_user
    result = await self.db.execute(query)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 455, in execute
    result = await greenlet_spawn(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 190, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\orm\session.py", line 2308, in execute
    return self._execute_internal(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\orm\session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 527, in _prepare_and_execute
    await adapt_connection._start_transaction()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 861, in _start_transaction
    self._handle_exception(error)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.DBAPIError: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-10 18:00:21 - app.core.middleware - INFO - middleware - dispatch - Response: 500 - Processing time: 19.1869s
2025-10-10 18:00:21 - app.core.middleware - INFO - middleware - dispatch - Response: 500 - Processing time: 19.1870s
2025-10-10 18:00:22 - app.services.user_service - ERROR - user_service - get_user - Error getting user 663c3a32-596c-4fec-955e-6eace86eb281: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-10 18:00:22 - app.api.deps - ERROR - deps - get_current_user - ❌ Error in get_current_user: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-10 18:00:22 - app.core.exception_handlers - ERROR - exception_handlers - sqlalchemy_exception_handler - Database Error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\asyncio\selector_events.py", line 862, in _read_ready__data_received
    data = self._sock.recv(self.max_size)
ConnectionResetError: [WinError 10054] 远程主机强迫关闭了一个现有的连接。

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 859, in _start_transaction
    await self._transaction.start()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\asyncpg\transaction.py", line 146, in start
    await self._connection.execute(query)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\asyncpg\connection.py", line 350, in execute
    result = await self._protocol.query(query, timeout)
  File "asyncpg\protocol\protocol.pyx", line 374, in query
asyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 527, in _prepare_and_execute
    await adapt_connection._start_transaction()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 861, in _start_transaction
    self._handle_exception(error)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.Error: <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 20, in __call__
    raise e
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 66, in app
    response = await func(request)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\routing.py", line 264, in app
    solved_result = await solve_dependencies(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\dependencies\utils.py", line 592, in solve_dependencies
    solved = await call(**sub_values)
  File "E:\workspace-py\hr-agent\backend\app\api\deps.py", line 56, in get_current_user
    user = await user_service.get_user(user_uuid)
  File "E:\workspace-py\hr-agent\backend\app\services\user_service.py", line 112, in get_user
    result = await self.db.execute(query)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 455, in execute
    result = await greenlet_spawn(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 190, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\orm\session.py", line 2308, in execute
    return self._execute_internal(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\orm\session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 527, in _prepare_and_execute
    await adapt_connection._start_transaction()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 861, in _start_transaction
    self._handle_exception(error)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.DBAPIError: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-10 18:00:22 - app.core.middleware - INFO - middleware - dispatch - Response: 500 - Processing time: 19.1905s
2025-10-10 18:00:26 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-10 18:00:26 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 18:00:26 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 18:00:26 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:00:26 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:00:26 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-10 18:00:26 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 18:00:26 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 18:00:26 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:00:26 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:00:26 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 18:00:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 18:00:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 810s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 18:00:26 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 18:00:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 18:00:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 810s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 18:00:26 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 18:00:26 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 18:00:26 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-10 18:00:26 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-10 18:00:26 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-10 18:00:26 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-10 18:00:26 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.2749s
2025-10-10 18:00:26 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 18:00:26 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 18:00:26 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 18:00:26 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-10 18:00:26 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-10 18:00:26 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-10 18:00:26 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-10 18:00:26 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.2711s
2025-10-10 18:00:26 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 18:00:26 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-10 18:00:26 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 18:00:26 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 18:00:26 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:00:26 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:00:26 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 18:00:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 18:00:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 810.5s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 18:00:26 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 18:00:26 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 18:00:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-10 18:00:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 807.2s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-10 18:00:26 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.3517s
2025-10-10 18:00:26 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 18:00:31 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/hr-workflows/generate-interview-plan-by-resume
2025-10-10 18:00:31 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 18:00:31 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 18:00:31 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:00:31 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:00:31 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 18:00:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 18:00:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 815.3s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 18:00:31 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 18:00:31 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 18:00:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.id = $1::UUID AND resume_evaluations.user_id = $2::UUID
2025-10-10 18:00:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00091s] ('2a22cb0d-45f3-4f30-887d-89c3ba31530f', UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-10 18:00:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT job_descriptions.title, job_descriptions.department, job_descriptions.location, job_descriptions.salary_range, job_descriptions.experience_level, job_descriptions.education, job_descriptions.job_type, job_descriptions.skills, job_descriptions.content, job_descriptions.requirements, job_descriptions.status, job_descriptions.meta_data, job_descriptions.conversation_id, job_descriptions.workflow_type, job_descriptions.user_id, job_descriptions.id, job_descriptions.created_at, job_descriptions.updated_at, job_descriptions.is_active, job_descriptions.created_by, job_descriptions.updated_by 
FROM job_descriptions 
WHERE job_descriptions.id = $1::UUID AND job_descriptions.user_id = $2::UUID
2025-10-10 18:00:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00185s] (UUID('819565d7-dd02-43b5-886e-492639b50724'), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-10 18:00:31 - app.core.logging - ERROR - hr_workflows - generate_interview_plan_by_resume - Error generating interview plan by resume: 'JobDescription' object has no attribute 'responsibilities'
2025-10-10 18:00:31 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 18:00:31 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: 生成面试方案失败: 'JobDescription' object has no attribute 'responsibilities'
2025-10-10 18:00:31 - app.core.middleware - INFO - middleware - dispatch - Response: 500 - Processing time: 0.1810s
2025-10-10 18:01:11 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-10 18:01:11 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-10 18:01:11 - main - INFO - main - lifespan - Database connections closed
2025-10-10 18:01:11 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-10 18:11:49 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-10 18:11:49 - main - INFO - main - lifespan - Logging configured
2025-10-10 18:11:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-10 18:11:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-10 18:11:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-10 18:11:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-10 18:11:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-10 18:11:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-10 18:11:49 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 18:11:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-10 18:11:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00036s] ()
2025-10-10 18:11:49 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-10 18:11:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 18:11:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00042s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 18:11:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 18:11:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.01594s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 18:11:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 18:11:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03652s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 18:11:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 18:11:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04747s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 18:11:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 18:11:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05409s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 18:11:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 18:11:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06783s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 18:11:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 18:11:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07629s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 18:11:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 18:11:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08524s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 18:11:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 18:11:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09282s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 18:11:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 18:11:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09973s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 18:11:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 18:11:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00029s] ('userrole', 'pg_catalog')
2025-10-10 18:11:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 18:11:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.01466s ago] ('conversationstatus', 'pg_catalog')
2025-10-10 18:11:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 18:11:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02355s ago] ('messagerole', 'pg_catalog')
2025-10-10 18:11:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 18:11:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03133s ago] ('jdstatus', 'pg_catalog')
2025-10-10 18:11:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 18:11:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03869s ago] ('scoringstatus', 'pg_catalog')
2025-10-10 18:11:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 18:11:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05626s ago] ('resumestatus', 'pg_catalog')
2025-10-10 18:11:49 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-10 18:11:49 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-10 18:11:49 - main - INFO - main - lifespan - Database initialized successfully
2025-10-10 18:11:49 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-10 18:12:25 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/hr-workflows/generate-interview-plan-by-resume
2025-10-10 18:12:25 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: Not authenticated
2025-10-10 18:12:25 - app.core.middleware - INFO - middleware - dispatch - Response: 401 - Processing time: 0.0020s
2025-10-10 18:12:55 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-10 18:12:55 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 18:12:55 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 18:12:55 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:12:55 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:12:55 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 18:12:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 18:12:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00061s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 18:12:55 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 18:12:55 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 18:12:55 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-10 18:12:55 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-10 18:12:55 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-10 18:12:55 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-10 18:12:55 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1283s
2025-10-10 18:12:55 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 18:12:55 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-10 18:12:55 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 18:12:55 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 18:12:55 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:12:55 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:12:56 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 18:12:56 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 18:12:56 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.2338s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 18:12:56 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 18:12:56 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 18:12:56 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-10 18:12:56 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-10 18:12:56 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-10 18:12:56 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-10 18:12:56 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.2232s
2025-10-10 18:12:56 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 18:12:56 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-base/?skip=0&limit=100
2025-10-10 18:12:56 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 18:12:56 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 18:12:56 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:12:56 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:12:56 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 18:12:56 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 18:12:56 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.5231s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 18:12:56 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 18:12:56 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 18:12:56 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT knowledge_bases.name, knowledge_bases.description, knowledge_bases.is_public, knowledge_bases.is_searchable, knowledge_bases.meta_data, knowledge_bases.document_count, knowledge_bases.category, knowledge_bases.tags, knowledge_bases.id, knowledge_bases.created_at, knowledge_bases.updated_at, knowledge_bases.is_active, knowledge_bases.created_by, knowledge_bases.updated_by 
FROM knowledge_bases 
WHERE knowledge_bases.is_public = true ORDER BY knowledge_bases.created_at DESC 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-10-10 18:12:56 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00047s] (100, 0)
2025-10-10 18:12:56 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0643s
2025-10-10 18:12:56 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 18:13:22 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-10 18:13:22 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 18:13:22 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 18:13:22 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:13:22 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:13:22 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 18:13:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 18:13:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 26.77s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 18:13:22 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 18:13:22 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 18:13:22 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-10 18:13:22 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-10 18:13:22 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-10 18:13:22 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-10 18:13:22 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0228s
2025-10-10 18:13:22 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 18:13:22 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-10 18:13:22 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 18:13:22 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 18:13:22 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:13:22 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:13:22 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 18:13:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 18:13:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 26.8s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 18:13:22 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 18:13:22 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 18:13:22 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-10 18:13:22 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-10 18:13:22 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-10 18:13:22 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-10 18:13:22 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0222s
2025-10-10 18:13:22 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 18:14:35 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/auth/login
2025-10-10 18:14:35 - app.api.v1.endpoints.auth - INFO - auth - login - Login attempt for username: testuser
2025-10-10 18:14:35 - app.api.v1.endpoints.auth - INFO - auth - login - UserService created successfully
2025-10-10 18:14:35 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 18:14:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.username = $1::VARCHAR AND users.is_active = true
2025-10-10 18:14:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00039s] ('testuser',)
2025-10-10 18:14:36 - passlib.handlers.bcrypt - WARNING - bcrypt - _load_backend_mixin - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\passlib\handlers\bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-10-10 18:14:36 - app.api.v1.endpoints.auth - INFO - auth - login - Authentication result: False
2025-10-10 18:14:36 - app.api.v1.endpoints.auth - WARNING - auth - login - Authentication failed for username: testuser
2025-10-10 18:14:36 - app.api.v1.endpoints.auth - ERROR - auth - login - Login error: 
Traceback (most recent call last):
  File "E:\workspace-py\hr-agent\backend\app\api\v1\endpoints\auth.py", line 73, in login
    raise HTTPException(
fastapi.exceptions.HTTPException
2025-10-10 18:14:36 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 18:14:36 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: Incorrect username or password
2025-10-10 18:14:36 - app.core.middleware - INFO - middleware - dispatch - Response: 401 - Processing time: 0.2910s
2025-10-10 18:14:36 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/auth/login
2025-10-10 18:14:36 - app.api.v1.endpoints.auth - INFO - auth - login - Login attempt for username: testuser
2025-10-10 18:14:36 - app.api.v1.endpoints.auth - INFO - auth - login - UserService created successfully
2025-10-10 18:14:36 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 18:14:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.username = $1::VARCHAR AND users.is_active = true
2025-10-10 18:14:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.2924s ago] ('testuser',)
2025-10-10 18:14:36 - app.api.v1.endpoints.auth - INFO - auth - login - Authentication result: False
2025-10-10 18:14:36 - app.api.v1.endpoints.auth - WARNING - auth - login - Authentication failed for username: testuser
2025-10-10 18:14:36 - app.api.v1.endpoints.auth - ERROR - auth - login - Login error: 
Traceback (most recent call last):
  File "E:\workspace-py\hr-agent\backend\app\api\v1\endpoints\auth.py", line 73, in login
    raise HTTPException(
fastapi.exceptions.HTTPException
2025-10-10 18:14:36 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 18:14:36 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: Incorrect username or password
2025-10-10 18:14:36 - app.core.middleware - INFO - middleware - dispatch - Response: 401 - Processing time: 0.2645s
2025-10-10 18:14:36 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/auth/login
2025-10-10 18:14:36 - app.api.v1.endpoints.auth - INFO - auth - login - Login attempt for username: testuser
2025-10-10 18:14:36 - app.api.v1.endpoints.auth - INFO - auth - login - UserService created successfully
2025-10-10 18:14:36 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 18:14:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.username = $1::VARCHAR AND users.is_active = true
2025-10-10 18:14:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.5601s ago] ('testuser',)
2025-10-10 18:14:36 - app.api.v1.endpoints.auth - INFO - auth - login - Authentication result: False
2025-10-10 18:14:36 - app.api.v1.endpoints.auth - WARNING - auth - login - Authentication failed for username: testuser
2025-10-10 18:14:36 - app.api.v1.endpoints.auth - ERROR - auth - login - Login error: 
Traceback (most recent call last):
  File "E:\workspace-py\hr-agent\backend\app\api\v1\endpoints\auth.py", line 73, in login
    raise HTTPException(
fastapi.exceptions.HTTPException
2025-10-10 18:14:36 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 18:14:36 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: Incorrect username or password
2025-10-10 18:14:36 - app.core.middleware - INFO - middleware - dispatch - Response: 401 - Processing time: 0.2410s
2025-10-10 18:14:36 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/auth/login
2025-10-10 18:14:36 - app.api.v1.endpoints.auth - INFO - auth - login - Login attempt for username: admin
2025-10-10 18:14:36 - app.api.v1.endpoints.auth - INFO - auth - login - UserService created successfully
2025-10-10 18:14:36 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 18:14:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.username = $1::VARCHAR AND users.is_active = true
2025-10-10 18:14:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.808s ago] ('admin',)
2025-10-10 18:14:37 - app.api.v1.endpoints.auth - INFO - auth - login - Authentication result: False
2025-10-10 18:14:37 - app.api.v1.endpoints.auth - WARNING - auth - login - Authentication failed for username: admin
2025-10-10 18:14:37 - app.api.v1.endpoints.auth - ERROR - auth - login - Login error: 
Traceback (most recent call last):
  File "E:\workspace-py\hr-agent\backend\app\api\v1\endpoints\auth.py", line 73, in login
    raise HTTPException(
fastapi.exceptions.HTTPException
2025-10-10 18:14:37 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 18:14:37 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: Incorrect username or password
2025-10-10 18:14:37 - app.core.middleware - INFO - middleware - dispatch - Response: 401 - Processing time: 0.2511s
2025-10-10 18:14:37 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/auth/login
2025-10-10 18:14:37 - app.api.v1.endpoints.auth - INFO - auth - login - Login attempt for username: admin
2025-10-10 18:14:37 - app.api.v1.endpoints.auth - INFO - auth - login - UserService created successfully
2025-10-10 18:14:37 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 18:14:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.username = $1::VARCHAR AND users.is_active = true
2025-10-10 18:14:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1.06s ago] ('admin',)
2025-10-10 18:14:37 - app.api.v1.endpoints.auth - INFO - auth - login - Authentication result: False
2025-10-10 18:14:37 - app.api.v1.endpoints.auth - WARNING - auth - login - Authentication failed for username: admin
2025-10-10 18:14:37 - app.api.v1.endpoints.auth - ERROR - auth - login - Login error: 
Traceback (most recent call last):
  File "E:\workspace-py\hr-agent\backend\app\api\v1\endpoints\auth.py", line 73, in login
    raise HTTPException(
fastapi.exceptions.HTTPException
2025-10-10 18:14:37 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 18:14:37 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: Incorrect username or password
2025-10-10 18:14:37 - app.core.middleware - INFO - middleware - dispatch - Response: 401 - Processing time: 0.2340s
2025-10-10 18:14:55 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-10 18:14:55 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-10 18:14:55 - main - INFO - main - lifespan - Database connections closed
2025-10-10 18:14:55 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-10 18:15:01 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-10 18:15:01 - main - INFO - main - lifespan - Logging configured
2025-10-10 18:15:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-10 18:15:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-10 18:15:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-10 18:15:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-10 18:15:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-10 18:15:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-10 18:15:01 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 18:15:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-10 18:15:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00111s] ()
2025-10-10 18:15:01 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-10 18:15:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 18:15:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00079s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 18:15:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 18:15:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04353s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 18:15:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 18:15:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05487s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 18:15:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 18:15:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06864s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 18:15:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 18:15:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08812s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 18:15:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 18:15:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1053s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 18:15:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 18:15:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1218s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 18:15:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 18:15:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1364s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 18:15:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 18:15:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1481s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 18:15:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-10 18:15:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1591s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-10 18:15:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 18:15:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00172s] ('userrole', 'pg_catalog')
2025-10-10 18:15:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 18:15:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02583s ago] ('conversationstatus', 'pg_catalog')
2025-10-10 18:15:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 18:15:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04254s ago] ('messagerole', 'pg_catalog')
2025-10-10 18:15:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 18:15:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05673s ago] ('jdstatus', 'pg_catalog')
2025-10-10 18:15:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 18:15:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06837s ago] ('scoringstatus', 'pg_catalog')
2025-10-10 18:15:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-10 18:15:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07898s ago] ('resumestatus', 'pg_catalog')
2025-10-10 18:15:02 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-10 18:15:02 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-10 18:15:02 - main - INFO - main - lifespan - Database initialized successfully
2025-10-10 18:15:02 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-10 18:15:04 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/auth/login
2025-10-10 18:15:04 - app.api.v1.endpoints.auth - INFO - auth - login - Login attempt for username: testuser
2025-10-10 18:15:04 - app.api.v1.endpoints.auth - INFO - auth - login - UserService created successfully
2025-10-10 18:15:04 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 18:15:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.username = $1::VARCHAR AND users.is_active = true
2025-10-10 18:15:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00125s] ('testuser',)
2025-10-10 18:15:04 - passlib.handlers.bcrypt - WARNING - bcrypt - _load_backend_mixin - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\passlib\handlers\bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-10-10 18:15:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - UPDATE users SET last_login=now(), updated_at=$1::TIMESTAMP WITHOUT TIME ZONE WHERE users.id = $2::UUID
2025-10-10 18:15:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00183s] (datetime.datetime(2025, 10, 10, 10, 15, 4, 945321), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-10 18:15:04 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-10 18:15:04 - app.api.v1.endpoints.auth - INFO - auth - login - Authentication result: True
2025-10-10 18:15:05 - app.api.v1.endpoints.auth - INFO - auth - login - Creating access token for user: testuser
2025-10-10 18:15:05 - app.api.v1.endpoints.auth - INFO - auth - login - Login successful for user: testuser
2025-10-10 18:15:05 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.5593s
2025-10-10 18:15:05 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-10 18:15:05 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 18:15:05 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 18:15:05 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:15:05 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:15:05 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 18:15:05 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 18:15:05 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00192s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 18:15:05 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 18:15:05 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 18:15:05 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-10 18:15:05 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-10 18:15:05 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-10 18:15:05 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-10 18:15:05 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0673s
2025-10-10 18:15:05 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 18:15:34 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-10 18:15:34 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 18:15:34 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 18:15:34 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:15:34 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:15:34 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 18:15:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 18:15:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 29.79s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 18:15:34 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 18:15:34 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 18:15:34 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-10 18:15:34 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-10 18:15:34 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-10 18:15:34 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-10 18:15:34 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0181s
2025-10-10 18:15:34 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 18:15:35 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-10 18:15:35 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 18:15:35 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 18:15:35 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:15:35 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:15:35 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 18:15:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 18:15:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 30.89s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 18:15:35 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 18:15:35 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 18:15:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-10 18:15:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00108s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-10 18:15:36 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1245s
2025-10-10 18:15:36 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 18:15:43 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-10 18:15:43 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 18:15:43 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 18:15:43 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:15:43 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:15:43 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 18:15:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 18:15:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 38.66s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 18:15:43 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 18:15:43 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 18:15:43 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-10 18:15:43 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-10 18:15:43 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-10 18:15:43 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-10 18:15:43 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0248s
2025-10-10 18:15:43 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 18:15:43 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-10 18:15:43 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 18:15:43 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 18:15:43 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:15:43 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:15:43 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 18:15:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 18:15:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 38.8s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 18:15:43 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 18:15:43 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 18:15:43 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-10 18:15:43 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-10 18:15:43 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-10 18:15:43 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-10 18:15:43 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.2061s
2025-10-10 18:15:43 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 18:15:52 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/jd?page=1&size=100
2025-10-10 18:15:52 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 18:15:52 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 18:15:52 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:15:52 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:15:52 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 18:15:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 18:15:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 47.34s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 18:15:52 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?page=1&size=10
2025-10-10 18:15:52 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 18:15:52 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 18:15:52 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:15:52 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:15:52 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 18:15:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 18:15:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 47.35s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 18:15:52 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 18:15:52 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 18:15:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT count(*) AS count_1 
FROM (SELECT job_descriptions.title AS title, job_descriptions.department AS department, job_descriptions.location AS location, job_descriptions.salary_range AS salary_range, job_descriptions.experience_level AS experience_level, job_descriptions.education AS education, job_descriptions.job_type AS job_type, job_descriptions.skills AS skills, job_descriptions.content AS content, job_descriptions.requirements AS requirements, job_descriptions.status AS status, job_descriptions.meta_data AS meta_data, job_descriptions.conversation_id AS conversation_id, job_descriptions.workflow_type AS workflow_type, job_descriptions.user_id AS user_id, job_descriptions.id AS id, job_descriptions.created_at AS created_at, job_descriptions.updated_at AS updated_at, job_descriptions.is_active AS is_active, job_descriptions.created_by AS created_by, job_descriptions.updated_by AS updated_by 
FROM job_descriptions 
WHERE job_descriptions.user_id = $1::UUID AND job_descriptions.is_active = true) AS anon_1
2025-10-10 18:15:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00048s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 18:15:52 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 18:15:52 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 18:15:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID ORDER BY resume_evaluations.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-10 18:15:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00045s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 20, 0)
2025-10-10 18:15:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT job_descriptions.title, job_descriptions.department, job_descriptions.location, job_descriptions.salary_range, job_descriptions.experience_level, job_descriptions.education, job_descriptions.job_type, job_descriptions.skills, job_descriptions.content, job_descriptions.requirements, job_descriptions.status, job_descriptions.meta_data, job_descriptions.conversation_id, job_descriptions.workflow_type, job_descriptions.user_id, job_descriptions.id, job_descriptions.created_at, job_descriptions.updated_at, job_descriptions.is_active, job_descriptions.created_by, job_descriptions.updated_by 
FROM job_descriptions 
WHERE job_descriptions.user_id = $1::UUID AND job_descriptions.is_active = true ORDER BY job_descriptions.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-10 18:15:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00068s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 100, 0)
2025-10-10 18:15:52 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0835s
2025-10-10 18:15:52 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 18:15:52 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1098s
2025-10-10 18:15:52 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 18:15:53 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-10 18:15:53 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 18:15:53 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 18:15:53 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:15:53 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:15:53 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 18:15:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 18:15:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 48.31s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 18:15:53 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 18:15:53 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 18:15:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-10 18:15:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 17.41s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-10 18:15:53 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0508s
2025-10-10 18:15:53 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 18:16:02 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-10 18:16:02 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 18:16:02 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 18:16:02 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:16:02 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:16:02 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 18:16:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 18:16:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 57.74s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 18:16:02 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 18:16:02 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 18:16:02 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-10 18:16:02 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-10 18:16:02 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-10 18:16:02 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-10 18:16:02 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0333s
2025-10-10 18:16:02 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 18:16:02 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-10 18:16:02 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 18:16:02 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 18:16:02 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:16:02 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:16:02 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 18:16:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 18:16:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 57.78s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 18:16:02 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 18:16:02 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 18:16:02 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-10 18:16:02 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-10 18:16:02 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-10 18:16:02 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-10 18:16:02 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0325s
2025-10-10 18:16:02 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 18:16:02 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-10 18:16:02 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 18:16:02 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 18:16:02 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:16:02 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:16:02 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 18:16:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 18:16:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 57.91s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 18:16:02 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 18:16:02 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 18:16:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-10 18:16:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 27.01s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-10 18:16:02 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0329s
2025-10-10 18:16:02 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 18:16:05 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-10 18:16:05 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 18:16:05 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 18:16:05 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:16:05 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:16:05 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 18:16:05 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 18:16:05 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 60.02s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 18:16:05 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 18:16:05 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 18:16:05 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-10 18:16:05 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-10 18:16:05 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-10 18:16:05 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-10 18:16:05 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0202s
2025-10-10 18:16:05 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 18:16:05 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-10 18:16:05 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 18:16:05 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 18:16:05 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:16:05 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:16:05 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 18:16:05 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 18:16:05 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 60.05s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 18:16:05 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 18:16:05 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 18:16:05 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-10 18:16:05 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-10 18:16:05 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-10 18:16:05 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-10 18:16:05 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0227s
2025-10-10 18:16:05 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 18:16:05 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-10 18:16:05 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 18:16:05 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 18:16:05 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:16:05 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:16:05 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 18:16:05 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 18:16:05 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 60.13s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 18:16:05 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 18:16:05 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 18:16:05 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-10 18:16:05 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 29.24s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-10 18:16:05 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0467s
2025-10-10 18:16:05 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 18:16:22 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/hr-workflows/generate-interview-plan-by-resume
2025-10-10 18:16:22 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 18:16:22 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 18:16:22 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:16:22 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:16:22 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 18:16:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 18:16:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 77.94s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 18:16:22 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 18:16:22 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 18:16:22 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 18:16:23 - app.core.exception_handlers - WARNING - exception_handlers - validation_exception_handler - Validation Error: [{'type': 'missing', 'loc': ('body', 'resume_id'), 'msg': 'Field required', 'input': None, 'url': 'https://errors.pydantic.dev/2.11/v/missing'}]
2025-10-10 18:16:23 - app.core.middleware - INFO - middleware - dispatch - Response: 422 - Processing time: 0.0251s
2025-10-10 18:16:34 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?limit=10
2025-10-10 18:16:34 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 18:16:34 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 18:16:34 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:16:34 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:16:34 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 18:16:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 18:16:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 89.88s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 18:16:34 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 18:16:34 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 18:16:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID ORDER BY resume_evaluations.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-10 18:16:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 42.52s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 10, 0)
2025-10-10 18:16:34 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0435s
2025-10-10 18:16:34 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 18:16:46 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?limit=5
2025-10-10 18:16:46 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 18:16:46 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 18:16:46 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:16:46 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:16:46 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 18:16:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 18:16:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 101.2s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 18:16:46 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 18:16:46 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 18:16:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID ORDER BY resume_evaluations.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-10 18:16:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 53.85s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 5, 0)
2025-10-10 18:16:46 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0511s
2025-10-10 18:16:46 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 18:17:16 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/hr-workflows/generate-interview-plan-by-resume
2025-10-10 18:17:16 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 18:17:16 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 18:17:16 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:17:16 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:17:16 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 18:17:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 18:17:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 131.5s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 18:17:16 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 18:17:16 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 18:17:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.id = $1::UUID AND resume_evaluations.user_id = $2::UUID
2025-10-10 18:17:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00040s] ('559a7aec-b763-44de-98a5-0719d5c3c920', UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-10 18:17:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT job_descriptions.title, job_descriptions.department, job_descriptions.location, job_descriptions.salary_range, job_descriptions.experience_level, job_descriptions.education, job_descriptions.job_type, job_descriptions.skills, job_descriptions.content, job_descriptions.requirements, job_descriptions.status, job_descriptions.meta_data, job_descriptions.conversation_id, job_descriptions.workflow_type, job_descriptions.user_id, job_descriptions.id, job_descriptions.created_at, job_descriptions.updated_at, job_descriptions.is_active, job_descriptions.created_by, job_descriptions.updated_by 
FROM job_descriptions 
WHERE job_descriptions.id = $1::UUID AND job_descriptions.user_id = $2::UUID
2025-10-10 18:17:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00066s] (UUID('819565d7-dd02-43b5-886e-492639b50724'), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-10 18:17:16 - app.core.logging - INFO - dify_service - call_workflow_sync - Calling Dify workflow type 4 (sync) with query: 请根据简历和JD要求生成面试方案。...
2025-10-10 18:17:37 - httpx - INFO - _client - _send_single_request - HTTP Request: POST http://218.78.133.209:85/v1/chat-messages "HTTP/1.1 200 OK"
2025-10-10 18:17:37 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 21.3523s
2025-10-10 18:17:37 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 18:17:55 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-10 18:17:55 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 18:17:55 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 18:17:55 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:17:55 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:17:55 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 18:17:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 18:17:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 170.2s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 18:17:55 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 18:17:55 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 18:17:55 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-10 18:17:55 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-10 18:17:55 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-10 18:17:55 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-10 18:17:55 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0210s
2025-10-10 18:17:55 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 18:17:55 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-10 18:17:55 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 18:17:55 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 18:17:55 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:17:55 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:17:55 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 18:17:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 18:17:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 170.2s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 18:17:55 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 18:17:55 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 18:17:55 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-10 18:17:55 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-10 18:17:55 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-10 18:17:55 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-10 18:17:55 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0201s
2025-10-10 18:17:55 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 18:17:55 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-10 18:17:55 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 18:17:55 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 18:17:55 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:17:55 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:17:55 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 18:17:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 18:17:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 170.3s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 18:17:55 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 18:17:55 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 18:17:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-10 18:17:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 139.4s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-10 18:17:55 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0359s
2025-10-10 18:17:55 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 18:18:12 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/hr-workflows/generate-interview-plan-by-resume
2025-10-10 18:18:12 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 18:18:12 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 18:18:12 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:18:12 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:18:12 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 18:18:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 18:18:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 187.2s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 18:18:12 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 18:18:12 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 18:18:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.id = $1::UUID AND resume_evaluations.user_id = $2::UUID
2025-10-10 18:18:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 55.7s ago] ('2a22cb0d-45f3-4f30-887d-89c3ba31530f', UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-10 18:18:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT job_descriptions.title, job_descriptions.department, job_descriptions.location, job_descriptions.salary_range, job_descriptions.experience_level, job_descriptions.education, job_descriptions.job_type, job_descriptions.skills, job_descriptions.content, job_descriptions.requirements, job_descriptions.status, job_descriptions.meta_data, job_descriptions.conversation_id, job_descriptions.workflow_type, job_descriptions.user_id, job_descriptions.id, job_descriptions.created_at, job_descriptions.updated_at, job_descriptions.is_active, job_descriptions.created_by, job_descriptions.updated_by 
FROM job_descriptions 
WHERE job_descriptions.id = $1::UUID AND job_descriptions.user_id = $2::UUID
2025-10-10 18:18:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 55.7s ago] (UUID('819565d7-dd02-43b5-886e-492639b50724'), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-10 18:18:12 - app.core.logging - INFO - dify_service - call_workflow_stream - Calling Dify workflow type 4 with query: 请根据简历和JD要求生成面试方案。...
2025-10-10 18:18:12 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.6321s
2025-10-10 18:18:13 - httpx - INFO - _client - _send_single_request - HTTP Request: POST http://218.78.133.209:85/v1/chat-messages "HTTP/1.1 200 OK"
2025-10-10 18:18:37 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 18:20:21 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-10 18:20:21 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 18:20:21 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 18:20:21 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:20:21 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:20:21 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 18:20:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 18:20:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 316.2s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 18:20:21 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-10 18:20:21 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 18:20:21 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 18:20:21 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:20:21 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:20:21 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 18:20:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 18:20:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 316.2s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 18:20:21 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 18:20:21 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 18:20:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-10 18:20:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 285.3s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-10 18:20:21 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 18:20:21 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 18:20:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-10 18:20:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 285.3s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-10 18:20:21 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0708s
2025-10-10 18:20:21 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 18:20:21 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0715s
2025-10-10 18:20:21 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 18:20:21 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-10 18:20:21 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 18:20:21 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 18:20:21 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:20:21 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:20:21 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 18:20:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 18:20:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 316.4s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 18:20:21 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 18:20:21 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 18:20:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-10 18:20:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 285.6s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-10 18:20:21 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0773s
2025-10-10 18:20:21 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 18:20:37 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-10 18:20:37 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 18:20:37 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 18:20:37 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:20:37 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:20:37 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 18:20:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 18:20:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 332.2s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 18:20:37 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 18:20:37 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 18:20:37 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-10 18:20:37 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-10 18:20:37 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-10 18:20:37 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-10 18:20:37 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0241s
2025-10-10 18:20:37 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 18:20:37 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-10 18:20:37 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 18:20:37 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 18:20:37 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:20:37 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:20:37 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 18:20:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 18:20:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 332.2s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 18:20:37 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 18:20:37 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 18:20:37 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-10 18:20:37 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-10 18:20:37 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-10 18:20:37 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-10 18:20:37 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0196s
2025-10-10 18:20:37 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 18:20:37 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-10 18:20:37 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 18:20:37 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 18:20:37 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:20:37 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:20:37 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 18:20:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 18:20:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 332.5s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 18:20:37 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 18:20:37 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 18:20:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-10 18:20:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 301.6s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-10 18:20:37 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0436s
2025-10-10 18:20:37 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 18:24:34 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/hr-workflows/generate-interview-plan-by-resume
2025-10-10 18:24:34 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 18:24:34 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 18:24:34 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:24:34 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:24:34 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 18:24:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 18:24:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 569.9s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 18:24:34 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-10 18:24:34 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-10 18:24:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.id = $1::UUID AND resume_evaluations.user_id = $2::UUID
2025-10-10 18:24:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 438.4s ago] ('2a22cb0d-45f3-4f30-887d-89c3ba31530f', UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-10 18:24:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT job_descriptions.title, job_descriptions.department, job_descriptions.location, job_descriptions.salary_range, job_descriptions.experience_level, job_descriptions.education, job_descriptions.job_type, job_descriptions.skills, job_descriptions.content, job_descriptions.requirements, job_descriptions.status, job_descriptions.meta_data, job_descriptions.conversation_id, job_descriptions.workflow_type, job_descriptions.user_id, job_descriptions.id, job_descriptions.created_at, job_descriptions.updated_at, job_descriptions.is_active, job_descriptions.created_by, job_descriptions.updated_by 
FROM job_descriptions 
WHERE job_descriptions.id = $1::UUID AND job_descriptions.user_id = $2::UUID
2025-10-10 18:24:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 438.5s ago] (UUID('819565d7-dd02-43b5-886e-492639b50724'), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-10 18:24:35 - app.core.logging - INFO - dify_service - call_workflow_stream - Calling Dify workflow type 4 with query: 请根据简历和JD要求生成面试方案。...
2025-10-10 18:24:35 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.6822s
2025-10-10 18:24:35 - httpx - INFO - _client - _send_single_request - HTTP Request: POST http://218.78.133.209:85/v1/chat-messages "HTTP/1.1 200 OK"
2025-10-10 18:24:59 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-10 18:25:16 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-10 18:25:16 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 18:25:16 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 18:25:16 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:25:16 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-10 18:25:16 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-10 18:25:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-10 18:25:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 611.7s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-10 20:24:34 - app.services.user_service - ERROR - user_service - get_user - Error getting user 663c3a32-596c-4fec-955e-6eace86eb281: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-10 20:24:34 - app.api.deps - ERROR - deps - get_current_user - ❌ Error in get_current_user: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-10 20:24:34 - app.core.exception_handlers - ERROR - exception_handlers - sqlalchemy_exception_handler - Database Error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\asyncio\selector_events.py", line 862, in _read_ready__data_received
    data = self._sock.recv(self.max_size)
ConnectionResetError: [WinError 10054] 远程主机强迫关闭了一个现有的连接。

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 859, in _start_transaction
    await self._transaction.start()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\asyncpg\transaction.py", line 146, in start
    await self._connection.execute(query)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\asyncpg\connection.py", line 350, in execute
    result = await self._protocol.query(query, timeout)
  File "asyncpg\protocol\protocol.pyx", line 374, in query
asyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 527, in _prepare_and_execute
    await adapt_connection._start_transaction()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 861, in _start_transaction
    self._handle_exception(error)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.Error: <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 20, in __call__
    raise e
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 66, in app
    response = await func(request)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\routing.py", line 264, in app
    solved_result = await solve_dependencies(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\dependencies\utils.py", line 592, in solve_dependencies
    solved = await call(**sub_values)
  File "E:\workspace-py\hr-agent\backend\app\api\deps.py", line 56, in get_current_user
    user = await user_service.get_user(user_uuid)
  File "E:\workspace-py\hr-agent\backend\app\services\user_service.py", line 112, in get_user
    result = await self.db.execute(query)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 455, in execute
    result = await greenlet_spawn(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 190, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\orm\session.py", line 2308, in execute
    return self._execute_internal(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\orm\session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 527, in _prepare_and_execute
    await adapt_connection._start_transaction()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 861, in _start_transaction
    self._handle_exception(error)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.DBAPIError: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-10 20:24:34 - app.core.middleware - INFO - middleware - dispatch - Response: 500 - Processing time: 7158.2434s
2025-10-10 20:26:44 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-10 20:26:44 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 20:26:44 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 20:26:44 - app.api.deps - ERROR - deps - get_current_user - ❌ JWT decode error: Signature has expired.
2025-10-10 20:26:44 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: Could not validate credentials
2025-10-10 20:26:44 - app.core.middleware - INFO - middleware - dispatch - Response: 401 - Processing time: 0.0159s
2025-10-10 20:26:44 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-10 20:26:44 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-10 20:26:44 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-10 20:26:44 - app.api.deps - ERROR - deps - get_current_user - ❌ JWT decode error: Signature has expired.
2025-10-10 20:26:44 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: Could not validate credentials
2025-10-10 20:26:44 - app.core.middleware - INFO - middleware - dispatch - Response: 401 - Processing time: 0.0204s
2025-10-11 09:13:16 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-11 09:13:16 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-11 09:13:16 - main - INFO - main - lifespan - Database connections closed
2025-10-11 09:13:16 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-11 10:06:48 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-11 10:06:48 - main - INFO - main - lifespan - Logging configured
2025-10-11 10:06:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-11 10:06:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-11 10:06:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-11 10:06:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-11 10:06:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-11 10:06:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-11 10:06:48 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:06:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-11 10:06:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00029s] ()
2025-10-11 10:06:48 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-11 10:06:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:06:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00041s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:06:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:06:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.01529s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:06:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:06:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02385s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:06:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:06:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03094s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:06:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:06:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0429s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:06:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:06:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05563s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:06:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:06:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06243s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:06:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:06:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06907s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:06:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:06:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07573s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:06:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:06:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08293s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:06:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:06:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09021s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:06:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:06:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00030s] ('userrole', 'pg_catalog')
2025-10-11 10:06:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:06:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.01505s ago] ('conversationstatus', 'pg_catalog')
2025-10-11 10:06:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:06:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03125s ago] ('messagerole', 'pg_catalog')
2025-10-11 10:06:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:06:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04545s ago] ('jdstatus', 'pg_catalog')
2025-10-11 10:06:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:06:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0559s ago] ('scoringstatus', 'pg_catalog')
2025-10-11 10:06:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:06:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06403s ago] ('resumestatus', 'pg_catalog')
2025-10-11 10:06:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - 
CREATE TABLE interview_plans (
	candidate_name VARCHAR(100) NOT NULL, 
	candidate_position VARCHAR(200) NOT NULL, 
	content TEXT NOT NULL, 
	resume_evaluation_id INTEGER NOT NULL, 
	user_id INTEGER NOT NULL, 
	id UUID NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	is_active BOOLEAN NOT NULL, 
	created_by UUID, 
	updated_by UUID, 
	PRIMARY KEY (id), 
	FOREIGN KEY(resume_evaluation_id) REFERENCES resume_evaluations (id), 
	FOREIGN KEY(user_id) REFERENCES users (id)
)


2025-10-11 10:06:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00024s] ()
2025-10-11 10:06:48 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:06:48 - app.core.database - ERROR - database - init_db - Error initializing database: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.DatatypeMismatchError'>: foreign key constraint "interview_plans_resume_evaluation_id_fkey" cannot be implemented
DETAIL:  Key columns "resume_evaluation_id" and "id" are of incompatible types: integer and uuid.
[SQL: 
CREATE TABLE interview_plans (
	candidate_name VARCHAR(100) NOT NULL, 
	candidate_position VARCHAR(200) NOT NULL, 
	content TEXT NOT NULL, 
	resume_evaluation_id INTEGER NOT NULL, 
	user_id INTEGER NOT NULL, 
	id UUID NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	is_active BOOLEAN NOT NULL, 
	created_by UUID, 
	updated_by UUID, 
	PRIMARY KEY (id), 
	FOREIGN KEY(resume_evaluation_id) REFERENCES resume_evaluations (id), 
	FOREIGN KEY(user_id) REFERENCES users (id)
)

]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-10-11 10:06:48 - main - ERROR - main - lifespan - Failed to initialize database: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.DatatypeMismatchError'>: foreign key constraint "interview_plans_resume_evaluation_id_fkey" cannot be implemented
DETAIL:  Key columns "resume_evaluation_id" and "id" are of incompatible types: integer and uuid.
[SQL: 
CREATE TABLE interview_plans (
	candidate_name VARCHAR(100) NOT NULL, 
	candidate_position VARCHAR(200) NOT NULL, 
	content TEXT NOT NULL, 
	resume_evaluation_id INTEGER NOT NULL, 
	user_id INTEGER NOT NULL, 
	id UUID NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	is_active BOOLEAN NOT NULL, 
	created_by UUID, 
	updated_by UUID, 
	PRIMARY KEY (id), 
	FOREIGN KEY(resume_evaluation_id) REFERENCES resume_evaluations (id), 
	FOREIGN KEY(user_id) REFERENCES users (id)
)

]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-10-11 10:07:13 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-11 10:07:13 - main - INFO - main - lifespan - Logging configured
2025-10-11 10:07:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-11 10:07:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-11 10:07:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-11 10:07:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-11 10:07:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-11 10:07:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-11 10:07:13 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:07:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-11 10:07:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00144s] ()
2025-10-11 10:07:13 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-11 10:07:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:07:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00041s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:07:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:07:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.01743s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:07:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:07:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03544s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:07:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:07:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04592s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:07:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:07:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05168s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:07:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:07:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05852s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:07:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:07:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06642s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:07:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:07:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07342s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:07:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:07:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08171s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:07:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:07:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09358s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:07:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:07:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1013s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:07:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:07:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00112s] ('userrole', 'pg_catalog')
2025-10-11 10:07:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:07:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03312s ago] ('conversationstatus', 'pg_catalog')
2025-10-11 10:07:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:07:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04463s ago] ('messagerole', 'pg_catalog')
2025-10-11 10:07:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:07:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05902s ago] ('jdstatus', 'pg_catalog')
2025-10-11 10:07:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:07:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07005s ago] ('scoringstatus', 'pg_catalog')
2025-10-11 10:07:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:07:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08159s ago] ('resumestatus', 'pg_catalog')
2025-10-11 10:07:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - 
CREATE TABLE interview_plans (
	candidate_name VARCHAR(100) NOT NULL, 
	candidate_position VARCHAR(200) NOT NULL, 
	content TEXT NOT NULL, 
	resume_evaluation_id UUID NOT NULL, 
	user_id UUID NOT NULL, 
	id UUID NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	is_active BOOLEAN NOT NULL, 
	created_by UUID, 
	updated_by UUID, 
	PRIMARY KEY (id), 
	FOREIGN KEY(resume_evaluation_id) REFERENCES resume_evaluations (id), 
	FOREIGN KEY(user_id) REFERENCES users (id)
)


2025-10-11 10:07:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00165s] ()
2025-10-11 10:07:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE INDEX ix_interview_plans_id ON interview_plans (id)
2025-10-11 10:07:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00111s] ()
2025-10-11 10:07:14 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-11 10:07:14 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-11 10:07:14 - main - INFO - main - lifespan - Database initialized successfully
2025-10-11 10:07:14 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-11 10:07:18 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-11 10:07:18 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-11 10:07:18 - main - INFO - main - lifespan - Database connections closed
2025-10-11 10:07:18 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-11 10:07:22 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-11 10:07:22 - main - INFO - main - lifespan - Logging configured
2025-10-11 10:07:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-11 10:07:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-11 10:07:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-11 10:07:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-11 10:07:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-11 10:07:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-11 10:07:23 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:07:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-11 10:07:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00047s] ()
2025-10-11 10:07:23 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-11 10:07:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:07:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00063s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:07:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:07:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02485s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:07:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:07:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0358s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:07:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:07:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04562s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:07:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:07:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05669s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:07:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:07:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06917s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:07:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:07:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0776s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:07:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:07:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08512s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:07:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:07:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0932s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:07:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:07:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1119s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:07:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:07:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.125s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:07:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:07:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00042s] ('userrole', 'pg_catalog')
2025-10-11 10:07:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:07:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.01725s ago] ('conversationstatus', 'pg_catalog')
2025-10-11 10:07:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:07:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02541s ago] ('messagerole', 'pg_catalog')
2025-10-11 10:07:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:07:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03655s ago] ('jdstatus', 'pg_catalog')
2025-10-11 10:07:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:07:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04502s ago] ('scoringstatus', 'pg_catalog')
2025-10-11 10:07:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:07:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05359s ago] ('resumestatus', 'pg_catalog')
2025-10-11 10:07:23 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-11 10:07:23 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-11 10:07:23 - main - INFO - main - lifespan - Database initialized successfully
2025-10-11 10:07:23 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-11 10:07:25 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-11 10:07:25 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-11 10:07:25 - main - INFO - main - lifespan - Database connections closed
2025-10-11 10:07:25 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-11 10:07:28 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-11 10:07:28 - main - INFO - main - lifespan - Logging configured
2025-10-11 10:07:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-11 10:07:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-11 10:07:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-11 10:07:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-11 10:07:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-11 10:07:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-11 10:07:29 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:07:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-11 10:07:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00045s] ()
2025-10-11 10:07:29 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-11 10:07:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:07:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00044s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:07:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:07:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0183s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:07:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:07:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03695s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:07:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:07:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04378s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:07:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:07:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05057s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:07:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:07:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05796s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:07:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:07:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06482s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:07:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:07:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07247s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:07:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:07:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07913s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:07:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:07:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08899s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:07:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:07:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09728s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:07:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:07:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00030s] ('userrole', 'pg_catalog')
2025-10-11 10:07:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:07:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02757s ago] ('conversationstatus', 'pg_catalog')
2025-10-11 10:07:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:07:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03862s ago] ('messagerole', 'pg_catalog')
2025-10-11 10:07:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:07:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04573s ago] ('jdstatus', 'pg_catalog')
2025-10-11 10:07:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:07:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05352s ago] ('scoringstatus', 'pg_catalog')
2025-10-11 10:07:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:07:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0607s ago] ('resumestatus', 'pg_catalog')
2025-10-11 10:07:29 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-11 10:07:29 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-11 10:07:29 - main - INFO - main - lifespan - Database initialized successfully
2025-10-11 10:07:29 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-11 10:07:31 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-11 10:07:31 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-11 10:07:31 - main - INFO - main - lifespan - Database connections closed
2025-10-11 10:07:31 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-11 10:07:34 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-11 10:07:34 - main - INFO - main - lifespan - Logging configured
2025-10-11 10:07:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-11 10:07:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-11 10:07:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-11 10:07:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-11 10:07:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-11 10:07:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-11 10:07:35 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:07:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-11 10:07:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00028s] ()
2025-10-11 10:07:35 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-11 10:07:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:07:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00041s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:07:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:07:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0175s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:07:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:07:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02436s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:07:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:07:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03072s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:07:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:07:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04173s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:07:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:07:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04892s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:07:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:07:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05566s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:07:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:07:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06219s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:07:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:07:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07484s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:07:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:07:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1019s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:07:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:07:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1089s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:07:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:07:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00048s] ('userrole', 'pg_catalog')
2025-10-11 10:07:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:07:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02008s ago] ('conversationstatus', 'pg_catalog')
2025-10-11 10:07:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:07:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02844s ago] ('messagerole', 'pg_catalog')
2025-10-11 10:07:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:07:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03645s ago] ('jdstatus', 'pg_catalog')
2025-10-11 10:07:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:07:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04454s ago] ('scoringstatus', 'pg_catalog')
2025-10-11 10:07:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:07:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05637s ago] ('resumestatus', 'pg_catalog')
2025-10-11 10:07:35 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-11 10:07:35 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-11 10:07:35 - main - INFO - main - lifespan - Database initialized successfully
2025-10-11 10:07:35 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-11 10:07:37 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-11 10:07:37 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-11 10:07:37 - main - INFO - main - lifespan - Database connections closed
2025-10-11 10:07:37 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-11 10:07:41 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-11 10:07:41 - main - INFO - main - lifespan - Logging configured
2025-10-11 10:07:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-11 10:07:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-11 10:07:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-11 10:07:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-11 10:07:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-11 10:07:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-11 10:07:41 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:07:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-11 10:07:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00032s] ()
2025-10-11 10:07:41 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-11 10:07:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:07:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00040s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:07:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:07:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02353s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:07:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:07:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03041s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:07:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:07:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0367s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:07:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:07:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04354s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:07:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:07:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0518s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:07:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:07:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07134s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:07:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:07:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07783s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:07:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:07:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08374s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:07:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:07:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09107s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:07:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:07:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09748s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:07:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:07:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00035s] ('userrole', 'pg_catalog')
2025-10-11 10:07:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:07:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.01603s ago] ('conversationstatus', 'pg_catalog')
2025-10-11 10:07:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:07:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02262s ago] ('messagerole', 'pg_catalog')
2025-10-11 10:07:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:07:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0343s ago] ('jdstatus', 'pg_catalog')
2025-10-11 10:07:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:07:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04379s ago] ('scoringstatus', 'pg_catalog')
2025-10-11 10:07:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:07:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05915s ago] ('resumestatus', 'pg_catalog')
2025-10-11 10:07:41 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-11 10:07:41 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-11 10:07:41 - main - INFO - main - lifespan - Database initialized successfully
2025-10-11 10:07:41 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-11 10:07:45 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-11 10:07:45 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-11 10:07:45 - main - INFO - main - lifespan - Database connections closed
2025-10-11 10:07:45 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-11 10:07:48 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-11 10:07:48 - main - INFO - main - lifespan - Logging configured
2025-10-11 10:07:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-11 10:07:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-11 10:07:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-11 10:07:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-11 10:07:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-11 10:07:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-11 10:07:49 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:07:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-11 10:07:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00089s] ()
2025-10-11 10:07:49 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-11 10:07:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:07:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00038s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:07:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:07:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.01571s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:07:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:07:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03516s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:07:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:07:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04406s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:07:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:07:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05104s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:07:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:07:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05762s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:07:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:07:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06449s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:07:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:07:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07118s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:07:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:07:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07794s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:07:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:07:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08472s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:07:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:07:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09161s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:07:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:07:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00031s] ('userrole', 'pg_catalog')
2025-10-11 10:07:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:07:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.01516s ago] ('conversationstatus', 'pg_catalog')
2025-10-11 10:07:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:07:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02323s ago] ('messagerole', 'pg_catalog')
2025-10-11 10:07:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:07:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04237s ago] ('jdstatus', 'pg_catalog')
2025-10-11 10:07:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:07:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0538s ago] ('scoringstatus', 'pg_catalog')
2025-10-11 10:07:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:07:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06343s ago] ('resumestatus', 'pg_catalog')
2025-10-11 10:07:49 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-11 10:07:49 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-11 10:07:49 - main - INFO - main - lifespan - Database initialized successfully
2025-10-11 10:07:49 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-11 10:07:51 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-11 10:07:51 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-11 10:07:51 - main - INFO - main - lifespan - Database connections closed
2025-10-11 10:07:51 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-11 10:07:54 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-11 10:07:54 - main - INFO - main - lifespan - Logging configured
2025-10-11 10:07:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-11 10:07:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-11 10:07:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-11 10:07:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-11 10:07:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-11 10:07:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-11 10:07:55 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:07:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-11 10:07:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00027s] ()
2025-10-11 10:07:55 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-11 10:07:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:07:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00040s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:07:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:07:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0207s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:07:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:07:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02844s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:07:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:07:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04151s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:07:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:07:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04944s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:07:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:07:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05686s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:07:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:07:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06816s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:07:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:07:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08124s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:07:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:07:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09349s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:07:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:07:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1021s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:07:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:07:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1107s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:07:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:07:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00055s] ('userrole', 'pg_catalog')
2025-10-11 10:07:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:07:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.01828s ago] ('conversationstatus', 'pg_catalog')
2025-10-11 10:07:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:07:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02761s ago] ('messagerole', 'pg_catalog')
2025-10-11 10:07:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:07:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03609s ago] ('jdstatus', 'pg_catalog')
2025-10-11 10:07:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:07:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04438s ago] ('scoringstatus', 'pg_catalog')
2025-10-11 10:07:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:07:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05219s ago] ('resumestatus', 'pg_catalog')
2025-10-11 10:07:55 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-11 10:07:55 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-11 10:07:55 - main - INFO - main - lifespan - Database initialized successfully
2025-10-11 10:07:55 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-11 10:08:51 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-11 10:08:51 - main - INFO - main - lifespan - Logging configured
2025-10-11 10:08:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-11 10:08:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-11 10:08:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-11 10:08:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-11 10:08:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-11 10:08:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-11 10:08:51 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:08:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-11 10:08:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00097s] ()
2025-10-11 10:08:51 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-11 10:08:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:08:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00034s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:08:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:08:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02834s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:08:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:08:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0395s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:08:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:08:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04723s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:08:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:08:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05554s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:08:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:08:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06319s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:08:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:08:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07824s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:08:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:08:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08628s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:08:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:08:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09365s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:08:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:08:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1058s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:08:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:08:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1148s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:08:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:08:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00057s] ('userrole', 'pg_catalog')
2025-10-11 10:08:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:08:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.01733s ago] ('conversationstatus', 'pg_catalog')
2025-10-11 10:08:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:08:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02528s ago] ('messagerole', 'pg_catalog')
2025-10-11 10:08:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:08:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03364s ago] ('jdstatus', 'pg_catalog')
2025-10-11 10:08:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:08:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04144s ago] ('scoringstatus', 'pg_catalog')
2025-10-11 10:08:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:08:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04949s ago] ('resumestatus', 'pg_catalog')
2025-10-11 10:08:51 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-11 10:08:51 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-11 10:08:51 - main - INFO - main - lifespan - Database initialized successfully
2025-10-11 10:08:51 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-11 10:09:15 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/auth/login
2025-10-11 10:09:15 - app.api.v1.endpoints.auth - INFO - auth - login - Login attempt for username: testuser
2025-10-11 10:09:15 - app.api.v1.endpoints.auth - INFO - auth - login - UserService created successfully
2025-10-11 10:09:15 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:09:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.username = $1::VARCHAR AND users.is_active = true
2025-10-11 10:09:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00058s] ('testuser',)
2025-10-11 10:09:15 - passlib.handlers.bcrypt - WARNING - bcrypt - _load_backend_mixin - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\passlib\handlers\bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-10-11 10:09:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - UPDATE users SET last_login=now(), updated_at=$1::TIMESTAMP WITHOUT TIME ZONE WHERE users.id = $2::UUID
2025-10-11 10:09:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00057s] (datetime.datetime(2025, 10, 11, 2, 9, 15, 638479), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-11 10:09:15 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-11 10:09:15 - app.api.v1.endpoints.auth - INFO - auth - login - Authentication result: True
2025-10-11 10:09:15 - app.api.v1.endpoints.auth - INFO - auth - login - Creating access token for user: testuser
2025-10-11 10:09:15 - app.api.v1.endpoints.auth - INFO - auth - login - Login successful for user: testuser
2025-10-11 10:09:15 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.3713s
2025-10-11 10:09:15 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-11 10:09:15 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:09:15 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:09:15 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:09:15 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:09:15 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:09:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:09:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00032s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:09:15 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:09:15 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:09:15 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-11 10:09:15 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-11 10:09:15 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-11 10:09:15 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-11 10:09:15 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0466s
2025-10-11 10:09:15 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:09:21 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?page=1&size=10
2025-10-11 10:09:21 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:09:21 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:09:21 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:09:21 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:09:21 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:09:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:09:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 5.659s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:09:21 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/jd?page=1&size=100
2025-10-11 10:09:21 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:09:21 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:09:21 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:09:21 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:09:21 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:09:21 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:09:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID ORDER BY resume_evaluations.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-11 10:09:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00058s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 20, 0)
2025-10-11 10:09:21 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1244s
2025-10-11 10:09:21 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:09:21 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:09:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:09:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 5.805s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:09:21 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:09:21 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:09:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT count(*) AS count_1 
FROM (SELECT job_descriptions.title AS title, job_descriptions.department AS department, job_descriptions.location AS location, job_descriptions.salary_range AS salary_range, job_descriptions.experience_level AS experience_level, job_descriptions.education AS education, job_descriptions.job_type AS job_type, job_descriptions.skills AS skills, job_descriptions.content AS content, job_descriptions.requirements AS requirements, job_descriptions.status AS status, job_descriptions.meta_data AS meta_data, job_descriptions.conversation_id AS conversation_id, job_descriptions.workflow_type AS workflow_type, job_descriptions.user_id AS user_id, job_descriptions.id AS id, job_descriptions.created_at AS created_at, job_descriptions.updated_at AS updated_at, job_descriptions.is_active AS is_active, job_descriptions.created_by AS created_by, job_descriptions.updated_by AS updated_by 
FROM job_descriptions 
WHERE job_descriptions.user_id = $1::UUID AND job_descriptions.is_active = true) AS anon_1
2025-10-11 10:09:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00090s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:09:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT job_descriptions.title, job_descriptions.department, job_descriptions.location, job_descriptions.salary_range, job_descriptions.experience_level, job_descriptions.education, job_descriptions.job_type, job_descriptions.skills, job_descriptions.content, job_descriptions.requirements, job_descriptions.status, job_descriptions.meta_data, job_descriptions.conversation_id, job_descriptions.workflow_type, job_descriptions.user_id, job_descriptions.id, job_descriptions.created_at, job_descriptions.updated_at, job_descriptions.is_active, job_descriptions.created_by, job_descriptions.updated_by 
FROM job_descriptions 
WHERE job_descriptions.user_id = $1::UUID AND job_descriptions.is_active = true ORDER BY job_descriptions.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-11 10:09:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00093s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 100, 0)
2025-10-11 10:09:21 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.3538s
2025-10-11 10:09:21 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:09:22 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-11 10:09:22 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:09:22 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:09:22 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:09:22 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:09:22 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:09:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:09:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 6.584s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:09:22 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:09:22 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:09:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 10:09:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00092s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-11 10:09:22 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0642s
2025-10-11 10:09:22 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:09:23 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/interview-plans?resume_evaluation_id=2a22cb0d-45f3-4f30-887d-89c3ba31530f&limit=1
2025-10-11 10:09:23 - app.core.middleware - INFO - middleware - dispatch - Response: 307 - Processing time: 0.0016s
2025-10-11 10:09:24 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/interview-plans/?resume_evaluation_id=2a22cb0d-45f3-4f30-887d-89c3ba31530f&limit=1
2025-10-11 10:09:24 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: Not authenticated
2025-10-11 10:09:24 - app.core.middleware - INFO - middleware - dispatch - Response: 401 - Processing time: 0.0030s
2025-10-11 10:09:28 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/auth/login
2025-10-11 10:09:28 - app.api.v1.endpoints.auth - INFO - auth - login - Login attempt for username: testuser
2025-10-11 10:09:28 - app.api.v1.endpoints.auth - INFO - auth - login - UserService created successfully
2025-10-11 10:09:28 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:09:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.username = $1::VARCHAR AND users.is_active = true
2025-10-11 10:09:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 12.94s ago] ('testuser',)
2025-10-11 10:09:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - UPDATE users SET last_login=now(), updated_at=$1::TIMESTAMP WITHOUT TIME ZONE WHERE users.id = $2::UUID
2025-10-11 10:09:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 12.87s ago] (datetime.datetime(2025, 10, 11, 2, 9, 28, 510706), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-11 10:09:28 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-11 10:09:28 - app.api.v1.endpoints.auth - INFO - auth - login - Authentication result: True
2025-10-11 10:09:28 - app.api.v1.endpoints.auth - INFO - auth - login - Creating access token for user: testuser
2025-10-11 10:09:28 - app.api.v1.endpoints.auth - INFO - auth - login - Login successful for user: testuser
2025-10-11 10:09:28 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.2801s
2025-10-11 10:09:28 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-11 10:09:28 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:09:28 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:09:28 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:09:28 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:09:28 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:09:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:09:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 12.87s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:09:28 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:09:28 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:09:28 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-11 10:09:28 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-11 10:09:28 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-11 10:09:28 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-11 10:09:28 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0235s
2025-10-11 10:09:28 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:09:31 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-11 10:09:31 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:09:31 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:09:31 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:09:31 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:09:31 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:09:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:09:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 16.13s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:09:31 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:09:31 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:09:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 10:09:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 9.539s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-11 10:09:31 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0794s
2025-10-11 10:09:31 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:09:33 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/interview-plans?resume_evaluation_id=2a22cb0d-45f3-4f30-887d-89c3ba31530f&limit=1
2025-10-11 10:09:33 - app.core.middleware - INFO - middleware - dispatch - Response: 307 - Processing time: 0.0020s
2025-10-11 10:09:33 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/interview-plans/?resume_evaluation_id=2a22cb0d-45f3-4f30-887d-89c3ba31530f&limit=1
2025-10-11 10:09:33 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: Not authenticated
2025-10-11 10:09:33 - app.core.middleware - INFO - middleware - dispatch - Response: 401 - Processing time: 0.0031s
2025-10-11 10:09:38 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/auth/login
2025-10-11 10:09:38 - app.api.v1.endpoints.auth - INFO - auth - login - Login attempt for username: testuser
2025-10-11 10:09:38 - app.api.v1.endpoints.auth - INFO - auth - login - UserService created successfully
2025-10-11 10:09:38 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:09:38 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.username = $1::VARCHAR AND users.is_active = true
2025-10-11 10:09:38 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 23.42s ago] ('testuser',)
2025-10-11 10:09:38 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - UPDATE users SET last_login=now(), updated_at=$1::TIMESTAMP WITHOUT TIME ZONE WHERE users.id = $2::UUID
2025-10-11 10:09:38 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 23.35s ago] (datetime.datetime(2025, 10, 11, 2, 9, 38, 992068), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-11 10:09:39 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-11 10:09:39 - app.api.v1.endpoints.auth - INFO - auth - login - Authentication result: True
2025-10-11 10:09:39 - app.api.v1.endpoints.auth - INFO - auth - login - Creating access token for user: testuser
2025-10-11 10:09:39 - app.api.v1.endpoints.auth - INFO - auth - login - Login successful for user: testuser
2025-10-11 10:09:39 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.2755s
2025-10-11 10:09:39 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-11 10:09:39 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:09:39 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:09:39 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:09:39 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:09:39 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:09:39 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:09:39 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 23.35s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:09:39 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:09:39 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:09:39 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-11 10:09:39 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-11 10:09:39 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-11 10:09:39 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-11 10:09:39 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0268s
2025-10-11 10:09:39 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:09:41 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-11 10:09:41 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:09:41 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:09:41 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:09:41 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:09:41 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:09:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:09:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 26.27s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:09:41 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:09:41 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:09:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 10:09:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 19.69s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-11 10:09:42 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0547s
2025-10-11 10:09:42 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:09:45 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/interview-plans?resume_evaluation_id=2a22cb0d-45f3-4f30-887d-89c3ba31530f&limit=1
2025-10-11 10:09:45 - app.core.middleware - INFO - middleware - dispatch - Response: 307 - Processing time: 0.0015s
2025-10-11 10:09:46 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/interview-plans/?resume_evaluation_id=2a22cb0d-45f3-4f30-887d-89c3ba31530f&limit=1
2025-10-11 10:09:46 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: Not authenticated
2025-10-11 10:09:46 - app.core.middleware - INFO - middleware - dispatch - Response: 401 - Processing time: 0.0060s
2025-10-11 10:11:17 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/auth/login
2025-10-11 10:11:17 - app.api.v1.endpoints.auth - INFO - auth - login - Login attempt for username: testuser
2025-10-11 10:11:17 - app.api.v1.endpoints.auth - INFO - auth - login - UserService created successfully
2025-10-11 10:11:17 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:11:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.username = $1::VARCHAR AND users.is_active = true
2025-10-11 10:11:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 122.1s ago] ('testuser',)
2025-10-11 10:11:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - UPDATE users SET last_login=now(), updated_at=$1::TIMESTAMP WITHOUT TIME ZONE WHERE users.id = $2::UUID
2025-10-11 10:11:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 122.1s ago] (datetime.datetime(2025, 10, 11, 2, 11, 17, 721835), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-11 10:11:17 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-11 10:11:17 - app.api.v1.endpoints.auth - INFO - auth - login - Authentication result: True
2025-10-11 10:11:17 - app.api.v1.endpoints.auth - INFO - auth - login - Creating access token for user: testuser
2025-10-11 10:11:17 - app.api.v1.endpoints.auth - INFO - auth - login - Login successful for user: testuser
2025-10-11 10:11:17 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.2946s
2025-10-11 10:11:17 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-11 10:11:17 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:11:17 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:11:17 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:11:17 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:11:17 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:11:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:11:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 122.1s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:11:17 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:11:17 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:11:17 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-11 10:11:17 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-11 10:11:17 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-11 10:11:17 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-11 10:11:17 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0481s
2025-10-11 10:11:17 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:11:19 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-11 10:11:19 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:11:19 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:11:19 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:11:19 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:11:19 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:11:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:11:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 124.2s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:11:19 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:11:19 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:11:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 10:11:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 117.7s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-11 10:11:19 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0521s
2025-10-11 10:11:19 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:11:21 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/interview-plans/?resume_evaluation_id=2a22cb0d-45f3-4f30-887d-89c3ba31530f&limit=1
2025-10-11 10:11:21 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:11:21 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:11:21 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:11:21 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:11:21 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:11:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:11:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 126.2s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:11:21 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:11:21 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:11:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID
2025-10-11 10:11:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00156s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'))
2025-10-11 10:11:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID ORDER BY interview_plans.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 10:11:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00118s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'), 10, 0)
2025-10-11 10:11:22 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1075s
2025-10-11 10:11:22 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:11:26 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/hr-workflows/generate-interview-plan-by-resume
2025-10-11 10:11:26 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:11:26 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:11:26 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:11:26 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:11:26 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:11:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:11:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 131s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:11:26 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:11:26 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:11:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.id = $1::UUID AND resume_evaluations.user_id = $2::UUID
2025-10-11 10:11:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00102s] ('2a22cb0d-45f3-4f30-887d-89c3ba31530f', UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-11 10:11:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT job_descriptions.title, job_descriptions.department, job_descriptions.location, job_descriptions.salary_range, job_descriptions.experience_level, job_descriptions.education, job_descriptions.job_type, job_descriptions.skills, job_descriptions.content, job_descriptions.requirements, job_descriptions.status, job_descriptions.meta_data, job_descriptions.conversation_id, job_descriptions.workflow_type, job_descriptions.user_id, job_descriptions.id, job_descriptions.created_at, job_descriptions.updated_at, job_descriptions.is_active, job_descriptions.created_by, job_descriptions.updated_by 
FROM job_descriptions 
WHERE job_descriptions.id = $1::UUID AND job_descriptions.user_id = $2::UUID
2025-10-11 10:11:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00165s] (UUID('819565d7-dd02-43b5-886e-492639b50724'), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-11 10:11:26 - app.core.logging - INFO - dify_service - call_workflow_stream - Calling Dify workflow type 4 with query: 请根据简历和JD要求生成面试方案。...
2025-10-11 10:11:27 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.7899s
2025-10-11 10:11:27 - httpx - INFO - _client - _send_single_request - HTTP Request: POST http://218.78.133.209:85/v1/chat-messages "HTTP/1.1 200 OK"
2025-10-11 10:12:00 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:12:00 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/interview-plans/generate-and-save
2025-10-11 10:12:00 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:12:00 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:12:00 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:12:00 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:12:00 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:12:00 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:12:00 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 164.5s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:12:00 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:12:00 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:12:00 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:12:00 - app.core.exception_handlers - WARNING - exception_handlers - validation_exception_handler - Validation Error: [{'type': 'int_parsing', 'loc': ('body', 'resume_evaluation_id'), 'msg': 'Input should be a valid integer, unable to parse string as an integer', 'input': '2a22cb0d-45f3-4f30-887d-89c3ba31530f', 'url': 'https://errors.pydantic.dev/2.11/v/int_parsing'}]
2025-10-11 10:12:00 - app.core.middleware - INFO - middleware - dispatch - Response: 422 - Processing time: 0.0574s
2025-10-11 10:17:00 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-11 10:17:38 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-11 10:17:38 - main - INFO - main - lifespan - Database connections closed
2025-10-11 10:17:38 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-11 10:17:42 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-11 10:17:42 - main - INFO - main - lifespan - Logging configured
2025-10-11 10:17:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-11 10:17:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-11 10:17:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-11 10:17:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-11 10:17:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-11 10:17:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-11 10:17:42 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:17:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-11 10:17:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00034s] ()
2025-10-11 10:17:42 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-11 10:17:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:17:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00049s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:17:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:17:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.01546s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:17:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:17:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02173s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:17:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:17:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02989s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:17:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:17:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05437s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:17:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:17:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0638s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:17:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:17:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06973s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:17:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:17:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07961s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:17:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:17:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08788s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:17:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:17:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09844s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:17:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:17:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1084s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:17:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:17:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00046s] ('userrole', 'pg_catalog')
2025-10-11 10:17:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:17:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0167s ago] ('conversationstatus', 'pg_catalog')
2025-10-11 10:17:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:17:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04432s ago] ('messagerole', 'pg_catalog')
2025-10-11 10:17:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:17:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0884s ago] ('jdstatus', 'pg_catalog')
2025-10-11 10:17:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:17:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09968s ago] ('scoringstatus', 'pg_catalog')
2025-10-11 10:17:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:17:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1071s ago] ('resumestatus', 'pg_catalog')
2025-10-11 10:17:42 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-11 10:17:42 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-11 10:17:42 - main - INFO - main - lifespan - Database initialized successfully
2025-10-11 10:17:42 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-11 10:17:58 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-11 10:17:58 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-11 10:17:58 - main - INFO - main - lifespan - Database connections closed
2025-10-11 10:17:58 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-11 10:18:02 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-11 10:18:02 - main - INFO - main - lifespan - Logging configured
2025-10-11 10:18:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-11 10:18:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-11 10:18:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-11 10:18:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-11 10:18:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-11 10:18:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-11 10:18:02 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:18:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-11 10:18:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00146s] ()
2025-10-11 10:18:02 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-11 10:18:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:18:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00042s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:18:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:18:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02911s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:18:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:18:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03674s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:18:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:18:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04444s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:18:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:18:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0603s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:18:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:18:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06806s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:18:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:18:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08167s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:18:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:18:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09029s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:18:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:18:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.101s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:18:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:18:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.112s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:18:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:18:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1434s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:18:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:18:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00035s] ('userrole', 'pg_catalog')
2025-10-11 10:18:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:18:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.01675s ago] ('conversationstatus', 'pg_catalog')
2025-10-11 10:18:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:18:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02599s ago] ('messagerole', 'pg_catalog')
2025-10-11 10:18:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:18:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03712s ago] ('jdstatus', 'pg_catalog')
2025-10-11 10:18:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:18:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04502s ago] ('scoringstatus', 'pg_catalog')
2025-10-11 10:18:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:18:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05494s ago] ('resumestatus', 'pg_catalog')
2025-10-11 10:18:02 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-11 10:18:02 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-11 10:18:02 - main - INFO - main - lifespan - Database initialized successfully
2025-10-11 10:18:02 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-11 10:18:07 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-11 10:18:07 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:18:07 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:18:07 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:18:07 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:18:07 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:18:07 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:18:07 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00087s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:18:08 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:18:08 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:18:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 10:18:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00119s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-11 10:18:08 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.2476s
2025-10-11 10:18:08 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:18:08 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-11 10:18:08 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:18:08 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:18:08 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:18:08 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:18:08 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:18:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:18:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.6431s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:18:08 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:18:08 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:18:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 10:18:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.5585s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-11 10:18:08 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0745s
2025-10-11 10:18:08 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:18:28 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-11 10:18:28 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:18:28 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:18:28 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:18:28 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:18:28 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:18:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:18:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 20.97s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:18:28 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:18:28 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:18:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 10:18:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 20.89s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-11 10:18:28 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0639s
2025-10-11 10:18:28 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:18:49 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-11 10:18:49 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:18:49 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:18:49 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:18:49 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:18:49 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:18:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:18:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 41.77s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:18:49 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:18:49 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:18:49 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-11 10:18:49 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-11 10:18:49 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-11 10:18:49 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-11 10:18:49 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0713s
2025-10-11 10:18:49 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:18:49 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-11 10:18:49 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:18:49 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:18:49 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:18:49 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:18:49 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:18:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:18:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 42s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:18:50 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:18:50 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:18:50 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-11 10:18:50 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-11 10:18:50 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-11 10:18:50 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-11 10:18:50 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.2464s
2025-10-11 10:18:50 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:20:52 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/interview-plans/?resume_evaluation_id=2a22cb0d-45f3-4f30-887d-89c3ba31530f&limit=1
2025-10-11 10:20:52 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:20:52 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:20:52 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:20:52 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:20:52 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:20:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:20:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 164.4s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:20:52 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:20:52 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:20:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID
2025-10-11 10:20:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00241s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'))
2025-10-11 10:20:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID ORDER BY interview_plans.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 10:20:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00341s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'), 10, 0)
2025-10-11 10:20:52 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1087s
2025-10-11 10:20:52 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:20:54 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/hr-workflows/generate-interview-plan-by-resume
2025-10-11 10:20:54 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:20:54 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:20:54 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:20:54 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:20:54 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:20:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:20:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 166.6s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:20:54 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:20:54 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:20:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.id = $1::UUID AND resume_evaluations.user_id = $2::UUID
2025-10-11 10:20:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00106s] ('2a22cb0d-45f3-4f30-887d-89c3ba31530f', UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-11 10:20:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT job_descriptions.title, job_descriptions.department, job_descriptions.location, job_descriptions.salary_range, job_descriptions.experience_level, job_descriptions.education, job_descriptions.job_type, job_descriptions.skills, job_descriptions.content, job_descriptions.requirements, job_descriptions.status, job_descriptions.meta_data, job_descriptions.conversation_id, job_descriptions.workflow_type, job_descriptions.user_id, job_descriptions.id, job_descriptions.created_at, job_descriptions.updated_at, job_descriptions.is_active, job_descriptions.created_by, job_descriptions.updated_by 
FROM job_descriptions 
WHERE job_descriptions.id = $1::UUID AND job_descriptions.user_id = $2::UUID
2025-10-11 10:20:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00114s] (UUID('819565d7-dd02-43b5-886e-492639b50724'), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-11 10:20:54 - app.core.logging - INFO - dify_service - call_workflow_stream - Calling Dify workflow type 4 with query: 请根据简历和JD要求生成面试方案。...
2025-10-11 10:20:55 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.6894s
2025-10-11 10:20:55 - httpx - INFO - _client - _send_single_request - HTTP Request: POST http://218.78.133.209:85/v1/chat-messages "HTTP/1.1 200 OK"
2025-10-11 10:21:12 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:21:12 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/interview-plans/save-generated
2025-10-11 10:21:12 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:21:12 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:21:12 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:21:12 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:21:12 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:21:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:21:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 184.8s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:21:12 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:21:12 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:21:12 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:21:12 - app.core.exception_handlers - WARNING - exception_handlers - validation_exception_handler - Validation Error: [{'type': 'int_parsing', 'loc': ('body', 'resume_evaluation_id'), 'msg': 'Input should be a valid integer, unable to parse string as an integer', 'input': '2a22cb0d-45f3-4f30-887d-89c3ba31530f', 'url': 'https://errors.pydantic.dev/2.11/v/int_parsing'}]
2025-10-11 10:21:12 - app.core.middleware - INFO - middleware - dispatch - Response: 422 - Processing time: 0.0361s
2025-10-11 10:24:27 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-11 10:24:27 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-11 10:24:27 - main - INFO - main - lifespan - Database connections closed
2025-10-11 10:24:27 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-11 10:24:31 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-11 10:24:31 - main - INFO - main - lifespan - Logging configured
2025-10-11 10:24:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-11 10:24:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-11 10:24:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-11 10:24:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-11 10:24:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-11 10:24:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-11 10:24:31 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:24:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-11 10:24:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00037s] ()
2025-10-11 10:24:31 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-11 10:24:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:24:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00046s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:24:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:24:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03308s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:24:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:24:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04054s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:24:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:24:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04732s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:24:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:24:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05504s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:24:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:24:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06227s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:24:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:24:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06907s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:24:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:24:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07983s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:24:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:24:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08685s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:24:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:24:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09358s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:24:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:24:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1003s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:24:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:24:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00045s] ('userrole', 'pg_catalog')
2025-10-11 10:24:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:24:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03725s ago] ('conversationstatus', 'pg_catalog')
2025-10-11 10:24:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:24:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04486s ago] ('messagerole', 'pg_catalog')
2025-10-11 10:24:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:24:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05189s ago] ('jdstatus', 'pg_catalog')
2025-10-11 10:24:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:24:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05861s ago] ('scoringstatus', 'pg_catalog')
2025-10-11 10:24:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:24:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06543s ago] ('resumestatus', 'pg_catalog')
2025-10-11 10:24:31 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-11 10:24:31 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-11 10:24:31 - main - INFO - main - lifespan - Database initialized successfully
2025-10-11 10:24:31 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-11 10:24:36 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-11 10:24:36 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-11 10:24:36 - main - INFO - main - lifespan - Database connections closed
2025-10-11 10:24:36 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-11 10:24:39 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-11 10:24:39 - main - INFO - main - lifespan - Logging configured
2025-10-11 10:24:39 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-11 10:24:39 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-11 10:24:39 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-11 10:24:39 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-11 10:24:39 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-11 10:24:39 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-11 10:24:39 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:24:39 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-11 10:24:39 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00034s] ()
2025-10-11 10:24:39 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-11 10:24:39 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:24:39 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00054s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:24:39 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:24:39 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.01867s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:24:39 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:24:39 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04517s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:24:39 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:24:39 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05181s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:24:39 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:24:39 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05949s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:24:39 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:24:39 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06632s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:24:39 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:24:39 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07296s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:24:39 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:24:39 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08045s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:24:39 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:24:39 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09211s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:24:39 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:24:39 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09966s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:24:39 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:24:39 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.108s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:24:39 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:24:39 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00063s] ('userrole', 'pg_catalog')
2025-10-11 10:24:39 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:24:39 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02765s ago] ('conversationstatus', 'pg_catalog')
2025-10-11 10:24:39 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:24:39 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03552s ago] ('messagerole', 'pg_catalog')
2025-10-11 10:24:39 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:24:39 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04334s ago] ('jdstatus', 'pg_catalog')
2025-10-11 10:24:39 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:24:39 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05032s ago] ('scoringstatus', 'pg_catalog')
2025-10-11 10:24:39 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:24:39 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05796s ago] ('resumestatus', 'pg_catalog')
2025-10-11 10:24:39 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-11 10:24:39 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-11 10:24:39 - main - INFO - main - lifespan - Database initialized successfully
2025-10-11 10:24:39 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-11 10:24:43 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-11 10:24:43 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-11 10:24:43 - main - INFO - main - lifespan - Database connections closed
2025-10-11 10:24:43 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-11 10:24:47 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-11 10:24:47 - main - INFO - main - lifespan - Logging configured
2025-10-11 10:24:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-11 10:24:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-11 10:24:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-11 10:24:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-11 10:24:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-11 10:24:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-11 10:24:47 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:24:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-11 10:24:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00033s] ()
2025-10-11 10:24:47 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-11 10:24:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:24:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00037s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:24:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:24:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02055s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:24:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:24:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03052s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:24:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:24:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03724s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:24:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:24:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04393s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:24:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:24:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05275s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:24:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:24:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05995s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:24:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:24:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06726s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:24:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:24:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07561s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:24:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:24:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08153s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:24:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 10:24:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08809s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 10:24:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:24:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00037s] ('userrole', 'pg_catalog')
2025-10-11 10:24:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:24:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.01302s ago] ('conversationstatus', 'pg_catalog')
2025-10-11 10:24:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:24:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.01969s ago] ('messagerole', 'pg_catalog')
2025-10-11 10:24:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:24:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02654s ago] ('jdstatus', 'pg_catalog')
2025-10-11 10:24:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:24:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03364s ago] ('scoringstatus', 'pg_catalog')
2025-10-11 10:24:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 10:24:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04302s ago] ('resumestatus', 'pg_catalog')
2025-10-11 10:24:47 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-11 10:24:47 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-11 10:24:47 - main - INFO - main - lifespan - Database initialized successfully
2025-10-11 10:24:47 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-11 10:25:07 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-11 10:25:07 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:25:07 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:25:07 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:25:07 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:25:07 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:25:07 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:25:07 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00070s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:25:08 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:25:08 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:25:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 10:25:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00163s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-11 10:25:08 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.2311s
2025-10-11 10:25:08 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:25:31 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-11 10:25:31 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:25:31 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:25:31 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:25:31 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:25:31 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:25:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:25:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 23.76s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:25:31 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:25:31 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:25:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 10:25:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 23.68s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-11 10:25:31 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0692s
2025-10-11 10:25:31 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:27:13 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-11 10:27:13 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:27:13 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:27:13 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:27:13 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:27:13 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:27:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:27:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 125.2s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:27:13 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:27:13 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:27:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 10:27:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 125.1s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-11 10:27:13 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0490s
2025-10-11 10:27:13 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:28:40 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/interview-plans/?resume_evaluation_id=2a22cb0d-45f3-4f30-887d-89c3ba31530f&limit=1
2025-10-11 10:28:40 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:28:40 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:28:40 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:28:40 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:28:40 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:28:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:28:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 212.8s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:28:40 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:28:40 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:28:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID
2025-10-11 10:28:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00138s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'))
2025-10-11 10:28:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID ORDER BY interview_plans.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 10:28:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00155s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'), 10, 0)
2025-10-11 10:28:40 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0964s
2025-10-11 10:28:40 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:28:44 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/hr-workflows/generate-interview-plan-by-resume
2025-10-11 10:28:44 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:28:44 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:28:44 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:28:44 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:28:44 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:28:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:28:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 216.1s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:28:44 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:28:44 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:28:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.id = $1::UUID AND resume_evaluations.user_id = $2::UUID
2025-10-11 10:28:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00060s] ('559a7aec-b763-44de-98a5-0719d5c3c920', UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-11 10:28:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT job_descriptions.title, job_descriptions.department, job_descriptions.location, job_descriptions.salary_range, job_descriptions.experience_level, job_descriptions.education, job_descriptions.job_type, job_descriptions.skills, job_descriptions.content, job_descriptions.requirements, job_descriptions.status, job_descriptions.meta_data, job_descriptions.conversation_id, job_descriptions.workflow_type, job_descriptions.user_id, job_descriptions.id, job_descriptions.created_at, job_descriptions.updated_at, job_descriptions.is_active, job_descriptions.created_by, job_descriptions.updated_by 
FROM job_descriptions 
WHERE job_descriptions.id = $1::UUID AND job_descriptions.user_id = $2::UUID
2025-10-11 10:28:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00136s] (UUID('819565d7-dd02-43b5-886e-492639b50724'), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-11 10:28:44 - app.core.logging - INFO - dify_service - call_workflow_stream - Calling Dify workflow type 4 with query: 请根据简历和JD要求生成面试方案。...
2025-10-11 10:28:44 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.6694s
2025-10-11 10:28:44 - httpx - INFO - _client - _send_single_request - HTTP Request: POST http://218.78.133.209:85/v1/chat-messages "HTTP/1.1 200 OK"
2025-10-11 10:29:18 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:29:44 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/interview-plans/save-generated
2025-10-11 10:29:44 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:29:44 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:29:44 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:29:44 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:29:44 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:29:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:29:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 276.7s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:29:44 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:29:44 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:29:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.id = $1::UUID AND resume_evaluations.user_id = $2::UUID
2025-10-11 10:29:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00150s] (UUID('559a7aec-b763-44de-98a5-0719d5c3c920'), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-11 10:29:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.resume_evaluation_id = $1::UUID AND interview_plans.user_id = $2::UUID
2025-10-11 10:29:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00159s] (UUID('559a7aec-b763-44de-98a5-0719d5c3c920'), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-11 10:29:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - INSERT INTO interview_plans (candidate_name, candidate_position, content, resume_evaluation_id, user_id, id, created_at, updated_at, is_active, created_by, updated_by) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::UUID, $5::UUID, $6::UUID, $7::TIMESTAMP WITHOUT TIME ZONE, $8::TIMESTAMP WITHOUT TIME ZONE, $9::BOOLEAN, $10::UUID, $11::UUID)
2025-10-11 10:29:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00138s] ('金晓国', '硬件测试工程师', '# 《金晓国面试方案》\n\n## 一、面试基本信息\n1. **求职者姓名**：金晓国\n2. **应聘岗位**：硬件测试工程师\n3. **面试时间**：[具体时间]\n4. **面试地点**：[公司具体地址]\n5. **面试官**：技术部负责人[姓名]、HR[姓名]\n\n## 二、面试目 ... (1621 characters truncated) ... 相关领导审批。\n\n## 六、面试后续工作\n1. 如果求职者通过面试，HR及时与求职者沟通录用事宜，包括薪资待遇、入职时间等。\n2. 如果求职者未通过面试，HR以委婉的方式通知求职者，并感谢其对公司的关注和支持。\n3. 对面试过程进行总结和反思，不断优化面试方案和流程，提高招聘效率和质量。', UUID('559a7aec-b763-44de-98a5-0719d5c3c920'), UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('33294443-564a-4a93-9314-255848cad029'), datetime.datetime(2025, 10, 11, 2, 29, 44, 662209), datetime.datetime(2025, 10, 11, 2, 29, 44, 662209), True, None, None)
2025-10-11 10:29:44 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-11 10:29:44 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:29:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.id = $1::UUID
2025-10-11 10:29:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00075s] (UUID('33294443-564a-4a93-9314-255848cad029'),)
2025-10-11 10:29:44 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1813s
2025-10-11 10:29:44 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:34:15 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-11 10:34:15 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:34:15 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:34:15 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:34:15 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:34:15 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:34:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:34:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 547.8s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:34:34 - app.services.user_service - ERROR - user_service - get_user - Error getting user 663c3a32-596c-4fec-955e-6eace86eb281: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-11 10:34:34 - app.api.deps - ERROR - deps - get_current_user - ❌ Error in get_current_user: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-11 10:34:34 - app.core.exception_handlers - ERROR - exception_handlers - sqlalchemy_exception_handler - Database Error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\asyncio\selector_events.py", line 862, in _read_ready__data_received
    data = self._sock.recv(self.max_size)
ConnectionResetError: [WinError 10054] 远程主机强迫关闭了一个现有的连接。

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 859, in _start_transaction
    await self._transaction.start()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\asyncpg\transaction.py", line 146, in start
    await self._connection.execute(query)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\asyncpg\connection.py", line 350, in execute
    result = await self._protocol.query(query, timeout)
  File "asyncpg\protocol\protocol.pyx", line 374, in query
asyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 527, in _prepare_and_execute
    await adapt_connection._start_transaction()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 861, in _start_transaction
    self._handle_exception(error)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.Error: <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 20, in __call__
    raise e
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 66, in app
    response = await func(request)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\routing.py", line 264, in app
    solved_result = await solve_dependencies(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\dependencies\utils.py", line 592, in solve_dependencies
    solved = await call(**sub_values)
  File "E:\workspace-py\hr-agent\backend\app\api\deps.py", line 56, in get_current_user
    user = await user_service.get_user(user_uuid)
  File "E:\workspace-py\hr-agent\backend\app\services\user_service.py", line 112, in get_user
    result = await self.db.execute(query)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 455, in execute
    result = await greenlet_spawn(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 190, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\orm\session.py", line 2308, in execute
    return self._execute_internal(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\orm\session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 527, in _prepare_and_execute
    await adapt_connection._start_transaction()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 861, in _start_transaction
    self._handle_exception(error)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.DBAPIError: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-11 10:34:34 - app.core.middleware - INFO - middleware - dispatch - Response: 500 - Processing time: 19.2219s
2025-10-11 10:34:48 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-11 10:34:48 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:34:48 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:34:48 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:34:48 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:34:48 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:34:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:34:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 580.4s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:34:48 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:34:48 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:34:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 10:34:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 580.4s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-11 10:34:48 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.3459s
2025-10-11 10:34:48 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:35:59 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/interview-plans/?resume_evaluation_id=559a7aec-b763-44de-98a5-0719d5c3c920&limit=1
2025-10-11 10:35:59 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:35:59 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:35:59 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:35:59 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:35:59 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:35:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:35:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 651.8s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:35:59 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:35:59 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:35:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID
2025-10-11 10:35:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 439s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('559a7aec-b763-44de-98a5-0719d5c3c920'))
2025-10-11 10:35:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID ORDER BY interview_plans.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 10:35:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 439s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('559a7aec-b763-44de-98a5-0719d5c3c920'), 10, 0)
2025-10-11 10:35:59 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1783s
2025-10-11 10:35:59 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:36:04 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/interview-plans/?resume_evaluation_id=2a22cb0d-45f3-4f30-887d-89c3ba31530f&limit=1
2025-10-11 10:36:04 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:36:04 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:36:04 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:36:04 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:36:04 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:36:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:36:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 656.5s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:36:04 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:36:04 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:36:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID
2025-10-11 10:36:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 443.7s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'))
2025-10-11 10:36:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID ORDER BY interview_plans.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 10:36:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 443.7s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'), 10, 0)
2025-10-11 10:36:04 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1414s
2025-10-11 10:36:04 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:36:05 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/interview-plans/?resume_evaluation_id=559a7aec-b763-44de-98a5-0719d5c3c920&limit=1
2025-10-11 10:36:05 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:36:05 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:36:05 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:36:05 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:36:05 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:36:05 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:36:05 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 657.7s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:36:05 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:36:05 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:36:05 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID
2025-10-11 10:36:05 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 445s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('559a7aec-b763-44de-98a5-0719d5c3c920'))
2025-10-11 10:36:05 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID ORDER BY interview_plans.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 10:36:05 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 445s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('559a7aec-b763-44de-98a5-0719d5c3c920'), 10, 0)
2025-10-11 10:36:05 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1159s
2025-10-11 10:36:05 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:36:06 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/interview-plans/?resume_evaluation_id=2a22cb0d-45f3-4f30-887d-89c3ba31530f&limit=1
2025-10-11 10:36:06 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:36:06 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:36:06 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:36:06 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:36:06 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:36:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:36:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 658.3s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:36:06 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:36:06 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:36:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID
2025-10-11 10:36:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 445.5s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'))
2025-10-11 10:36:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID ORDER BY interview_plans.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 10:36:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 445.5s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'), 10, 0)
2025-10-11 10:36:06 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0548s
2025-10-11 10:36:06 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:36:17 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/hr-workflows/generate-interview-plan-by-resume
2025-10-11 10:36:17 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:36:17 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:36:17 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:36:17 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:36:17 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:36:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:36:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 669.6s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:36:17 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:36:17 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:36:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.id = $1::UUID AND resume_evaluations.user_id = $2::UUID
2025-10-11 10:36:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 453.5s ago] ('2a22cb0d-45f3-4f30-887d-89c3ba31530f', UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-11 10:36:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT job_descriptions.title, job_descriptions.department, job_descriptions.location, job_descriptions.salary_range, job_descriptions.experience_level, job_descriptions.education, job_descriptions.job_type, job_descriptions.skills, job_descriptions.content, job_descriptions.requirements, job_descriptions.status, job_descriptions.meta_data, job_descriptions.conversation_id, job_descriptions.workflow_type, job_descriptions.user_id, job_descriptions.id, job_descriptions.created_at, job_descriptions.updated_at, job_descriptions.is_active, job_descriptions.created_by, job_descriptions.updated_by 
FROM job_descriptions 
WHERE job_descriptions.id = $1::UUID AND job_descriptions.user_id = $2::UUID
2025-10-11 10:36:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 453.5s ago] (UUID('819565d7-dd02-43b5-886e-492639b50724'), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-11 10:36:17 - app.core.logging - INFO - dify_service - call_workflow_stream - Calling Dify workflow type 4 with query: 请根据简历和JD要求生成面试方案。...
2025-10-11 10:36:18 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.7027s
2025-10-11 10:36:18 - httpx - INFO - _client - _send_single_request - HTTP Request: POST http://218.78.133.209:85/v1/chat-messages "HTTP/1.1 200 OK"
2025-10-11 10:36:25 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-11 10:36:25 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:36:25 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:36:25 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:36:25 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:36:25 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:36:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:36:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 677.5s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:36:25 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:36:25 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:36:25 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-11 10:36:25 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-11 10:36:25 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-11 10:36:25 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-11 10:36:25 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.3679s
2025-10-11 10:36:25 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:36:25 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-11 10:36:25 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:36:25 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:36:25 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:36:25 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:36:25 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:36:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:36:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 677.7s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:36:25 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:36:25 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:36:25 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-11 10:36:25 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-11 10:36:25 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-11 10:36:25 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-11 10:36:25 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0604s
2025-10-11 10:36:25 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:36:29 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-11 10:36:29 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:36:29 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:36:29 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:36:29 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:36:29 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:36:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:36:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 681.3s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:36:29 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:36:29 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:36:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 10:36:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 681.3s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-11 10:36:29 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1536s
2025-10-11 10:36:29 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:36:31 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/interview-plans/?resume_evaluation_id=559a7aec-b763-44de-98a5-0719d5c3c920&limit=1
2025-10-11 10:36:31 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:36:31 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:36:31 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:36:31 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:36:31 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:36:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:36:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 683.7s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:36:31 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:36:31 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:36:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID
2025-10-11 10:36:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 470.9s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('559a7aec-b763-44de-98a5-0719d5c3c920'))
2025-10-11 10:36:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID ORDER BY interview_plans.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 10:36:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 470.9s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('559a7aec-b763-44de-98a5-0719d5c3c920'), 10, 0)
2025-10-11 10:36:31 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0987s
2025-10-11 10:36:31 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:36:56 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:38:11 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/interview-plans/save-generated
2025-10-11 10:38:11 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:38:11 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:38:11 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:38:11 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:38:11 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:38:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:38:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 783.5s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:38:11 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:38:11 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:38:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.id = $1::UUID AND resume_evaluations.user_id = $2::UUID
2025-10-11 10:38:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 506.8s ago] (UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-11 10:38:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.resume_evaluation_id = $1::UUID AND interview_plans.user_id = $2::UUID
2025-10-11 10:38:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 506.8s ago] (UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-11 10:38:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - INSERT INTO interview_plans (candidate_name, candidate_position, content, resume_evaluation_id, user_id, id, created_at, updated_at, is_active, created_by, updated_by) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::UUID, $5::UUID, $6::UUID, $7::TIMESTAMP WITHOUT TIME ZONE, $8::TIMESTAMP WITHOUT TIME ZONE, $9::BOOLEAN, $10::UUID, $11::UUID)
2025-10-11 10:38:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 506.8s ago] ('李美燕', '硬件工程师', '# 李美燕面试方案\n\n## 一、面试基本信息\n1. **面试者姓名**：李美燕\n2. **应聘岗位**：硬件测试工程师\n3. **面试时间**：[具体时间]\n4. **面试地点**：[公司具体地址]\n5. **面试官**：技术部硬件测试主管[姓名]、HR[姓名]\n\n## 二、面试 ... (2039 characters truncated) ... 责任心和问题解决能力（10分）\n3. 学习能力和抗压能力（10分）\n\n## 六、面试后续安排\n1. 面试结束后，面试官对求职者的表现进行综合评估，填写面试评估表。\n2. HR 在[具体时间]内将面试结果通知求职者，若通过面试，安排后续的入职流程；若未通过面试，向求职者表示感谢并说明原因。', UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'), UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('04b2d90e-8962-4eeb-8c79-2f27e8f726b3'), datetime.datetime(2025, 10, 11, 2, 38, 11, 457122), datetime.datetime(2025, 10, 11, 2, 38, 11, 457122), True, None, None)
2025-10-11 10:38:11 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-11 10:38:11 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:38:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.id = $1::UUID
2025-10-11 10:38:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 506.8s ago] (UUID('04b2d90e-8962-4eeb-8c79-2f27e8f726b3'),)
2025-10-11 10:38:11 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1627s
2025-10-11 10:38:11 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:39:49 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-11 10:39:49 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:39:49 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:39:49 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:39:49 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:39:49 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:39:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:39:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 881.4s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:39:49 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:39:49 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:39:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 10:39:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 881.3s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-11 10:39:49 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0497s
2025-10-11 10:39:49 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:39:58 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-11 10:39:58 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:39:58 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:39:58 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:39:58 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:39:58 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:39:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:39:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 890.3s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:39:58 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:39:58 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:39:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 10:39:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 890.2s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-11 10:39:58 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0628s
2025-10-11 10:39:58 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:40:23 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-11 10:40:23 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:40:23 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:40:23 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:40:23 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:40:23 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:40:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:40:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 915.7s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:40:23 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:40:23 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:40:23 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-11 10:40:23 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-11 10:40:23 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-11 10:40:23 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-11 10:40:23 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0443s
2025-10-11 10:40:23 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:40:23 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-11 10:40:23 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:40:23 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:40:23 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:40:23 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:40:23 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:40:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:40:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 915.8s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:40:23 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:40:23 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:40:23 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-11 10:40:23 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-11 10:40:23 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-11 10:40:23 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-11 10:40:23 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0229s
2025-10-11 10:40:23 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:40:28 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-11 10:40:28 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:40:28 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:40:28 - app.api.deps - ERROR - deps - get_current_user - ❌ JWT decode error: Signature has expired.
2025-10-11 10:40:28 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: Could not validate credentials
2025-10-11 10:40:28 - app.core.middleware - INFO - middleware - dispatch - Response: 401 - Processing time: 0.0043s
2025-10-11 10:40:28 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-11 10:40:28 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:40:28 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:40:28 - app.api.deps - ERROR - deps - get_current_user - ❌ JWT decode error: Signature has expired.
2025-10-11 10:40:28 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: Could not validate credentials
2025-10-11 10:40:28 - app.core.middleware - INFO - middleware - dispatch - Response: 401 - Processing time: 0.0038s
2025-10-11 10:41:24 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/auth/login
2025-10-11 10:41:24 - app.api.v1.endpoints.auth - INFO - auth - login - Login attempt for username: testuser
2025-10-11 10:41:24 - app.api.v1.endpoints.auth - INFO - auth - login - UserService created successfully
2025-10-11 10:41:24 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:41:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.username = $1::VARCHAR AND users.is_active = true
2025-10-11 10:41:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00041s] ('testuser',)
2025-10-11 10:41:24 - passlib.handlers.bcrypt - WARNING - bcrypt - _load_backend_mixin - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\passlib\handlers\bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-10-11 10:41:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - UPDATE users SET last_login=now(), updated_at=$1::TIMESTAMP WITHOUT TIME ZONE WHERE users.id = $2::UUID
2025-10-11 10:41:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00087s] (datetime.datetime(2025, 10, 11, 2, 41, 24, 348725), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-11 10:41:24 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-11 10:41:24 - app.api.v1.endpoints.auth - INFO - auth - login - Authentication result: True
2025-10-11 10:41:24 - app.api.v1.endpoints.auth - INFO - auth - login - Creating access token for user: testuser
2025-10-11 10:41:24 - app.api.v1.endpoints.auth - INFO - auth - login - Login successful for user: testuser
2025-10-11 10:41:24 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.3077s
2025-10-11 10:41:24 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-11 10:41:24 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:41:24 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:41:24 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:41:24 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:41:24 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:41:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:41:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 976.5s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:41:24 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:41:24 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:41:24 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-11 10:41:24 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-11 10:41:24 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-11 10:41:24 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-11 10:41:24 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0219s
2025-10-11 10:41:24 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:41:48 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-11 10:41:48 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:41:48 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:41:48 - app.api.deps - ERROR - deps - get_current_user - ❌ JWT decode error: Signature has expired.
2025-10-11 10:41:48 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: Could not validate credentials
2025-10-11 10:41:48 - app.core.middleware - INFO - middleware - dispatch - Response: 401 - Processing time: 0.0050s
2025-10-11 10:42:17 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-11 10:42:17 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: Not authenticated
2025-10-11 10:42:17 - app.core.middleware - INFO - middleware - dispatch - Response: 401 - Processing time: 0.0020s
2025-10-11 10:42:24 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-11 10:42:24 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:42:24 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:42:24 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:42:24 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:42:24 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:42:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:42:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1036s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:42:24 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:42:24 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:42:24 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-11 10:42:24 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-11 10:42:24 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-11 10:42:24 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-11 10:42:24 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0225s
2025-10-11 10:42:24 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:42:24 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-11 10:42:24 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:42:24 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:42:24 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:42:24 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:42:24 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:42:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:42:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1036s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:42:24 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:42:24 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:42:24 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-11 10:42:24 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-11 10:42:24 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-11 10:42:24 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-11 10:42:24 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0284s
2025-10-11 10:42:24 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:43:04 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-11 10:43:04 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: Not authenticated
2025-10-11 10:43:04 - app.core.middleware - INFO - middleware - dispatch - Response: 401 - Processing time: 0.0020s
2025-10-11 10:43:08 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/auth/login
2025-10-11 10:43:08 - app.api.v1.endpoints.auth - INFO - auth - login - Login attempt for username: testuser
2025-10-11 10:43:08 - app.api.v1.endpoints.auth - INFO - auth - login - UserService created successfully
2025-10-11 10:43:08 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:43:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.username = $1::VARCHAR AND users.is_active = true
2025-10-11 10:43:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 104.4s ago] ('testuser',)
2025-10-11 10:43:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - UPDATE users SET last_login=now(), updated_at=$1::TIMESTAMP WITHOUT TIME ZONE WHERE users.id = $2::UUID
2025-10-11 10:43:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 104.4s ago] (datetime.datetime(2025, 10, 11, 2, 43, 8, 710780), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-11 10:43:08 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-11 10:43:08 - app.api.v1.endpoints.auth - INFO - auth - login - Authentication result: True
2025-10-11 10:43:08 - app.api.v1.endpoints.auth - INFO - auth - login - Creating access token for user: testuser
2025-10-11 10:43:08 - app.api.v1.endpoints.auth - INFO - auth - login - Login successful for user: testuser
2025-10-11 10:43:08 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.2786s
2025-10-11 10:43:08 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-11 10:43:08 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:43:08 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:43:08 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:43:08 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:43:08 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:43:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:43:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1081s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:43:08 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:43:08 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:43:08 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-11 10:43:08 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-11 10:43:08 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-11 10:43:08 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-11 10:43:08 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0288s
2025-10-11 10:43:08 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:43:10 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-11 10:43:10 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:43:10 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:43:10 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:43:10 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:43:10 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:43:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:43:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1083s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:43:11 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:43:11 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:43:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 10:43:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1083s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-11 10:43:11 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0697s
2025-10-11 10:43:11 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:43:12 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/interview-plans/?resume_evaluation_id=2a22cb0d-45f3-4f30-887d-89c3ba31530f&limit=1
2025-10-11 10:43:12 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:43:12 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:43:12 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:43:12 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:43:12 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:43:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:43:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1085s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:43:12 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:43:12 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:43:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID
2025-10-11 10:43:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 871.9s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'))
2025-10-11 10:43:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID ORDER BY interview_plans.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 10:43:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 871.9s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'), 10, 0)
2025-10-11 10:43:12 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0745s
2025-10-11 10:43:12 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:43:15 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/hr-workflows/generate-interview-plan-by-resume
2025-10-11 10:43:15 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:43:15 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:43:15 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:43:15 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:43:15 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:43:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:43:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1088s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:43:15 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:43:15 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:43:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.id = $1::UUID AND resume_evaluations.user_id = $2::UUID
2025-10-11 10:43:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 871.7s ago] ('2a22cb0d-45f3-4f30-887d-89c3ba31530f', UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-11 10:43:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT job_descriptions.title, job_descriptions.department, job_descriptions.location, job_descriptions.salary_range, job_descriptions.experience_level, job_descriptions.education, job_descriptions.job_type, job_descriptions.skills, job_descriptions.content, job_descriptions.requirements, job_descriptions.status, job_descriptions.meta_data, job_descriptions.conversation_id, job_descriptions.workflow_type, job_descriptions.user_id, job_descriptions.id, job_descriptions.created_at, job_descriptions.updated_at, job_descriptions.is_active, job_descriptions.created_by, job_descriptions.updated_by 
FROM job_descriptions 
WHERE job_descriptions.id = $1::UUID AND job_descriptions.user_id = $2::UUID
2025-10-11 10:43:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 871.7s ago] (UUID('819565d7-dd02-43b5-886e-492639b50724'), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-11 10:43:15 - app.core.logging - INFO - dify_service - call_workflow_stream - Calling Dify workflow type 4 with query: 请根据简历和JD要求生成面试方案。...
2025-10-11 10:43:16 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.7739s
2025-10-11 10:43:16 - httpx - INFO - _client - _send_single_request - HTTP Request: POST http://218.78.133.209:85/v1/chat-messages "HTTP/1.1 200 OK"
2025-10-11 10:43:44 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:43:51 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/interview-plans/save-generated
2025-10-11 10:43:51 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:43:51 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:43:51 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:43:51 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:43:51 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:43:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:43:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1123s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:43:51 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:43:51 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:43:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.id = $1::UUID AND resume_evaluations.user_id = $2::UUID
2025-10-11 10:43:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 846.5s ago] (UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-11 10:43:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.resume_evaluation_id = $1::UUID AND interview_plans.user_id = $2::UUID
2025-10-11 10:43:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 846.5s ago] (UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-11 10:43:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - UPDATE interview_plans SET content=$1::VARCHAR, updated_at=$2::TIMESTAMP WITHOUT TIME ZONE WHERE interview_plans.id = $3::UUID
2025-10-11 10:43:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00147s] ('# 硬件测试工程师岗位面试方案\n\n## 一、面试基本信息\n1. **求职者姓名**：李美燕\n2. **应聘岗位**：硬件测试工程师\n3. **面试时间**：[具体时间]\n4. **面试地点**：[详细地址]\n5. **面试官**：[面试官姓名及职位]\n\n## 二、面试目的\n通过 ... (2379 characters truncated) ... |\n|沟通能力与团队协作|沟通效果与协作能力| | |\n| |处理分歧与推动项目| | |\n|职业素养与发展潜力|工作态度与责任心| | |\n| |自我管理能力| | |\n| |学习能力与创新精神| | |\n| |职业发展规划| | |\n\n面试官签名：[签名]\n日期：[具体日期]', datetime.datetime(2025, 10, 11, 2, 43, 51, 206843), UUID('04b2d90e-8962-4eeb-8c79-2f27e8f726b3'))
2025-10-11 10:43:51 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-11 10:43:51 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:43:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.id = $1::UUID
2025-10-11 10:43:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 846.5s ago] (UUID('04b2d90e-8962-4eeb-8c79-2f27e8f726b3'),)
2025-10-11 10:43:51 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1727s
2025-10-11 10:43:51 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:44:00 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/interview-plans/save-generated
2025-10-11 10:44:00 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:44:00 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:44:00 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:44:00 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:44:00 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:44:00 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:44:00 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1132s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:44:00 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:44:00 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:44:00 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.id = $1::UUID AND resume_evaluations.user_id = $2::UUID
2025-10-11 10:44:00 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 855.7s ago] (UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-11 10:44:00 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.resume_evaluation_id = $1::UUID AND interview_plans.user_id = $2::UUID
2025-10-11 10:44:00 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 855.7s ago] (UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-11 10:44:00 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-11 10:44:00 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:44:00 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.id = $1::UUID
2025-10-11 10:44:00 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 855.7s ago] (UUID('04b2d90e-8962-4eeb-8c79-2f27e8f726b3'),)
2025-10-11 10:44:00 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0952s
2025-10-11 10:44:00 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:44:01 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/interview-plans/save-generated
2025-10-11 10:44:01 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:44:01 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:44:01 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:44:01 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:44:01 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:44:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:44:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1134s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:44:01 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:44:01 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:44:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.id = $1::UUID AND resume_evaluations.user_id = $2::UUID
2025-10-11 10:44:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 857s ago] (UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-11 10:44:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.resume_evaluation_id = $1::UUID AND interview_plans.user_id = $2::UUID
2025-10-11 10:44:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 857s ago] (UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-11 10:44:01 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-11 10:44:01 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:44:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.id = $1::UUID
2025-10-11 10:44:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 856.9s ago] (UUID('04b2d90e-8962-4eeb-8c79-2f27e8f726b3'),)
2025-10-11 10:44:01 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0906s
2025-10-11 10:44:01 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:44:05 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/interview-plans/save-generated
2025-10-11 10:44:05 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:44:05 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:44:05 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:44:05 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:44:05 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:44:05 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:44:05 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1137s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:44:05 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:44:05 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:44:05 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.id = $1::UUID AND resume_evaluations.user_id = $2::UUID
2025-10-11 10:44:05 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 860.5s ago] (UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-11 10:44:05 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.resume_evaluation_id = $1::UUID AND interview_plans.user_id = $2::UUID
2025-10-11 10:44:05 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 860.5s ago] (UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-11 10:44:05 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-11 10:44:05 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:44:05 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.id = $1::UUID
2025-10-11 10:44:05 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 860.5s ago] (UUID('04b2d90e-8962-4eeb-8c79-2f27e8f726b3'),)
2025-10-11 10:44:05 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0941s
2025-10-11 10:44:05 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:44:14 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/interview-plans/save-generated
2025-10-11 10:44:14 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:44:14 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:44:14 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:44:14 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:44:14 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:44:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:44:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1147s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:44:14 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:44:14 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:44:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.id = $1::UUID AND resume_evaluations.user_id = $2::UUID
2025-10-11 10:44:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 870.2s ago] (UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-11 10:44:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.resume_evaluation_id = $1::UUID AND interview_plans.user_id = $2::UUID
2025-10-11 10:44:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 870.2s ago] (UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-11 10:44:14 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-11 10:44:14 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:44:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.id = $1::UUID
2025-10-11 10:44:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 870.2s ago] (UUID('04b2d90e-8962-4eeb-8c79-2f27e8f726b3'),)
2025-10-11 10:44:14 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0933s
2025-10-11 10:44:14 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:46:31 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/interview-plans/save-generated
2025-10-11 10:46:31 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:46:31 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:46:31 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:46:31 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:46:31 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:46:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:46:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1284s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:46:31 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:46:31 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:46:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.id = $1::UUID AND resume_evaluations.user_id = $2::UUID
2025-10-11 10:46:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1007s ago] (UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-11 10:46:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.resume_evaluation_id = $1::UUID AND interview_plans.user_id = $2::UUID
2025-10-11 10:46:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1007s ago] (UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-11 10:46:31 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-11 10:46:31 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:46:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.id = $1::UUID
2025-10-11 10:46:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1007s ago] (UUID('04b2d90e-8962-4eeb-8c79-2f27e8f726b3'),)
2025-10-11 10:46:31 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1052s
2025-10-11 10:46:31 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:48:02 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-11 10:48:02 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:48:02 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:48:02 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:48:02 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:48:02 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:48:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:48:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1374s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:48:02 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:48:02 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:48:02 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-11 10:48:02 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-11 10:48:02 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-11 10:48:02 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-11 10:48:02 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0259s
2025-10-11 10:48:02 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:48:02 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-11 10:48:02 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:48:02 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:48:02 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:48:02 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:48:02 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:48:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:48:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1375s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:48:02 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:48:02 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:48:02 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-11 10:48:02 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-11 10:48:02 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-11 10:48:02 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-11 10:48:02 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1178s
2025-10-11 10:48:02 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:48:40 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-11 10:48:40 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:48:40 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:48:40 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:48:40 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:48:40 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:48:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:48:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1413s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:48:40 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-11 10:48:40 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:48:40 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:48:40 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:48:40 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:48:40 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:48:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:48:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1413s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:48:40 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:48:40 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:48:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 10:48:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1413s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-11 10:48:40 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:48:40 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:48:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 10:48:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1413s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-11 10:48:40 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0551s
2025-10-11 10:48:40 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:48:40 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0516s
2025-10-11 10:48:40 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:49:20 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-11 10:49:20 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:49:20 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:49:20 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:49:20 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:49:20 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:49:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:49:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1453s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:49:20 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:49:20 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:49:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 10:49:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1453s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-11 10:49:20 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-11 10:49:20 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:49:20 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:49:20 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:49:20 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:49:20 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:49:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:49:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1453s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:49:20 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0495s
2025-10-11 10:49:20 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:49:20 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:49:20 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:49:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 10:49:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1453s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-11 10:49:20 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0667s
2025-10-11 10:49:20 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:50:02 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-11 10:50:02 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:50:02 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:50:02 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:50:02 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:50:02 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:50:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:50:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1495s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:50:02 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-11 10:50:02 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:50:02 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:50:02 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:50:02 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:50:02 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:50:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:50:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1495s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:50:02 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:50:02 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:50:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 10:50:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1495s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-11 10:50:02 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:50:02 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:50:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 10:50:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1495s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-11 10:50:02 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0996s
2025-10-11 10:50:02 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:50:02 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0898s
2025-10-11 10:50:02 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:50:22 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-11 10:50:22 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:50:22 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:50:22 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:50:22 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:50:22 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:50:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:50:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1514s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:50:22 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-11 10:50:22 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:50:22 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:50:22 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:50:22 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:50:22 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:50:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:50:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1514s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:50:22 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:50:22 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:50:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 10:50:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1514s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-11 10:50:22 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:50:22 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:50:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 10:50:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1514s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-11 10:50:22 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0591s
2025-10-11 10:50:22 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:50:22 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0587s
2025-10-11 10:50:22 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:50:57 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-11 10:50:57 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:50:57 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:50:57 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:50:57 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:50:57 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:50:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:50:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1550s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:50:57 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:50:57 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:50:57 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-11 10:50:57 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-11 10:50:57 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-11 10:50:57 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-11 10:50:57 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0270s
2025-10-11 10:50:57 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:50:57 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-11 10:50:57 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:50:57 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:50:57 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:50:57 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:50:57 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:50:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:50:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1550s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:50:57 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:50:57 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:50:57 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-11 10:50:57 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-11 10:50:57 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-11 10:50:57 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-11 10:50:57 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0261s
2025-10-11 10:50:57 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:55:49 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/interview-plans/?resume_evaluation_id=2a22cb0d-45f3-4f30-887d-89c3ba31530f&limit=1
2025-10-11 10:55:49 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:55:49 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:55:49 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:55:49 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:55:49 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:55:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:55:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1842s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:55:52 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/hr-workflows/generate-interview-plan-by-resume
2025-10-11 10:55:52 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:55:52 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:55:52 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:55:52 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:55:52 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:55:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:55:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1844s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:56:08 - app.services.user_service - ERROR - user_service - get_user - Error getting user 663c3a32-596c-4fec-955e-6eace86eb281: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-11 10:56:08 - app.api.deps - ERROR - deps - get_current_user - ❌ Error in get_current_user: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-11 10:56:08 - app.core.exception_handlers - ERROR - exception_handlers - sqlalchemy_exception_handler - Database Error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\asyncio\selector_events.py", line 862, in _read_ready__data_received
    data = self._sock.recv(self.max_size)
ConnectionResetError: [WinError 10054] 远程主机强迫关闭了一个现有的连接。

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 859, in _start_transaction
    await self._transaction.start()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\asyncpg\transaction.py", line 146, in start
    await self._connection.execute(query)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\asyncpg\connection.py", line 350, in execute
    result = await self._protocol.query(query, timeout)
  File "asyncpg\protocol\protocol.pyx", line 374, in query
asyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 527, in _prepare_and_execute
    await adapt_connection._start_transaction()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 861, in _start_transaction
    self._handle_exception(error)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.Error: <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 20, in __call__
    raise e
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 66, in app
    response = await func(request)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\routing.py", line 264, in app
    solved_result = await solve_dependencies(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\dependencies\utils.py", line 592, in solve_dependencies
    solved = await call(**sub_values)
  File "E:\workspace-py\hr-agent\backend\app\api\deps.py", line 56, in get_current_user
    user = await user_service.get_user(user_uuid)
  File "E:\workspace-py\hr-agent\backend\app\services\user_service.py", line 112, in get_user
    result = await self.db.execute(query)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 455, in execute
    result = await greenlet_spawn(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 190, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\orm\session.py", line 2308, in execute
    return self._execute_internal(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\orm\session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 527, in _prepare_and_execute
    await adapt_connection._start_transaction()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 861, in _start_transaction
    self._handle_exception(error)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.DBAPIError: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-11 10:56:08 - app.core.middleware - INFO - middleware - dispatch - Response: 500 - Processing time: 19.1919s
2025-10-11 10:56:11 - app.services.user_service - ERROR - user_service - get_user - Error getting user 663c3a32-596c-4fec-955e-6eace86eb281: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-11 10:56:11 - app.api.deps - ERROR - deps - get_current_user - ❌ Error in get_current_user: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-11 10:56:11 - app.core.exception_handlers - ERROR - exception_handlers - sqlalchemy_exception_handler - Database Error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\asyncio\selector_events.py", line 862, in _read_ready__data_received
    data = self._sock.recv(self.max_size)
ConnectionResetError: [WinError 10054] 远程主机强迫关闭了一个现有的连接。

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 859, in _start_transaction
    await self._transaction.start()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\asyncpg\transaction.py", line 146, in start
    await self._connection.execute(query)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\asyncpg\connection.py", line 350, in execute
    result = await self._protocol.query(query, timeout)
  File "asyncpg\protocol\protocol.pyx", line 374, in query
asyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 527, in _prepare_and_execute
    await adapt_connection._start_transaction()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 861, in _start_transaction
    self._handle_exception(error)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.Error: <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 20, in __call__
    raise e
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 66, in app
    response = await func(request)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\routing.py", line 264, in app
    solved_result = await solve_dependencies(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\dependencies\utils.py", line 592, in solve_dependencies
    solved = await call(**sub_values)
  File "E:\workspace-py\hr-agent\backend\app\api\deps.py", line 56, in get_current_user
    user = await user_service.get_user(user_uuid)
  File "E:\workspace-py\hr-agent\backend\app\services\user_service.py", line 112, in get_user
    result = await self.db.execute(query)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 455, in execute
    result = await greenlet_spawn(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 190, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\orm\session.py", line 2308, in execute
    return self._execute_internal(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\orm\session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 527, in _prepare_and_execute
    await adapt_connection._start_transaction()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 861, in _start_transaction
    self._handle_exception(error)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.DBAPIError: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-11 10:56:11 - app.core.middleware - INFO - middleware - dispatch - Response: 500 - Processing time: 19.2186s
2025-10-11 10:56:18 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/jd?page=1&size=10
2025-10-11 10:56:18 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:56:18 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:56:18 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:56:18 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:56:18 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:56:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:56:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1870s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:56:18 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:56:18 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:56:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT count(*) AS count_1 
FROM (SELECT job_descriptions.title AS title, job_descriptions.department AS department, job_descriptions.location AS location, job_descriptions.salary_range AS salary_range, job_descriptions.experience_level AS experience_level, job_descriptions.education AS education, job_descriptions.job_type AS job_type, job_descriptions.skills AS skills, job_descriptions.content AS content, job_descriptions.requirements AS requirements, job_descriptions.status AS status, job_descriptions.meta_data AS meta_data, job_descriptions.conversation_id AS conversation_id, job_descriptions.workflow_type AS workflow_type, job_descriptions.user_id AS user_id, job_descriptions.id AS id, job_descriptions.created_at AS created_at, job_descriptions.updated_at AS updated_at, job_descriptions.is_active AS is_active, job_descriptions.created_by AS created_by, job_descriptions.updated_by AS updated_by 
FROM job_descriptions 
WHERE job_descriptions.user_id = $1::UUID AND job_descriptions.is_active = true) AS anon_1
2025-10-11 10:56:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00098s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:56:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT job_descriptions.title, job_descriptions.department, job_descriptions.location, job_descriptions.salary_range, job_descriptions.experience_level, job_descriptions.education, job_descriptions.job_type, job_descriptions.skills, job_descriptions.content, job_descriptions.requirements, job_descriptions.status, job_descriptions.meta_data, job_descriptions.conversation_id, job_descriptions.workflow_type, job_descriptions.user_id, job_descriptions.id, job_descriptions.created_at, job_descriptions.updated_at, job_descriptions.is_active, job_descriptions.created_by, job_descriptions.updated_by 
FROM job_descriptions 
WHERE job_descriptions.user_id = $1::UUID AND job_descriptions.is_active = true ORDER BY job_descriptions.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-11 10:56:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00131s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 10, 0)
2025-10-11 10:56:18 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.4270s
2025-10-11 10:56:18 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:56:19 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-11 10:56:19 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:56:19 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:56:19 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:56:19 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:56:19 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:56:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:56:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1872s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:56:19 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:56:19 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:56:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 10:56:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1872s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-11 10:56:19 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.3162s
2025-10-11 10:56:19 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:56:22 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/interview-plans/?resume_evaluation_id=559a7aec-b763-44de-98a5-0719d5c3c920&limit=1
2025-10-11 10:56:22 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:56:22 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:56:22 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:56:22 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:56:22 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:56:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:56:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1874s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:56:22 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:56:22 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:56:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID
2025-10-11 10:56:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1661s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('559a7aec-b763-44de-98a5-0719d5c3c920'))
2025-10-11 10:56:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID ORDER BY interview_plans.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 10:56:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1661s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('559a7aec-b763-44de-98a5-0719d5c3c920'), 10, 0)
2025-10-11 10:56:22 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0992s
2025-10-11 10:56:22 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:56:23 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/interview-plans/?resume_evaluation_id=2a22cb0d-45f3-4f30-887d-89c3ba31530f&limit=1
2025-10-11 10:56:23 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:56:23 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:56:23 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:56:23 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:56:23 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:56:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:56:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1875s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:56:23 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:56:23 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:56:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID
2025-10-11 10:56:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1663s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'))
2025-10-11 10:56:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID ORDER BY interview_plans.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 10:56:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1663s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'), 10, 0)
2025-10-11 10:56:23 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0875s
2025-10-11 10:56:23 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:56:28 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/hr-workflows/generate-interview-plan-by-resume
2025-10-11 10:56:28 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:56:28 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:56:28 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:56:28 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:56:28 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:56:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:56:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1881s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:56:28 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:56:28 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:56:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.id = $1::UUID AND resume_evaluations.user_id = $2::UUID
2025-10-11 10:56:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1665s ago] ('2a22cb0d-45f3-4f30-887d-89c3ba31530f', UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-11 10:56:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT job_descriptions.title, job_descriptions.department, job_descriptions.location, job_descriptions.salary_range, job_descriptions.experience_level, job_descriptions.education, job_descriptions.job_type, job_descriptions.skills, job_descriptions.content, job_descriptions.requirements, job_descriptions.status, job_descriptions.meta_data, job_descriptions.conversation_id, job_descriptions.workflow_type, job_descriptions.user_id, job_descriptions.id, job_descriptions.created_at, job_descriptions.updated_at, job_descriptions.is_active, job_descriptions.created_by, job_descriptions.updated_by 
FROM job_descriptions 
WHERE job_descriptions.id = $1::UUID AND job_descriptions.user_id = $2::UUID
2025-10-11 10:56:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1665s ago] (UUID('819565d7-dd02-43b5-886e-492639b50724'), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-11 10:56:28 - app.core.logging - INFO - dify_service - call_workflow_stream - Calling Dify workflow type 4 with query: 请根据简历和JD要求生成面试方案。...
2025-10-11 10:56:29 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.7167s
2025-10-11 10:56:29 - httpx - INFO - _client - _send_single_request - HTTP Request: POST http://218.78.133.209:85/v1/chat-messages "HTTP/1.1 200 OK"
2025-10-11 10:56:57 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:57:54 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/interview-plans/save-generated
2025-10-11 10:57:54 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:57:54 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:57:54 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:57:54 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:57:54 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:57:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:57:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1966s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:57:54 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:57:54 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:57:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.id = $1::UUID AND resume_evaluations.user_id = $2::UUID
2025-10-11 10:57:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1689s ago] (UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-11 10:57:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.resume_evaluation_id = $1::UUID AND interview_plans.user_id = $2::UUID
2025-10-11 10:57:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1689s ago] (UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-11 10:57:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - UPDATE interview_plans SET content=$1::VARCHAR, updated_at=$2::TIMESTAMP WITHOUT TIME ZONE WHERE interview_plans.id = $3::UUID
2025-10-11 10:57:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 842.9s ago] ('# 李美燕面试方案\n\n## 一、面试基本信息\n1. **求职者姓名**：李美燕\n2. **应聘岗位**：硬件测试工程师\n3. **面试时间**：[具体时间]\n4. **面试地点**：[公司具体地址]\n5. **面试官**：技术部硬件测试主管[姓名]、人力资源专员[姓名]\n\n##  ... (1671 characters truncated) ... 要的职业素养是什么？你在这些方面有哪些体现？\n2. 请谈谈你对工作压力的看法，你通常如何应对工作压力？\n3. 如果你在工作中犯了一个错误，你会如何处理？\n4. 你对自己未来的职业发展有什么规划？你认为这个岗位对你的职业发展有什么帮助？\n5. 请举例说明你在工作中是如何保证工作质量和效率的。', datetime.datetime(2025, 10, 11, 2, 57, 54, 131176), UUID('04b2d90e-8962-4eeb-8c79-2f27e8f726b3'))
2025-10-11 10:57:54 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-11 10:57:54 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:57:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.id = $1::UUID
2025-10-11 10:57:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1689s ago] (UUID('04b2d90e-8962-4eeb-8c79-2f27e8f726b3'),)
2025-10-11 10:57:54 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1499s
2025-10-11 10:57:54 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:57:56 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/interview-plans/save-generated
2025-10-11 10:57:56 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:57:56 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:57:56 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:57:56 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:57:56 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:57:56 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:57:56 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1969s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:57:56 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:57:56 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:57:56 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.id = $1::UUID AND resume_evaluations.user_id = $2::UUID
2025-10-11 10:57:56 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1692s ago] (UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-11 10:57:56 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.resume_evaluation_id = $1::UUID AND interview_plans.user_id = $2::UUID
2025-10-11 10:57:56 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1692s ago] (UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-11 10:57:56 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-11 10:57:56 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:57:56 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.id = $1::UUID
2025-10-11 10:57:56 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1692s ago] (UUID('04b2d90e-8962-4eeb-8c79-2f27e8f726b3'),)
2025-10-11 10:57:57 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0896s
2025-10-11 10:57:57 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:57:59 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/interview-plans/save-generated
2025-10-11 10:57:59 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:57:59 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:57:59 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:57:59 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:57:59 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:57:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:57:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1972s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:57:59 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:57:59 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:57:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.id = $1::UUID AND resume_evaluations.user_id = $2::UUID
2025-10-11 10:57:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1695s ago] (UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-11 10:57:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.resume_evaluation_id = $1::UUID AND interview_plans.user_id = $2::UUID
2025-10-11 10:57:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1695s ago] (UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-11 10:57:59 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-11 10:57:59 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:57:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.id = $1::UUID
2025-10-11 10:57:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1695s ago] (UUID('04b2d90e-8962-4eeb-8c79-2f27e8f726b3'),)
2025-10-11 10:57:59 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1001s
2025-10-11 10:57:59 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:58:19 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/interview-plans/save-generated
2025-10-11 10:58:19 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:58:19 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:58:19 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:58:19 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:58:19 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:58:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:58:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1991s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:58:19 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:58:19 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:58:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.id = $1::UUID AND resume_evaluations.user_id = $2::UUID
2025-10-11 10:58:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1715s ago] (UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-11 10:58:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.resume_evaluation_id = $1::UUID AND interview_plans.user_id = $2::UUID
2025-10-11 10:58:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1715s ago] (UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-11 10:58:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - UPDATE interview_plans SET content=$1::VARCHAR, updated_at=$2::TIMESTAMP WITHOUT TIME ZONE WHERE interview_plans.id = $3::UUID
2025-10-11 10:58:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 868.1s ago] ('# 李美燕面试方案2222\n\n## 一、面试基本信息\n1. **求职者姓名**：李美燕\n2. **应聘岗位**：硬件测试工程师\n3. **面试时间**：[具体时间]\n4. **面试地点**：[公司具体地址]\n5. **面试官**：技术部硬件测试主管[姓名]、人力资源专员[姓名]\n\ ... (1675 characters truncated) ... 要的职业素养是什么？你在这些方面有哪些体现？\n2. 请谈谈你对工作压力的看法，你通常如何应对工作压力？\n3. 如果你在工作中犯了一个错误，你会如何处理？\n4. 你对自己未来的职业发展有什么规划？你认为这个岗位对你的职业发展有什么帮助？\n5. 请举例说明你在工作中是如何保证工作质量和效率的。', datetime.datetime(2025, 10, 11, 2, 58, 19, 270295), UUID('04b2d90e-8962-4eeb-8c79-2f27e8f726b3'))
2025-10-11 10:58:19 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-11 10:58:19 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:58:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.id = $1::UUID
2025-10-11 10:58:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1715s ago] (UUID('04b2d90e-8962-4eeb-8c79-2f27e8f726b3'),)
2025-10-11 10:58:19 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1101s
2025-10-11 10:58:19 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:59:51 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/interview-plans/?resume_evaluation_id=b7c78d67-3c85-4d97-8baf-fb8bd96363a1&limit=1
2025-10-11 10:59:51 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:59:51 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:59:51 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:59:51 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:59:51 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:59:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:59:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2083s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:59:51 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:59:51 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:59:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID
2025-10-11 10:59:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1870s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('b7c78d67-3c85-4d97-8baf-fb8bd96363a1'))
2025-10-11 10:59:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID ORDER BY interview_plans.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 10:59:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1870s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('b7c78d67-3c85-4d97-8baf-fb8bd96363a1'), 10, 0)
2025-10-11 10:59:51 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0623s
2025-10-11 10:59:51 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 10:59:52 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/interview-plans/?resume_evaluation_id=2a22cb0d-45f3-4f30-887d-89c3ba31530f&limit=1
2025-10-11 10:59:52 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 10:59:52 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 10:59:52 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:59:52 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 10:59:52 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 10:59:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 10:59:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2085s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 10:59:52 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 10:59:52 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 10:59:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID
2025-10-11 10:59:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1872s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'))
2025-10-11 10:59:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID ORDER BY interview_plans.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 10:59:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1872s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'), 10, 0)
2025-10-11 10:59:52 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0863s
2025-10-11 10:59:52 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:00:13 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/interview-plans/?resume_evaluation_id=b7c78d67-3c85-4d97-8baf-fb8bd96363a1&limit=1
2025-10-11 11:00:13 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:00:13 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:00:13 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:00:13 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:00:13 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:00:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:00:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2106s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:00:13 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:00:13 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:00:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID
2025-10-11 11:00:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1893s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('b7c78d67-3c85-4d97-8baf-fb8bd96363a1'))
2025-10-11 11:00:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID ORDER BY interview_plans.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:00:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1893s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('b7c78d67-3c85-4d97-8baf-fb8bd96363a1'), 10, 0)
2025-10-11 11:00:13 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0756s
2025-10-11 11:00:13 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:00:26 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/interview-plans/?resume_evaluation_id=2a22cb0d-45f3-4f30-887d-89c3ba31530f&limit=1
2025-10-11 11:00:26 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:00:26 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:00:26 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:00:26 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:00:26 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:00:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:00:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2119s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:00:27 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:00:27 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:00:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID
2025-10-11 11:00:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1906s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'))
2025-10-11 11:00:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID ORDER BY interview_plans.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:00:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1906s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'), 10, 0)
2025-10-11 11:00:27 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0584s
2025-10-11 11:00:27 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:00:45 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/interview-plans/?resume_evaluation_id=559a7aec-b763-44de-98a5-0719d5c3c920&limit=1
2025-10-11 11:00:45 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:00:45 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:00:45 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:00:45 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:00:45 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:00:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:00:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2138s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:00:45 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:00:45 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:00:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID
2025-10-11 11:00:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1925s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('559a7aec-b763-44de-98a5-0719d5c3c920'))
2025-10-11 11:00:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID ORDER BY interview_plans.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:00:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1925s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('559a7aec-b763-44de-98a5-0719d5c3c920'), 10, 0)
2025-10-11 11:00:45 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0654s
2025-10-11 11:00:45 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:02:25 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-11 11:02:25 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:02:25 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:02:25 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:02:25 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:02:25 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:02:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:02:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2238s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:02:25 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:02:25 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:02:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:02:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2238s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-11 11:02:25 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-11 11:02:25 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:02:25 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:02:25 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:02:25 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:02:25 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:02:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:02:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2238s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:02:25 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:02:25 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:02:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:02:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2238s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-11 11:02:25 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0506s
2025-10-11 11:02:25 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:02:25 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1071s
2025-10-11 11:02:25 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:02:41 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-11 11:02:41 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:02:41 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:02:41 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:02:41 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:02:41 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:02:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:02:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2253s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:02:41 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-11 11:02:41 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:02:41 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:02:41 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:02:41 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:02:41 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:02:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:02:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2253s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:02:41 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:02:41 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:02:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:02:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2253s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-11 11:02:41 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:02:41 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:02:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:02:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2253s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-11 11:02:41 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0587s
2025-10-11 11:02:41 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:02:41 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0617s
2025-10-11 11:02:41 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:02:48 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-11 11:02:48 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:02:48 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:02:48 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:02:48 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:02:48 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:02:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:02:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2260s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:02:48 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-11 11:02:48 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:02:48 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:02:48 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:02:48 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:02:48 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:02:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:02:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2260s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:02:48 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:02:48 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:02:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:02:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2260s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-11 11:02:48 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:02:48 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:02:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:02:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2260s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-11 11:02:48 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0864s
2025-10-11 11:02:48 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:02:48 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0871s
2025-10-11 11:02:48 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:03:03 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-11 11:03:03 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:03:03 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:03:03 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:03:03 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:03:03 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:03:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:03:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2275s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:03:03 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:03:03 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:03:03 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-11 11:03:03 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-11 11:03:03 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-11 11:03:03 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-11 11:03:03 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0221s
2025-10-11 11:03:03 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:03:03 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-11 11:03:03 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:03:03 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:03:03 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:03:03 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:03:03 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:03:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:03:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2275s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:03:03 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:03:03 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:03:03 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-11 11:03:03 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-11 11:03:03 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-11 11:03:03 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-11 11:03:03 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0222s
2025-10-11 11:03:03 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:03:34 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/interview-plans/?resume_evaluation_id=559a7aec-b763-44de-98a5-0719d5c3c920&limit=1
2025-10-11 11:03:34 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:03:34 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:03:34 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:03:34 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:03:34 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:03:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:03:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2307s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:03:34 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:03:34 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:03:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID
2025-10-11 11:03:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2094s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('559a7aec-b763-44de-98a5-0719d5c3c920'))
2025-10-11 11:03:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID ORDER BY interview_plans.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:03:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2094s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('559a7aec-b763-44de-98a5-0719d5c3c920'), 10, 0)
2025-10-11 11:03:34 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0724s
2025-10-11 11:03:34 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:03:37 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/interview-plans/?resume_evaluation_id=2a22cb0d-45f3-4f30-887d-89c3ba31530f&limit=1
2025-10-11 11:03:37 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:03:37 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:03:37 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:03:37 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:03:37 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:03:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:03:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2310s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:03:37 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:03:37 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:03:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID
2025-10-11 11:03:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2097s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'))
2025-10-11 11:03:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID ORDER BY interview_plans.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:03:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2097s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'), 10, 0)
2025-10-11 11:03:37 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0550s
2025-10-11 11:03:37 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:04:02 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-11 11:04:02 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:04:02 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:04:02 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:04:02 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:04:02 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:04:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:04:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2335s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:04:02 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:04:02 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:04:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:04:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2334s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-11 11:04:02 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0575s
2025-10-11 11:04:02 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:04:04 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/interview-plans/?resume_evaluation_id=559a7aec-b763-44de-98a5-0719d5c3c920&limit=1
2025-10-11 11:04:04 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:04:04 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:04:04 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:04:04 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:04:04 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:04:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:04:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2336s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:04:04 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:04:04 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:04:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID
2025-10-11 11:04:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2123s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('559a7aec-b763-44de-98a5-0719d5c3c920'))
2025-10-11 11:04:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID ORDER BY interview_plans.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:04:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2123s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('559a7aec-b763-44de-98a5-0719d5c3c920'), 10, 0)
2025-10-11 11:04:04 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0402s
2025-10-11 11:04:04 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:04:11 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/interview-plans/?resume_evaluation_id=559a7aec-b763-44de-98a5-0719d5c3c920&limit=1
2025-10-11 11:04:11 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:04:11 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:04:11 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:04:11 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:04:11 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:04:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:04:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2344s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:04:11 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:04:11 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:04:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID
2025-10-11 11:04:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2131s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('559a7aec-b763-44de-98a5-0719d5c3c920'))
2025-10-11 11:04:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID ORDER BY interview_plans.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:04:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2131s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('559a7aec-b763-44de-98a5-0719d5c3c920'), 10, 0)
2025-10-11 11:04:12 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0866s
2025-10-11 11:04:12 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:04:15 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/interview-plans/?resume_evaluation_id=2a22cb0d-45f3-4f30-887d-89c3ba31530f&limit=1
2025-10-11 11:04:15 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:04:15 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:04:15 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:04:15 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:04:15 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:04:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:04:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2348s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:04:15 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:04:15 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:04:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID
2025-10-11 11:04:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2135s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'))
2025-10-11 11:04:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID ORDER BY interview_plans.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:04:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2135s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'), 10, 0)
2025-10-11 11:04:15 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0740s
2025-10-11 11:04:15 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:05:21 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-11 11:05:21 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:05:21 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:05:21 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:05:21 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:05:21 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:05:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:05:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2413s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:05:21 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-11 11:05:21 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:05:21 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:05:21 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:05:21 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:05:21 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:05:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:05:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2413s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:05:21 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:05:21 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:05:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:05:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2413s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-11 11:05:21 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:05:21 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:05:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:05:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2413s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-11 11:05:21 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-11 11:05:21 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:05:21 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:05:21 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:05:21 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:05:21 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0584s
2025-10-11 11:05:21 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:05:21 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0632s
2025-10-11 11:05:21 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:05:21 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:05:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:05:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2414s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:05:21 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:05:21 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:05:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:05:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2414s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-11 11:05:21 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.4176s
2025-10-11 11:05:21 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:05:27 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/interview-plans/?resume_evaluation_id=559a7aec-b763-44de-98a5-0719d5c3c920&limit=1
2025-10-11 11:05:27 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:05:27 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:05:27 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:05:27 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:05:27 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:05:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:05:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2419s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:05:27 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:05:27 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:05:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID
2025-10-11 11:05:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2206s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('559a7aec-b763-44de-98a5-0719d5c3c920'))
2025-10-11 11:05:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID ORDER BY interview_plans.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:05:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2206s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('559a7aec-b763-44de-98a5-0719d5c3c920'), 10, 0)
2025-10-11 11:05:27 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0663s
2025-10-11 11:05:27 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:05:34 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/interview-plans/?resume_evaluation_id=559a7aec-b763-44de-98a5-0719d5c3c920&limit=1
2025-10-11 11:05:34 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:05:34 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:05:34 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:05:34 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:05:34 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:05:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:05:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2427s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:05:34 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:05:34 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:05:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID
2025-10-11 11:05:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2214s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('559a7aec-b763-44de-98a5-0719d5c3c920'))
2025-10-11 11:05:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID ORDER BY interview_plans.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:05:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2214s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('559a7aec-b763-44de-98a5-0719d5c3c920'), 10, 0)
2025-10-11 11:05:34 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0486s
2025-10-11 11:05:34 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:05:36 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-11 11:05:36 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:05:36 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:05:36 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:05:36 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:05:36 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:05:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:05:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2428s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:05:36 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:05:36 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:05:36 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-11 11:05:36 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-11 11:05:36 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-11 11:05:36 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-11 11:05:36 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0249s
2025-10-11 11:05:36 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:05:36 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-11 11:05:36 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:05:36 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:05:36 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:05:36 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:05:36 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:05:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:05:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2428s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:05:36 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:05:36 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:05:36 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-11 11:05:36 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-11 11:05:36 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-11 11:05:36 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-11 11:05:36 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0336s
2025-10-11 11:05:36 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:05:40 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-11 11:05:40 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:05:40 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:05:40 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:05:40 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:05:40 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:05:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:05:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2432s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:05:40 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:05:40 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:05:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:05:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2432s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-11 11:05:40 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0521s
2025-10-11 11:05:40 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:05:41 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/interview-plans/?resume_evaluation_id=559a7aec-b763-44de-98a5-0719d5c3c920&limit=1
2025-10-11 11:05:41 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:05:41 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:05:41 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:05:41 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:05:41 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:05:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:05:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2434s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:05:41 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:05:41 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:05:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID
2025-10-11 11:05:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2221s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('559a7aec-b763-44de-98a5-0719d5c3c920'))
2025-10-11 11:05:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID ORDER BY interview_plans.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:05:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2221s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('559a7aec-b763-44de-98a5-0719d5c3c920'), 10, 0)
2025-10-11 11:05:41 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1065s
2025-10-11 11:05:41 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:06:19 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-11 11:06:19 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:06:19 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:06:19 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:06:19 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:06:19 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:06:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:06:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2471s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:06:19 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:06:19 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:06:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:06:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2471s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-11 11:06:19 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-11 11:06:19 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:06:19 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:06:19 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:06:19 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:06:19 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:06:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:06:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2471s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:06:19 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0721s
2025-10-11 11:06:19 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:06:19 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:06:19 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:06:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:06:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2471s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-11 11:06:19 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0969s
2025-10-11 11:06:19 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:06:19 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-11 11:06:19 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:06:19 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:06:19 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:06:19 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:06:19 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:06:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:06:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2471s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:06:19 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:06:19 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:06:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:06:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2471s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-11 11:06:19 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1264s
2025-10-11 11:06:19 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:06:26 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-11 11:06:26 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:06:26 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:06:26 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:06:26 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:06:26 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:06:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:06:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2478s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:06:26 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-11 11:06:26 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:06:26 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:06:26 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:06:26 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:06:26 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:06:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:06:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2478s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:06:26 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:06:26 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:06:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:06:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2478s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-11 11:06:26 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-11 11:06:26 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:06:26 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:06:26 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:06:26 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:06:26 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:06:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:06:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2478s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:06:26 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:06:26 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:06:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:06:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2478s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-11 11:06:26 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0870s
2025-10-11 11:06:26 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:06:26 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:06:26 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:06:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:06:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2478s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-11 11:06:26 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0876s
2025-10-11 11:06:26 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:06:26 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0550s
2025-10-11 11:06:26 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:06:47 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-11 11:06:47 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:06:47 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:06:47 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:06:47 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:06:47 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:06:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:06:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2500s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:06:47 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:06:47 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:06:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:06:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2500s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-11 11:06:47 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0471s
2025-10-11 11:06:47 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:06:47 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-11 11:06:47 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:06:47 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:06:47 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:06:47 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:06:47 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:06:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:06:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2500s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:06:47 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-11 11:06:47 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:06:47 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:06:47 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:06:47 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:06:47 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:06:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:06:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2500s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:06:47 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:06:47 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:06:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:06:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2500s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-11 11:06:48 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:06:48 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:06:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:06:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2500s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-11 11:06:48 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0815s
2025-10-11 11:06:48 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:06:48 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0839s
2025-10-11 11:06:48 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:07:02 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-11 11:07:02 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:07:02 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:07:02 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:07:02 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:07:02 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:07:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:07:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2514s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:07:02 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:07:02 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:07:02 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-11 11:07:02 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-11 11:07:02 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-11 11:07:02 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-11 11:07:02 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0278s
2025-10-11 11:07:02 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:07:02 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-11 11:07:02 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:07:02 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:07:02 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:07:02 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:07:02 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:07:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:07:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2514s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:07:02 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:07:02 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:07:02 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-11 11:07:02 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-11 11:07:02 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-11 11:07:02 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-11 11:07:02 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0233s
2025-10-11 11:07:02 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:09:30 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/interview-plans/?resume_evaluation_id=559a7aec-b763-44de-98a5-0719d5c3c920&limit=1
2025-10-11 11:09:30 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:09:30 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:09:30 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:09:30 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:09:30 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:09:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:09:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2662s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:09:30 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:09:30 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:09:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID
2025-10-11 11:09:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2450s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('559a7aec-b763-44de-98a5-0719d5c3c920'))
2025-10-11 11:09:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID ORDER BY interview_plans.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:09:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2449s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('559a7aec-b763-44de-98a5-0719d5c3c920'), 10, 0)
2025-10-11 11:09:30 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0683s
2025-10-11 11:09:30 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:09:38 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/interview-plans/?resume_evaluation_id=2a22cb0d-45f3-4f30-887d-89c3ba31530f&limit=1
2025-10-11 11:09:38 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:09:38 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:09:38 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:09:38 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:09:38 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:09:38 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:09:38 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2670s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:09:38 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:09:38 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:09:38 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID
2025-10-11 11:09:38 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2457s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'))
2025-10-11 11:09:38 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID ORDER BY interview_plans.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:09:38 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2457s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'), 10, 0)
2025-10-11 11:09:38 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0601s
2025-10-11 11:09:38 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:10:11 - app.core.middleware - INFO - middleware - dispatch - Request: PUT http://localhost:8000/api/v1/interview-plans/04b2d90e-8962-4eeb-8c79-2f27e8f726b3
2025-10-11 11:10:11 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:10:11 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:10:11 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:10:11 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:10:11 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:10:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:10:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2704s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:10:11 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:10:11 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:10:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.id = $1::UUID AND interview_plans.user_id = $2::UUID
2025-10-11 11:10:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00055s] (UUID('04b2d90e-8962-4eeb-8c79-2f27e8f726b3'), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-11 11:10:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - UPDATE interview_plans SET content=$1::VARCHAR, updated_at=$2::TIMESTAMP WITHOUT TIME ZONE WHERE interview_plans.id = $3::UUID
2025-10-11 11:10:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1580s ago] ('# 李美燕面试方案22223333\n\n## 一、面试基本信息\n1. **求职者姓名**：李美燕\n2. **应聘岗位**：硬件测试工程师\n3. **面试时间**：[具体时间]\n4. **面试地点**：[公司具体地址]\n5. **面试官**：技术部硬件测试主管[姓名]、人力资源专员[姓名 ... (1679 characters truncated) ... 要的职业素养是什么？你在这些方面有哪些体现？\n2. 请谈谈你对工作压力的看法，你通常如何应对工作压力？\n3. 如果你在工作中犯了一个错误，你会如何处理？\n4. 你对自己未来的职业发展有什么规划？你认为这个岗位对你的职业发展有什么帮助？\n5. 请举例说明你在工作中是如何保证工作质量和效率的。', datetime.datetime(2025, 10, 11, 3, 10, 11, 537820), UUID('04b2d90e-8962-4eeb-8c79-2f27e8f726b3'))
2025-10-11 11:10:11 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-11 11:10:11 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:10:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.id = $1::UUID
2025-10-11 11:10:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2427s ago] (UUID('04b2d90e-8962-4eeb-8c79-2f27e8f726b3'),)
2025-10-11 11:10:11 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1205s
2025-10-11 11:10:11 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:10:23 - app.core.middleware - INFO - middleware - dispatch - Request: PUT http://localhost:8000/api/v1/interview-plans/04b2d90e-8962-4eeb-8c79-2f27e8f726b3
2025-10-11 11:10:23 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:10:23 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:10:23 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:10:23 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:10:23 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:10:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:10:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2715s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:10:23 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:10:23 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:10:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.id = $1::UUID AND interview_plans.user_id = $2::UUID
2025-10-11 11:10:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 11.67s ago] (UUID('04b2d90e-8962-4eeb-8c79-2f27e8f726b3'), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-11 11:10:23 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-11 11:10:23 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:10:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.id = $1::UUID
2025-10-11 11:10:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2439s ago] (UUID('04b2d90e-8962-4eeb-8c79-2f27e8f726b3'),)
2025-10-11 11:10:23 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.2763s
2025-10-11 11:10:23 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:10:30 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/interview-plans/?resume_evaluation_id=559a7aec-b763-44de-98a5-0719d5c3c920&limit=1
2025-10-11 11:10:30 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:10:30 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:10:30 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:10:30 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:10:30 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:10:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:10:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2723s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:10:30 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:10:30 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:10:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID
2025-10-11 11:10:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2510s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('559a7aec-b763-44de-98a5-0719d5c3c920'))
2025-10-11 11:10:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID ORDER BY interview_plans.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:10:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2510s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('559a7aec-b763-44de-98a5-0719d5c3c920'), 10, 0)
2025-10-11 11:10:30 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0626s
2025-10-11 11:10:30 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:10:32 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/interview-plans/?resume_evaluation_id=2a22cb0d-45f3-4f30-887d-89c3ba31530f&limit=1
2025-10-11 11:10:32 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:10:32 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:10:32 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:10:32 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:10:32 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:10:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:10:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2724s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:10:32 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:10:32 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:10:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID
2025-10-11 11:10:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2512s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'))
2025-10-11 11:10:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID ORDER BY interview_plans.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:10:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2511s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'), 10, 0)
2025-10-11 11:10:32 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0883s
2025-10-11 11:10:32 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:10:32 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/interview-plans/?resume_evaluation_id=559a7aec-b763-44de-98a5-0719d5c3c920&limit=1
2025-10-11 11:10:32 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:10:32 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:10:32 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:10:32 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:10:32 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:10:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:10:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2725s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:10:32 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:10:32 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:10:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID
2025-10-11 11:10:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2512s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('559a7aec-b763-44de-98a5-0719d5c3c920'))
2025-10-11 11:10:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID ORDER BY interview_plans.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:10:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2512s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('559a7aec-b763-44de-98a5-0719d5c3c920'), 10, 0)
2025-10-11 11:10:32 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1145s
2025-10-11 11:10:32 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:10:35 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/interview-plans/?resume_evaluation_id=2a22cb0d-45f3-4f30-887d-89c3ba31530f&limit=1
2025-10-11 11:10:35 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:10:35 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:10:35 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:10:35 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:10:35 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:10:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:10:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2728s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:10:35 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:10:35 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:10:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID
2025-10-11 11:10:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2515s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'))
2025-10-11 11:10:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID ORDER BY interview_plans.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:10:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2515s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'), 10, 0)
2025-10-11 11:10:36 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1130s
2025-10-11 11:10:36 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:10:37 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/interview-plans/?resume_evaluation_id=559a7aec-b763-44de-98a5-0719d5c3c920&limit=1
2025-10-11 11:10:37 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:10:37 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:10:37 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:10:37 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:10:37 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:10:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:10:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2730s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:10:37 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:10:37 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:10:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID
2025-10-11 11:10:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2517s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('559a7aec-b763-44de-98a5-0719d5c3c920'))
2025-10-11 11:10:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID ORDER BY interview_plans.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:10:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2517s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('559a7aec-b763-44de-98a5-0719d5c3c920'), 10, 0)
2025-10-11 11:10:37 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0833s
2025-10-11 11:10:37 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:10:42 - app.core.middleware - INFO - middleware - dispatch - Request: PUT http://localhost:8000/api/v1/interview-plans/33294443-564a-4a93-9314-255848cad029
2025-10-11 11:10:42 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:10:42 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:10:42 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:10:42 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:10:42 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:10:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:10:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2734s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:10:42 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:10:42 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:10:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.id = $1::UUID AND interview_plans.user_id = $2::UUID
2025-10-11 11:10:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 30.87s ago] (UUID('33294443-564a-4a93-9314-255848cad029'), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-11 11:10:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - UPDATE interview_plans SET content=$1::VARCHAR, updated_at=$2::TIMESTAMP WITHOUT TIME ZONE WHERE interview_plans.id = $3::UUID
2025-10-11 11:10:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1611s ago] ('# 《金晓国面试方案222》\n\n## 一、面试基本信息\n1. **求职者姓名**：金晓国\n2. **应聘岗位**：硬件测试工程师\n3. **面试时间**：[具体时间]\n4. **面试地点**：[公司具体地址]\n5. **面试官**：技术部负责人[姓名]、HR[姓名]\n\n## 二、 ... (1624 characters truncated) ... 相关领导审批。\n\n## 六、面试后续工作\n1. 如果求职者通过面试，HR及时与求职者沟通录用事宜，包括薪资待遇、入职时间等。\n2. 如果求职者未通过面试，HR以委婉的方式通知求职者，并感谢其对公司的关注和支持。\n3. 对面试过程进行总结和反思，不断优化面试方案和流程，提高招聘效率和质量。', datetime.datetime(2025, 10, 11, 3, 10, 42, 396221), UUID('33294443-564a-4a93-9314-255848cad029'))
2025-10-11 11:10:42 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-11 11:10:42 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:10:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.id = $1::UUID
2025-10-11 11:10:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2458s ago] (UUID('33294443-564a-4a93-9314-255848cad029'),)
2025-10-11 11:10:42 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.2459s
2025-10-11 11:10:42 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:10:44 - app.core.middleware - INFO - middleware - dispatch - Request: PUT http://localhost:8000/api/v1/interview-plans/33294443-564a-4a93-9314-255848cad029
2025-10-11 11:10:44 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:10:44 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:10:44 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:10:44 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:10:44 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:10:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:10:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2736s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:10:44 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:10:44 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:10:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.id = $1::UUID AND interview_plans.user_id = $2::UUID
2025-10-11 11:10:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 32.75s ago] (UUID('33294443-564a-4a93-9314-255848cad029'), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-11 11:10:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - UPDATE interview_plans SET content=$1::VARCHAR, updated_at=$2::TIMESTAMP WITHOUT TIME ZONE WHERE interview_plans.id = $3::UUID
2025-10-11 11:10:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1613s ago] ('# 《金晓国面试方案》\n\n## 一、面试基本信息\n1. **求职者姓名**：金晓国\n2. **应聘岗位**：硬件测试工程师\n3. **面试时间**：[具体时间]\n4. **面试地点**：[公司具体地址]\n5. **面试官**：技术部负责人[姓名]、HR[姓名]\n\n## 二、面试目 ... (1621 characters truncated) ... 相关领导审批。\n\n## 六、面试后续工作\n1. 如果求职者通过面试，HR及时与求职者沟通录用事宜，包括薪资待遇、入职时间等。\n2. 如果求职者未通过面试，HR以委婉的方式通知求职者，并感谢其对公司的关注和支持。\n3. 对面试过程进行总结和反思，不断优化面试方案和流程，提高招聘效率和质量。', datetime.datetime(2025, 10, 11, 3, 10, 44, 287070), UUID('33294443-564a-4a93-9314-255848cad029'))
2025-10-11 11:10:44 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-11 11:10:44 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:10:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.id = $1::UUID
2025-10-11 11:10:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2460s ago] (UUID('33294443-564a-4a93-9314-255848cad029'),)
2025-10-11 11:10:44 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1178s
2025-10-11 11:10:44 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:10:46 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/interview-plans/?resume_evaluation_id=2a22cb0d-45f3-4f30-887d-89c3ba31530f&limit=1
2025-10-11 11:10:46 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:10:46 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:10:46 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:10:46 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:10:46 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:10:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:10:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2739s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:10:46 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:10:46 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:10:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID
2025-10-11 11:10:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2526s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'))
2025-10-11 11:10:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID ORDER BY interview_plans.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:10:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2526s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'), 10, 0)
2025-10-11 11:10:46 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0773s
2025-10-11 11:10:46 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:10:46 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/interview-plans/?resume_evaluation_id=559a7aec-b763-44de-98a5-0719d5c3c920&limit=1
2025-10-11 11:10:46 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:10:46 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:10:46 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:10:46 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:10:46 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:10:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:10:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2739s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:10:47 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:10:47 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:10:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID
2025-10-11 11:10:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2526s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('559a7aec-b763-44de-98a5-0719d5c3c920'))
2025-10-11 11:10:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID ORDER BY interview_plans.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:10:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2526s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('559a7aec-b763-44de-98a5-0719d5c3c920'), 10, 0)
2025-10-11 11:10:47 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1366s
2025-10-11 11:10:47 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:10:55 - app.core.middleware - INFO - middleware - dispatch - Request: PUT http://localhost:8000/api/v1/interview-plans/33294443-564a-4a93-9314-255848cad029
2025-10-11 11:10:55 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:10:55 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:10:55 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:10:55 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:10:55 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:10:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:10:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2748s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:10:55 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:10:55 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:10:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.id = $1::UUID AND interview_plans.user_id = $2::UUID
2025-10-11 11:10:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 44.05s ago] (UUID('33294443-564a-4a93-9314-255848cad029'), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-11 11:10:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - UPDATE interview_plans SET content=$1::VARCHAR, updated_at=$2::TIMESTAMP WITHOUT TIME ZONE WHERE interview_plans.id = $3::UUID
2025-10-11 11:10:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1624s ago] ('# 《金晓国面试方案2222》\n\n## 一、面试基本信息\n1. **求职者姓名**：金晓国\n2. **应聘岗位**：硬件测试工程师\n3. **面试时间**：[具体时间]\n4. **面试地点**：[公司具体地址]\n5. **面试官**：技术部负责人[姓名]、HR[姓名]\n\n## 二 ... (1625 characters truncated) ... 相关领导审批。\n\n## 六、面试后续工作\n1. 如果求职者通过面试，HR及时与求职者沟通录用事宜，包括薪资待遇、入职时间等。\n2. 如果求职者未通过面试，HR以委婉的方式通知求职者，并感谢其对公司的关注和支持。\n3. 对面试过程进行总结和反思，不断优化面试方案和流程，提高招聘效率和质量。', datetime.datetime(2025, 10, 11, 3, 10, 55, 590202), UUID('33294443-564a-4a93-9314-255848cad029'))
2025-10-11 11:10:55 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-11 11:10:55 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:10:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.id = $1::UUID
2025-10-11 11:10:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2471s ago] (UUID('33294443-564a-4a93-9314-255848cad029'),)
2025-10-11 11:10:55 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1232s
2025-10-11 11:10:55 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:10:56 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/interview-plans/?resume_evaluation_id=2a22cb0d-45f3-4f30-887d-89c3ba31530f&limit=1
2025-10-11 11:10:56 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:10:56 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:10:56 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:10:56 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:10:56 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:10:56 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:10:56 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2749s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:10:56 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:10:56 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:10:56 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID
2025-10-11 11:10:56 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2536s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'))
2025-10-11 11:10:56 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID ORDER BY interview_plans.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:10:56 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2536s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'), 10, 0)
2025-10-11 11:10:56 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0612s
2025-10-11 11:10:56 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:10:57 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/interview-plans/?resume_evaluation_id=559a7aec-b763-44de-98a5-0719d5c3c920&limit=1
2025-10-11 11:10:57 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:10:57 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:10:57 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:10:57 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:10:57 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:10:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:10:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2749s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:10:57 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:10:57 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:10:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID
2025-10-11 11:10:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2536s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('559a7aec-b763-44de-98a5-0719d5c3c920'))
2025-10-11 11:10:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID ORDER BY interview_plans.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:10:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2536s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('559a7aec-b763-44de-98a5-0719d5c3c920'), 10, 0)
2025-10-11 11:10:57 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0649s
2025-10-11 11:10:57 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:10:57 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/interview-plans/?resume_evaluation_id=2a22cb0d-45f3-4f30-887d-89c3ba31530f&limit=1
2025-10-11 11:10:57 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:10:57 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:10:57 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:10:57 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:10:57 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:10:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:10:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2750s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:10:57 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:10:57 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:10:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID
2025-10-11 11:10:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2537s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'))
2025-10-11 11:10:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID ORDER BY interview_plans.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:10:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2537s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'), 10, 0)
2025-10-11 11:10:57 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0718s
2025-10-11 11:10:57 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:10:58 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/interview-plans/?resume_evaluation_id=559a7aec-b763-44de-98a5-0719d5c3c920&limit=1
2025-10-11 11:10:58 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:10:58 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:10:58 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:10:58 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:10:58 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:10:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:10:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2751s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:10:58 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:10:58 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:10:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID
2025-10-11 11:10:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2538s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('559a7aec-b763-44de-98a5-0719d5c3c920'))
2025-10-11 11:10:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID ORDER BY interview_plans.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:10:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2538s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('559a7aec-b763-44de-98a5-0719d5c3c920'), 10, 0)
2025-10-11 11:10:58 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0691s
2025-10-11 11:10:58 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:11:00 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/interview-plans/?resume_evaluation_id=b7c78d67-3c85-4d97-8baf-fb8bd96363a1&limit=1
2025-10-11 11:11:00 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:11:00 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:11:00 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:11:00 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:11:00 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:11:00 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:11:00 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2753s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:11:00 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:11:00 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:11:00 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID
2025-10-11 11:11:00 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2540s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('b7c78d67-3c85-4d97-8baf-fb8bd96363a1'))
2025-10-11 11:11:00 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID ORDER BY interview_plans.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:11:00 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2540s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('b7c78d67-3c85-4d97-8baf-fb8bd96363a1'), 10, 0)
2025-10-11 11:11:00 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0576s
2025-10-11 11:11:00 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:11:02 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/interview-plans/?resume_evaluation_id=2a22cb0d-45f3-4f30-887d-89c3ba31530f&limit=1
2025-10-11 11:11:02 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:11:02 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:11:02 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:11:02 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:11:02 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:11:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:11:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2754s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:11:02 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:11:02 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:11:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID
2025-10-11 11:11:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2541s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'))
2025-10-11 11:11:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID ORDER BY interview_plans.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:11:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2541s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'), 10, 0)
2025-10-11 11:11:02 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0648s
2025-10-11 11:11:02 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:11:02 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/interview-plans/?resume_evaluation_id=559a7aec-b763-44de-98a5-0719d5c3c920&limit=1
2025-10-11 11:11:02 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:11:02 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:11:02 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:11:02 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:11:02 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:11:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:11:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2755s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:11:02 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:11:02 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:11:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID
2025-10-11 11:11:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2542s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('559a7aec-b763-44de-98a5-0719d5c3c920'))
2025-10-11 11:11:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID ORDER BY interview_plans.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:11:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2542s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('559a7aec-b763-44de-98a5-0719d5c3c920'), 10, 0)
2025-10-11 11:11:02 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0621s
2025-10-11 11:11:02 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:11:03 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/interview-plans/?resume_evaluation_id=2a22cb0d-45f3-4f30-887d-89c3ba31530f&limit=1
2025-10-11 11:11:03 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:11:03 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:11:03 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:11:03 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:11:03 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:11:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:11:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2756s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:11:03 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:11:03 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:11:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID
2025-10-11 11:11:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2543s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'))
2025-10-11 11:11:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID ORDER BY interview_plans.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:11:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2543s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'), 10, 0)
2025-10-11 11:11:03 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0831s
2025-10-11 11:11:03 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:11:04 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/interview-plans/?resume_evaluation_id=559a7aec-b763-44de-98a5-0719d5c3c920&limit=1
2025-10-11 11:11:04 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:11:04 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:11:04 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:11:04 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:11:04 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:11:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:11:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2757s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:11:04 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:11:04 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:11:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID
2025-10-11 11:11:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2544s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('559a7aec-b763-44de-98a5-0719d5c3c920'))
2025-10-11 11:11:05 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID ORDER BY interview_plans.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:11:05 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2544s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('559a7aec-b763-44de-98a5-0719d5c3c920'), 10, 0)
2025-10-11 11:11:05 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0630s
2025-10-11 11:11:05 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:11:08 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/interview-plans/?resume_evaluation_id=2a22cb0d-45f3-4f30-887d-89c3ba31530f&limit=1
2025-10-11 11:11:08 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:11:08 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:11:08 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:11:08 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:11:08 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:11:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:11:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2760s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:11:08 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:11:08 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:11:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID
2025-10-11 11:11:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2548s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'))
2025-10-11 11:11:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID ORDER BY interview_plans.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:11:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2547s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'), 10, 0)
2025-10-11 11:11:08 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0518s
2025-10-11 11:11:08 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:11:08 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/interview-plans/?resume_evaluation_id=559a7aec-b763-44de-98a5-0719d5c3c920&limit=1
2025-10-11 11:11:08 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:11:08 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:11:08 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:11:08 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:11:08 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:11:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:11:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2761s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:11:08 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:11:08 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:11:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID
2025-10-11 11:11:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2548s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('559a7aec-b763-44de-98a5-0719d5c3c920'))
2025-10-11 11:11:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID ORDER BY interview_plans.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:11:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2548s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('559a7aec-b763-44de-98a5-0719d5c3c920'), 10, 0)
2025-10-11 11:11:08 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0675s
2025-10-11 11:11:08 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:11:09 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/interview-plans/?resume_evaluation_id=2a22cb0d-45f3-4f30-887d-89c3ba31530f&limit=1
2025-10-11 11:11:09 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:11:09 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:11:09 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:11:09 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:11:09 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:11:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:11:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2762s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:11:09 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:11:09 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:11:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID
2025-10-11 11:11:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2549s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'))
2025-10-11 11:11:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID ORDER BY interview_plans.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:11:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2549s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'), 10, 0)
2025-10-11 11:11:09 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0635s
2025-10-11 11:11:09 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:11:12 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/jd?page=1&size=100
2025-10-11 11:11:12 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?page=1&size=10
2025-10-11 11:11:12 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:11:12 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:11:12 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:11:12 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:11:12 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:11:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:11:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2765s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:11:12 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:11:12 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:11:12 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:11:12 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:11:12 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:11:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:11:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2765s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:11:12 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:11:12 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:11:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT count(*) AS count_1 
FROM (SELECT job_descriptions.title AS title, job_descriptions.department AS department, job_descriptions.location AS location, job_descriptions.salary_range AS salary_range, job_descriptions.experience_level AS experience_level, job_descriptions.education AS education, job_descriptions.job_type AS job_type, job_descriptions.skills AS skills, job_descriptions.content AS content, job_descriptions.requirements AS requirements, job_descriptions.status AS status, job_descriptions.meta_data AS meta_data, job_descriptions.conversation_id AS conversation_id, job_descriptions.workflow_type AS workflow_type, job_descriptions.user_id AS user_id, job_descriptions.id AS id, job_descriptions.created_at AS created_at, job_descriptions.updated_at AS updated_at, job_descriptions.is_active AS is_active, job_descriptions.created_by AS created_by, job_descriptions.updated_by AS updated_by 
FROM job_descriptions 
WHERE job_descriptions.user_id = $1::UUID AND job_descriptions.is_active = true) AS anon_1
2025-10-11 11:11:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 894.1s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:11:12 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:11:12 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:11:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID ORDER BY resume_evaluations.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-11 11:11:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00115s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 20, 0)
2025-10-11 11:11:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT job_descriptions.title, job_descriptions.department, job_descriptions.location, job_descriptions.salary_range, job_descriptions.experience_level, job_descriptions.education, job_descriptions.job_type, job_descriptions.skills, job_descriptions.content, job_descriptions.requirements, job_descriptions.status, job_descriptions.meta_data, job_descriptions.conversation_id, job_descriptions.workflow_type, job_descriptions.user_id, job_descriptions.id, job_descriptions.created_at, job_descriptions.updated_at, job_descriptions.is_active, job_descriptions.created_by, job_descriptions.updated_by 
FROM job_descriptions 
WHERE job_descriptions.user_id = $1::UUID AND job_descriptions.is_active = true ORDER BY job_descriptions.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-11 11:11:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00194s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 100, 0)
2025-10-11 11:11:12 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0762s
2025-10-11 11:11:12 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:11:12 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1898s
2025-10-11 11:11:12 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:11:13 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-11 11:11:13 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:11:13 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:11:13 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:11:13 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:11:13 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:11:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:11:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2765s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:11:13 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:11:13 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:11:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:11:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2765s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-11 11:11:13 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0800s
2025-10-11 11:11:13 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:11:14 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/interview-plans/?resume_evaluation_id=559a7aec-b763-44de-98a5-0719d5c3c920&limit=1
2025-10-11 11:11:14 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:11:14 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:11:14 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:11:14 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:11:14 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:11:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:11:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2767s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:11:14 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:11:14 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:11:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID
2025-10-11 11:11:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2554s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('559a7aec-b763-44de-98a5-0719d5c3c920'))
2025-10-11 11:11:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID ORDER BY interview_plans.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:11:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2554s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('559a7aec-b763-44de-98a5-0719d5c3c920'), 10, 0)
2025-10-11 11:11:14 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0678s
2025-10-11 11:11:14 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:11:15 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/interview-plans/?resume_evaluation_id=2a22cb0d-45f3-4f30-887d-89c3ba31530f&limit=1
2025-10-11 11:11:15 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:11:15 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:11:15 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:11:15 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:11:15 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:11:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:11:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2768s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:11:15 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:11:15 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:11:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID
2025-10-11 11:11:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2555s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'))
2025-10-11 11:11:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID ORDER BY interview_plans.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:11:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2555s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'), 10, 0)
2025-10-11 11:11:15 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0651s
2025-10-11 11:11:15 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:11:17 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/interview-plans/?resume_evaluation_id=559a7aec-b763-44de-98a5-0719d5c3c920&limit=1
2025-10-11 11:11:17 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:11:17 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:11:17 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:11:17 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:11:17 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:11:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:11:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2769s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:11:17 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:11:17 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:11:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID
2025-10-11 11:11:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2556s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('559a7aec-b763-44de-98a5-0719d5c3c920'))
2025-10-11 11:11:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID ORDER BY interview_plans.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:11:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2556s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('559a7aec-b763-44de-98a5-0719d5c3c920'), 10, 0)
2025-10-11 11:11:17 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0677s
2025-10-11 11:11:17 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:11:18 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/interview-plans/?resume_evaluation_id=2a22cb0d-45f3-4f30-887d-89c3ba31530f&limit=1
2025-10-11 11:11:18 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:11:18 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:11:18 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:11:18 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:11:18 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:11:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:11:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2770s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:11:18 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:11:18 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:11:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID
2025-10-11 11:11:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2557s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'))
2025-10-11 11:11:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID ORDER BY interview_plans.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:11:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2557s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'), 10, 0)
2025-10-11 11:11:18 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0625s
2025-10-11 11:11:18 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:11:19 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/interview-plans/?resume_evaluation_id=559a7aec-b763-44de-98a5-0719d5c3c920&limit=1
2025-10-11 11:11:19 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:11:19 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:11:19 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:11:19 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:11:19 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:11:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:11:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2772s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:11:19 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:11:19 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:11:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID
2025-10-11 11:11:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2559s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('559a7aec-b763-44de-98a5-0719d5c3c920'))
2025-10-11 11:11:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID ORDER BY interview_plans.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:11:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2559s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('559a7aec-b763-44de-98a5-0719d5c3c920'), 10, 0)
2025-10-11 11:11:20 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0790s
2025-10-11 11:11:20 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:11:24 - app.core.middleware - INFO - middleware - dispatch - Request: PUT http://localhost:8000/api/v1/interview-plans/33294443-564a-4a93-9314-255848cad029
2025-10-11 11:11:24 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:11:24 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:11:24 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:11:24 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:11:24 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:11:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:11:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2777s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:11:24 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:11:24 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:11:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.id = $1::UUID AND interview_plans.user_id = $2::UUID
2025-10-11 11:11:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 73.29s ago] (UUID('33294443-564a-4a93-9314-255848cad029'), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-11 11:11:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - UPDATE interview_plans SET content=$1::VARCHAR, updated_at=$2::TIMESTAMP WITHOUT TIME ZONE WHERE interview_plans.id = $3::UUID
2025-10-11 11:11:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1654s ago] ('# 《金晓国面试方案2222345》\n\n## 一、面试基本信息\n1. **求职者姓名**：金晓国\n2. **应聘岗位**：硬件测试工程师\n3. **面试时间**：[具体时间]\n4. **面试地点**：[公司具体地址]\n5. **面试官**：技术部负责人[姓名]、HR[姓名]\n\n# ... (1628 characters truncated) ... 相关领导审批。\n\n## 六、面试后续工作\n1. 如果求职者通过面试，HR及时与求职者沟通录用事宜，包括薪资待遇、入职时间等。\n2. 如果求职者未通过面试，HR以委婉的方式通知求职者，并感谢其对公司的关注和支持。\n3. 对面试过程进行总结和反思，不断优化面试方案和流程，提高招聘效率和质量。', datetime.datetime(2025, 10, 11, 3, 11, 24, 854446), UUID('33294443-564a-4a93-9314-255848cad029'))
2025-10-11 11:11:24 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-11 11:11:24 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:11:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.id = $1::UUID
2025-10-11 11:11:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2500s ago] (UUID('33294443-564a-4a93-9314-255848cad029'),)
2025-10-11 11:11:24 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1442s
2025-10-11 11:11:24 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:11:25 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/interview-plans/?resume_evaluation_id=2a22cb0d-45f3-4f30-887d-89c3ba31530f&limit=1
2025-10-11 11:11:25 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:11:25 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:11:25 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:11:25 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:11:25 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:11:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:11:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2778s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:11:25 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:11:25 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:11:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID
2025-10-11 11:11:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2565s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'))
2025-10-11 11:11:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID ORDER BY interview_plans.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:11:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2565s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'), 10, 0)
2025-10-11 11:11:25 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0562s
2025-10-11 11:11:25 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:11:26 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/interview-plans/?resume_evaluation_id=559a7aec-b763-44de-98a5-0719d5c3c920&limit=1
2025-10-11 11:11:26 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:11:26 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:11:26 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:11:26 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:11:26 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:11:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:11:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2779s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:11:26 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:11:26 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:11:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID
2025-10-11 11:11:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2566s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('559a7aec-b763-44de-98a5-0719d5c3c920'))
2025-10-11 11:11:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID ORDER BY interview_plans.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:11:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2566s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('559a7aec-b763-44de-98a5-0719d5c3c920'), 10, 0)
2025-10-11 11:11:26 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0699s
2025-10-11 11:11:26 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:11:27 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/interview-plans/?resume_evaluation_id=2a22cb0d-45f3-4f30-887d-89c3ba31530f&limit=1
2025-10-11 11:11:27 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:11:27 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:11:27 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:11:27 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:11:27 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:11:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:11:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2780s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:11:27 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:11:27 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:11:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID
2025-10-11 11:11:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2567s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'))
2025-10-11 11:11:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID ORDER BY interview_plans.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:11:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2567s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'), 10, 0)
2025-10-11 11:11:27 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1032s
2025-10-11 11:11:27 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:12:43 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-11 11:12:43 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:12:43 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:12:43 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:12:43 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:12:43 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:12:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:12:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2855s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:12:43 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-11 11:12:43 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:12:43 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:12:43 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:12:43 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:12:43 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:12:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:12:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2855s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:12:43 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:12:43 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:12:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:12:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2855s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-11 11:12:43 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:12:43 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:12:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:12:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2855s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-11 11:12:43 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0786s
2025-10-11 11:12:43 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:12:43 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0708s
2025-10-11 11:12:43 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:12:49 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-11 11:12:49 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:12:49 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:12:49 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:12:49 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:12:49 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:12:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:12:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2861s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:12:49 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-11 11:12:49 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:12:49 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:12:49 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:12:49 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:12:49 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:12:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:12:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2861s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:12:49 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:12:49 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:12:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:12:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2861s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-11 11:12:49 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:12:49 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:12:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:12:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2861s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-11 11:12:49 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0440s
2025-10-11 11:12:49 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0551s
2025-10-11 11:12:49 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:12:49 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:12:57 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-11 11:12:57 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:12:57 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:12:57 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:12:57 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:12:57 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:12:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:12:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2870s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:12:58 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-11 11:12:58 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:12:58 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:12:58 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:12:58 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:12:58 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:12:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:12:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2870s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:12:58 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:12:58 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:12:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:12:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2870s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-11 11:12:58 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:12:58 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:12:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:12:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2870s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-11 11:12:58 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0505s
2025-10-11 11:12:58 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:12:58 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0411s
2025-10-11 11:12:58 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:13:17 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-11 11:13:17 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:13:17 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:13:17 - app.api.deps - ERROR - deps - get_current_user - ❌ JWT decode error: Signature has expired.
2025-10-11 11:13:17 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: Could not validate credentials
2025-10-11 11:13:17 - app.core.middleware - INFO - middleware - dispatch - Response: 401 - Processing time: 0.0099s
2025-10-11 11:13:17 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-11 11:13:17 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:13:17 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:13:17 - app.api.deps - ERROR - deps - get_current_user - ❌ JWT decode error: Signature has expired.
2025-10-11 11:13:17 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: Could not validate credentials
2025-10-11 11:13:17 - app.core.middleware - INFO - middleware - dispatch - Response: 401 - Processing time: 0.0133s
2025-10-11 11:13:31 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-11 11:13:31 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:13:31 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:13:31 - app.api.deps - ERROR - deps - get_current_user - ❌ JWT decode error: Signature has expired.
2025-10-11 11:13:31 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: Could not validate credentials
2025-10-11 11:13:31 - app.core.middleware - INFO - middleware - dispatch - Response: 401 - Processing time: 0.0062s
2025-10-11 11:13:31 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-11 11:13:31 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:13:31 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:13:31 - app.api.deps - ERROR - deps - get_current_user - ❌ JWT decode error: Signature has expired.
2025-10-11 11:13:31 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: Could not validate credentials
2025-10-11 11:13:31 - app.core.middleware - INFO - middleware - dispatch - Response: 401 - Processing time: 0.0030s
2025-10-11 11:15:11 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/auth/login
2025-10-11 11:15:11 - app.api.v1.endpoints.auth - INFO - auth - login - Login attempt for username: testuser
2025-10-11 11:15:11 - app.api.v1.endpoints.auth - INFO - auth - login - UserService created successfully
2025-10-11 11:15:11 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:15:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.username = $1::VARCHAR AND users.is_active = true
2025-10-11 11:15:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2027s ago] ('testuser',)
2025-10-11 11:15:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - UPDATE users SET last_login=now(), updated_at=$1::TIMESTAMP WITHOUT TIME ZONE WHERE users.id = $2::UUID
2025-10-11 11:15:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2027s ago] (datetime.datetime(2025, 10, 11, 3, 15, 11, 675034), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-11 11:15:11 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-11 11:15:11 - app.api.v1.endpoints.auth - INFO - auth - login - Authentication result: True
2025-10-11 11:15:11 - app.api.v1.endpoints.auth - INFO - auth - login - Creating access token for user: testuser
2025-10-11 11:15:11 - app.api.v1.endpoints.auth - INFO - auth - login - Login successful for user: testuser
2025-10-11 11:15:11 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.3304s
2025-10-11 11:15:11 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-11 11:15:11 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:15:11 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:15:11 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:15:11 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:15:11 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:15:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:15:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 3004s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:15:11 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:15:11 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:15:11 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-11 11:15:11 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-11 11:15:11 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-11 11:15:11 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-11 11:15:11 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0399s
2025-10-11 11:15:11 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:15:14 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-11 11:15:14 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:15:14 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:15:14 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:15:14 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:15:14 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:15:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:15:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 3006s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:15:14 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:15:14 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:15:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:15:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 3006s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-11 11:15:14 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0632s
2025-10-11 11:15:14 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:15:15 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/interview-plans/?resume_evaluation_id=559a7aec-b763-44de-98a5-0719d5c3c920&limit=1
2025-10-11 11:15:15 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:15:15 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:15:15 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:15:15 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:15:15 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:15:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:15:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 3008s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:15:15 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:15:15 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:15:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID
2025-10-11 11:15:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2795s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('559a7aec-b763-44de-98a5-0719d5c3c920'))
2025-10-11 11:15:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID ORDER BY interview_plans.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:15:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2795s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('559a7aec-b763-44de-98a5-0719d5c3c920'), 10, 0)
2025-10-11 11:15:15 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0637s
2025-10-11 11:15:15 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:15:19 - app.core.middleware - INFO - middleware - dispatch - Request: PUT http://localhost:8000/api/v1/interview-plans/33294443-564a-4a93-9314-255848cad029
2025-10-11 11:15:19 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:15:19 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:15:19 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:15:19 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:15:19 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:15:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:15:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 3012s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:15:19 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:15:19 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:15:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.id = $1::UUID AND interview_plans.user_id = $2::UUID
2025-10-11 11:15:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 308.1s ago] (UUID('33294443-564a-4a93-9314-255848cad029'), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-11 11:15:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - UPDATE interview_plans SET content=$1::VARCHAR, updated_at=$2::TIMESTAMP WITHOUT TIME ZONE WHERE interview_plans.id = $3::UUID
2025-10-11 11:15:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1888s ago] ('# 《金晓国面试方案1112222345》\n\n## 一、面试基本信息\n1. **求职者姓名**：金晓国\n2. **应聘岗位**：硬件测试工程师\n3. **面试时间**：[具体时间]\n4. **面试地点**：[公司具体地址]\n5. **面试官**：技术部负责人[姓名]、HR[姓名]\n ... (1631 characters truncated) ... 相关领导审批。\n\n## 六、面试后续工作\n1. 如果求职者通过面试，HR及时与求职者沟通录用事宜，包括薪资待遇、入职时间等。\n2. 如果求职者未通过面试，HR以委婉的方式通知求职者，并感谢其对公司的关注和支持。\n3. 对面试过程进行总结和反思，不断优化面试方案和流程，提高招聘效率和质量。', datetime.datetime(2025, 10, 11, 3, 15, 19, 620093), UUID('33294443-564a-4a93-9314-255848cad029'))
2025-10-11 11:15:19 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-11 11:15:19 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:15:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.id = $1::UUID
2025-10-11 11:15:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2735s ago] (UUID('33294443-564a-4a93-9314-255848cad029'),)
2025-10-11 11:15:19 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1340s
2025-10-11 11:15:19 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:15:21 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/interview-plans/?resume_evaluation_id=2a22cb0d-45f3-4f30-887d-89c3ba31530f&limit=1
2025-10-11 11:15:21 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:15:21 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:15:21 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:15:21 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:15:21 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:15:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:15:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 3014s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:15:21 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:15:21 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:15:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID
2025-10-11 11:15:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2801s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'))
2025-10-11 11:15:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID ORDER BY interview_plans.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:15:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2801s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'), 10, 0)
2025-10-11 11:15:21 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1047s
2025-10-11 11:15:21 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:15:26 - app.core.middleware - INFO - middleware - dispatch - Request: PUT http://localhost:8000/api/v1/interview-plans/04b2d90e-8962-4eeb-8c79-2f27e8f726b3
2025-10-11 11:15:26 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:15:26 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:15:26 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:15:26 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:15:26 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:15:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:15:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 3018s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:15:26 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:15:26 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:15:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.id = $1::UUID AND interview_plans.user_id = $2::UUID
2025-10-11 11:15:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 314.7s ago] (UUID('04b2d90e-8962-4eeb-8c79-2f27e8f726b3'), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-11 11:15:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - UPDATE interview_plans SET content=$1::VARCHAR, updated_at=$2::TIMESTAMP WITHOUT TIME ZONE WHERE interview_plans.id = $3::UUID
2025-10-11 11:15:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1895s ago] ('# 李美燕面试方案\n\n## 一、面试基本信息\n1. **求职者姓名**：李美燕\n2. **应聘岗位**：硬件测试工程师\n3. **面试时间**：[具体时间]\n4. **面试地点**：[公司具体地址]\n5. **面试官**：技术部硬件测试主管[姓名]、人力资源专员[姓名]\n\n##  ... (1671 characters truncated) ... 要的职业素养是什么？你在这些方面有哪些体现？\n2. 请谈谈你对工作压力的看法，你通常如何应对工作压力？\n3. 如果你在工作中犯了一个错误，你会如何处理？\n4. 你对自己未来的职业发展有什么规划？你认为这个岗位对你的职业发展有什么帮助？\n5. 请举例说明你在工作中是如何保证工作质量和效率的。', datetime.datetime(2025, 10, 11, 3, 15, 26, 283632), UUID('04b2d90e-8962-4eeb-8c79-2f27e8f726b3'))
2025-10-11 11:15:26 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-11 11:15:26 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:15:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.id = $1::UUID
2025-10-11 11:15:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2742s ago] (UUID('04b2d90e-8962-4eeb-8c79-2f27e8f726b3'),)
2025-10-11 11:15:26 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1753s
2025-10-11 11:15:26 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:15:27 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/interview-plans/?resume_evaluation_id=559a7aec-b763-44de-98a5-0719d5c3c920&limit=1
2025-10-11 11:15:27 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:15:27 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:15:27 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:15:27 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:15:27 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:15:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:15:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 3020s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:15:27 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:15:27 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:15:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID
2025-10-11 11:15:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2807s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('559a7aec-b763-44de-98a5-0719d5c3c920'))
2025-10-11 11:15:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID ORDER BY interview_plans.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:15:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2807s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('559a7aec-b763-44de-98a5-0719d5c3c920'), 10, 0)
2025-10-11 11:15:27 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0791s
2025-10-11 11:15:27 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:15:29 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/interview-plans/?resume_evaluation_id=2a22cb0d-45f3-4f30-887d-89c3ba31530f&limit=1
2025-10-11 11:15:29 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:15:29 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:15:29 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:15:29 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:15:29 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:15:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:15:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 3022s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:15:29 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:15:29 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:15:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID
2025-10-11 11:15:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2809s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'))
2025-10-11 11:15:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID ORDER BY interview_plans.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:15:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2809s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'), 10, 0)
2025-10-11 11:15:29 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0749s
2025-10-11 11:15:29 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:15:31 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/interview-plans/?resume_evaluation_id=b7c78d67-3c85-4d97-8baf-fb8bd96363a1&limit=1
2025-10-11 11:15:31 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:15:31 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:15:31 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:15:31 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:15:31 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:15:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:15:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 3023s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:15:31 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:15:31 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:15:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID
2025-10-11 11:15:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2811s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('b7c78d67-3c85-4d97-8baf-fb8bd96363a1'))
2025-10-11 11:15:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID ORDER BY interview_plans.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:15:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2811s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('b7c78d67-3c85-4d97-8baf-fb8bd96363a1'), 10, 0)
2025-10-11 11:15:31 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0967s
2025-10-11 11:15:31 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:15:32 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/interview-plans/?resume_evaluation_id=2a22cb0d-45f3-4f30-887d-89c3ba31530f&limit=1
2025-10-11 11:15:32 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:15:32 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:15:32 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:15:32 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:15:32 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:15:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:15:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 3024s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:15:32 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:15:32 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:15:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID
2025-10-11 11:15:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2812s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'))
2025-10-11 11:15:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID ORDER BY interview_plans.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:15:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2812s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'), 10, 0)
2025-10-11 11:15:32 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0746s
2025-10-11 11:15:32 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:15:58 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/interview-plans/?resume_evaluation_id=559a7aec-b763-44de-98a5-0719d5c3c920&limit=1
2025-10-11 11:15:58 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:15:58 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:15:58 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:15:58 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:15:58 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:15:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:15:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 3051s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:15:58 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:15:58 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:15:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID
2025-10-11 11:15:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2838s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('559a7aec-b763-44de-98a5-0719d5c3c920'))
2025-10-11 11:15:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID ORDER BY interview_plans.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:15:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2838s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('559a7aec-b763-44de-98a5-0719d5c3c920'), 10, 0)
2025-10-11 11:15:58 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0656s
2025-10-11 11:15:58 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:16:10 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/interview-plans/?resume_evaluation_id=2a22cb0d-45f3-4f30-887d-89c3ba31530f&limit=1
2025-10-11 11:16:10 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:16:10 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:16:10 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:16:10 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:16:10 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:16:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:16:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 3062s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:16:10 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:16:10 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:16:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID
2025-10-11 11:16:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2850s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'))
2025-10-11 11:16:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID ORDER BY interview_plans.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:16:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2850s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'), 10, 0)
2025-10-11 11:16:10 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0627s
2025-10-11 11:16:10 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:16:13 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/interview-plans/?resume_evaluation_id=b7c78d67-3c85-4d97-8baf-fb8bd96363a1&limit=1
2025-10-11 11:16:13 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:16:13 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:16:13 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:16:13 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:16:13 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:16:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:16:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 3065s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:16:13 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:16:13 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:16:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID
2025-10-11 11:16:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2853s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('b7c78d67-3c85-4d97-8baf-fb8bd96363a1'))
2025-10-11 11:16:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID ORDER BY interview_plans.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:16:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2853s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('b7c78d67-3c85-4d97-8baf-fb8bd96363a1'), 10, 0)
2025-10-11 11:16:13 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0549s
2025-10-11 11:16:13 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:24:58 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/auth/login
2025-10-11 11:24:58 - app.api.v1.endpoints.auth - INFO - auth - login - Login attempt for username: testuser
2025-10-11 11:24:58 - app.api.v1.endpoints.auth - INFO - auth - login - UserService created successfully
2025-10-11 11:24:58 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:24:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.username = $1::VARCHAR AND users.is_active = true
2025-10-11 11:24:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2614s ago] ('testuser',)
2025-10-11 11:25:17 - app.services.user_service - ERROR - user_service - get_user_by_username - Error getting user by username testuser: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.username = $1::VARCHAR AND users.is_active = true]
[parameters: ('testuser',)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-11 11:25:17 - app.services.user_service - ERROR - user_service - authenticate - Error authenticating user: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.username = $1::VARCHAR AND users.is_active = true]
[parameters: ('testuser',)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-11 11:25:17 - app.api.v1.endpoints.auth - INFO - auth - login - Authentication result: False
2025-10-11 11:25:17 - app.api.v1.endpoints.auth - WARNING - auth - login - Authentication failed for username: testuser
2025-10-11 11:25:17 - app.api.v1.endpoints.auth - ERROR - auth - login - Login error: 
Traceback (most recent call last):
  File "E:\workspace-py\hr-agent\backend\app\api\v1\endpoints\auth.py", line 73, in login
    raise HTTPException(
fastapi.exceptions.HTTPException
2025-10-11 11:25:17 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: Incorrect username or password
2025-10-11 11:25:17 - app.core.middleware - INFO - middleware - dispatch - Response: 401 - Processing time: 19.1995s
2025-10-11 11:25:27 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/auth/login
2025-10-11 11:25:27 - app.api.v1.endpoints.auth - INFO - auth - login - Login attempt for username: testuser
2025-10-11 11:25:27 - app.api.v1.endpoints.auth - INFO - auth - login - UserService created successfully
2025-10-11 11:25:27 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:25:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.username = $1::VARCHAR AND users.is_active = true
2025-10-11 11:25:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2643s ago] ('testuser',)
2025-10-11 11:25:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - UPDATE users SET last_login=now(), updated_at=$1::TIMESTAMP WITHOUT TIME ZONE WHERE users.id = $2::UUID
2025-10-11 11:25:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2643s ago] (datetime.datetime(2025, 10, 11, 3, 25, 27, 564122), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-11 11:25:27 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-11 11:25:27 - app.api.v1.endpoints.auth - INFO - auth - login - Authentication result: True
2025-10-11 11:25:27 - app.api.v1.endpoints.auth - INFO - auth - login - Creating access token for user: testuser
2025-10-11 11:25:27 - app.api.v1.endpoints.auth - INFO - auth - login - Login successful for user: testuser
2025-10-11 11:25:27 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.5219s
2025-10-11 11:25:27 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-11 11:25:27 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:25:27 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:25:27 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:25:27 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:25:27 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:25:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:25:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 3620s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:25:27 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:25:27 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:25:27 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-11 11:25:27 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-11 11:25:27 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-11 11:25:27 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-11 11:25:27 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.2693s
2025-10-11 11:25:27 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:25:30 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/jd?page=1&size=100
2025-10-11 11:25:30 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?page=1&size=10
2025-10-11 11:25:30 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:25:30 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:25:30 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:25:30 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:25:30 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:25:30 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:25:30 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:25:30 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:25:30 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:25:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:25:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 3622s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:25:30 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:25:30 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:25:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID ORDER BY resume_evaluations.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-11 11:25:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 857.6s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 20, 0)
2025-10-11 11:25:30 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1719s
2025-10-11 11:25:30 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:25:30 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:25:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:25:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 3622s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:25:30 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:25:30 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:25:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT count(*) AS count_1 
FROM (SELECT job_descriptions.title AS title, job_descriptions.department AS department, job_descriptions.location AS location, job_descriptions.salary_range AS salary_range, job_descriptions.experience_level AS experience_level, job_descriptions.education AS education, job_descriptions.job_type AS job_type, job_descriptions.skills AS skills, job_descriptions.content AS content, job_descriptions.requirements AS requirements, job_descriptions.status AS status, job_descriptions.meta_data AS meta_data, job_descriptions.conversation_id AS conversation_id, job_descriptions.workflow_type AS workflow_type, job_descriptions.user_id AS user_id, job_descriptions.id AS id, job_descriptions.created_at AS created_at, job_descriptions.updated_at AS updated_at, job_descriptions.is_active AS is_active, job_descriptions.created_by AS created_by, job_descriptions.updated_by AS updated_by 
FROM job_descriptions 
WHERE job_descriptions.user_id = $1::UUID AND job_descriptions.is_active = true) AS anon_1
2025-10-11 11:25:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1752s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:25:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT job_descriptions.title, job_descriptions.department, job_descriptions.location, job_descriptions.salary_range, job_descriptions.experience_level, job_descriptions.education, job_descriptions.job_type, job_descriptions.skills, job_descriptions.content, job_descriptions.requirements, job_descriptions.status, job_descriptions.meta_data, job_descriptions.conversation_id, job_descriptions.workflow_type, job_descriptions.user_id, job_descriptions.id, job_descriptions.created_at, job_descriptions.updated_at, job_descriptions.is_active, job_descriptions.created_by, job_descriptions.updated_by 
FROM job_descriptions 
WHERE job_descriptions.user_id = $1::UUID AND job_descriptions.is_active = true ORDER BY job_descriptions.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-11 11:25:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 858s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 100, 0)
2025-10-11 11:25:30 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.5566s
2025-10-11 11:25:30 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:28:45 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-11 11:28:45 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:28:45 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:28:45 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:28:45 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:28:45 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:28:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:28:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 3817s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:28:45 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:28:45 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:28:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:28:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 3817s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-11 11:28:45 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0927s
2025-10-11 11:28:45 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:28:46 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/interview-plans/?resume_evaluation_id=559a7aec-b763-44de-98a5-0719d5c3c920&limit=1
2025-10-11 11:28:46 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:28:46 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:28:46 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:28:46 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:28:46 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:28:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:28:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 3819s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:28:46 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:28:46 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:28:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID
2025-10-11 11:28:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 3606s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('559a7aec-b763-44de-98a5-0719d5c3c920'))
2025-10-11 11:28:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID ORDER BY interview_plans.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:28:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 3606s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('559a7aec-b763-44de-98a5-0719d5c3c920'), 10, 0)
2025-10-11 11:28:46 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0709s
2025-10-11 11:28:46 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:29:17 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/jd?page=1&size=100
2025-10-11 11:29:17 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?page=1&size=10
2025-10-11 11:29:17 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:29:17 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:29:17 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:29:17 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:29:17 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:29:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:29:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 3850s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:29:17 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:29:17 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:29:17 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:29:17 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:29:17 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:29:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:29:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 3850s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:29:17 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:29:17 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:29:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT count(*) AS count_1 
FROM (SELECT job_descriptions.title AS title, job_descriptions.department AS department, job_descriptions.location AS location, job_descriptions.salary_range AS salary_range, job_descriptions.experience_level AS experience_level, job_descriptions.education AS education, job_descriptions.job_type AS job_type, job_descriptions.skills AS skills, job_descriptions.content AS content, job_descriptions.requirements AS requirements, job_descriptions.status AS status, job_descriptions.meta_data AS meta_data, job_descriptions.conversation_id AS conversation_id, job_descriptions.workflow_type AS workflow_type, job_descriptions.user_id AS user_id, job_descriptions.id AS id, job_descriptions.created_at AS created_at, job_descriptions.updated_at AS updated_at, job_descriptions.is_active AS is_active, job_descriptions.created_by AS created_by, job_descriptions.updated_by AS updated_by 
FROM job_descriptions 
WHERE job_descriptions.user_id = $1::UUID AND job_descriptions.is_active = true) AS anon_1
2025-10-11 11:29:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1979s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:29:17 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:29:17 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:29:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID ORDER BY resume_evaluations.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-11 11:29:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1085s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 20, 0)
2025-10-11 11:29:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT job_descriptions.title, job_descriptions.department, job_descriptions.location, job_descriptions.salary_range, job_descriptions.experience_level, job_descriptions.education, job_descriptions.job_type, job_descriptions.skills, job_descriptions.content, job_descriptions.requirements, job_descriptions.status, job_descriptions.meta_data, job_descriptions.conversation_id, job_descriptions.workflow_type, job_descriptions.user_id, job_descriptions.id, job_descriptions.created_at, job_descriptions.updated_at, job_descriptions.is_active, job_descriptions.created_by, job_descriptions.updated_by 
FROM job_descriptions 
WHERE job_descriptions.user_id = $1::UUID AND job_descriptions.is_active = true ORDER BY job_descriptions.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-11 11:29:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1085s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 100, 0)
2025-10-11 11:29:17 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0907s
2025-10-11 11:29:17 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:29:17 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1077s
2025-10-11 11:29:17 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:44:03 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/list
2025-10-11 11:44:03 - app.core.exception_handlers - ERROR - exception_handlers - starlette_http_exception_handler - Starlette HTTP Exception: Not Found
2025-10-11 11:44:03 - app.core.middleware - INFO - middleware - dispatch - Response: 404 - Processing time: 0.0055s
2025-10-11 11:44:03 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-base/?skip=0&limit=100
2025-10-11 11:44:03 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:44:03 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:44:03 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:44:03 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:44:03 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:44:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:44:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 4736s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:44:22 - app.services.user_service - ERROR - user_service - get_user - Error getting user 663c3a32-596c-4fec-955e-6eace86eb281: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-11 11:44:22 - app.api.deps - ERROR - deps - get_current_user - ❌ Error in get_current_user: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-11 11:44:22 - app.core.exception_handlers - ERROR - exception_handlers - sqlalchemy_exception_handler - Database Error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\asyncio\selector_events.py", line 862, in _read_ready__data_received
    data = self._sock.recv(self.max_size)
ConnectionResetError: [WinError 10054] 远程主机强迫关闭了一个现有的连接。

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 859, in _start_transaction
    await self._transaction.start()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\asyncpg\transaction.py", line 146, in start
    await self._connection.execute(query)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\asyncpg\connection.py", line 350, in execute
    result = await self._protocol.query(query, timeout)
  File "asyncpg\protocol\protocol.pyx", line 374, in query
asyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 527, in _prepare_and_execute
    await adapt_connection._start_transaction()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 861, in _start_transaction
    self._handle_exception(error)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.Error: <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 20, in __call__
    raise e
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 66, in app
    response = await func(request)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\routing.py", line 264, in app
    solved_result = await solve_dependencies(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\dependencies\utils.py", line 592, in solve_dependencies
    solved = await call(**sub_values)
  File "E:\workspace-py\hr-agent\backend\app\api\deps.py", line 56, in get_current_user
    user = await user_service.get_user(user_uuid)
  File "E:\workspace-py\hr-agent\backend\app\services\user_service.py", line 112, in get_user
    result = await self.db.execute(query)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 455, in execute
    result = await greenlet_spawn(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 190, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\orm\session.py", line 2308, in execute
    return self._execute_internal(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\orm\session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 527, in _prepare_and_execute
    await adapt_connection._start_transaction()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 861, in _start_transaction
    self._handle_exception(error)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.DBAPIError: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-11 11:44:22 - app.core.middleware - INFO - middleware - dispatch - Response: 500 - Processing time: 19.1901s
2025-10-11 11:44:22 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-assistant/documents
2025-10-11 11:44:22 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:44:22 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:44:22 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:44:22 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:44:23 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:44:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:44:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 4755s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:44:23 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:44:23 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:44:23 - app.services.lightweight_document_service - INFO - lightweight_document_service - __init__ - Lightweight document service initialized
2025-10-11 11:44:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT documents.filename, documents.original_filename, documents.file_path, documents.file_size, documents.file_hash, documents.mime_type, documents.extracted_content, documents.summary, documents.meta_data, documents.embedding, documents.category, documents.tags, documents.user_id, documents.knowledge_base_id, documents.id, documents.created_at, documents.updated_at, documents.is_active, documents.created_by, documents.updated_by 
FROM documents 
WHERE documents.user_id = $1::UUID ORDER BY documents.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-11 11:44:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00140s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 20, 0)
2025-10-11 11:44:23 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.3471s
2025-10-11 11:44:23 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:44:45 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/list
2025-10-11 11:44:45 - app.core.exception_handlers - ERROR - exception_handlers - starlette_http_exception_handler - Starlette HTTP Exception: Not Found
2025-10-11 11:44:45 - app.core.middleware - INFO - middleware - dispatch - Response: 404 - Processing time: 0.0045s
2025-10-11 11:44:46 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-base/?skip=0&limit=100
2025-10-11 11:44:46 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:44:46 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:44:46 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:44:46 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:44:46 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:44:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:44:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 4778s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:44:46 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:44:46 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:44:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT knowledge_bases.name, knowledge_bases.description, knowledge_bases.is_public, knowledge_bases.is_searchable, knowledge_bases.meta_data, knowledge_bases.document_count, knowledge_bases.category, knowledge_bases.tags, knowledge_bases.id, knowledge_bases.created_at, knowledge_bases.updated_at, knowledge_bases.is_active, knowledge_bases.created_by, knowledge_bases.updated_by 
FROM knowledge_bases 
WHERE knowledge_bases.is_public = true ORDER BY knowledge_bases.created_at DESC 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-10-11 11:44:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00088s] (100, 0)
2025-10-11 11:44:46 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.3048s
2025-10-11 11:44:46 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:44:46 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-assistant/documents
2025-10-11 11:44:46 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:44:46 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:44:46 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:44:46 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:44:46 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:44:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:44:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 4779s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:44:46 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:44:46 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:44:46 - app.services.lightweight_document_service - INFO - lightweight_document_service - __init__ - Lightweight document service initialized
2025-10-11 11:44:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT documents.filename, documents.original_filename, documents.file_path, documents.file_size, documents.file_hash, documents.mime_type, documents.extracted_content, documents.summary, documents.meta_data, documents.embedding, documents.category, documents.tags, documents.user_id, documents.knowledge_base_id, documents.id, documents.created_at, documents.updated_at, documents.is_active, documents.created_by, documents.updated_by 
FROM documents 
WHERE documents.user_id = $1::UUID ORDER BY documents.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-11 11:44:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 23.44s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 20, 0)
2025-10-11 11:44:46 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.3724s
2025-10-11 11:44:46 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:49:51 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-11 11:50:48 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-11 11:50:48 - main - INFO - main - lifespan - Database connections closed
2025-10-11 11:50:48 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-11 11:50:54 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-11 11:50:54 - main - INFO - main - lifespan - Logging configured
2025-10-11 11:50:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-11 11:50:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-11 11:50:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-11 11:50:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-11 11:50:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-11 11:50:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-11 11:50:54 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:50:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-11 11:50:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00035s] ()
2025-10-11 11:50:54 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-11 11:50:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 11:50:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00052s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 11:50:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 11:50:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.01767s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 11:50:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 11:50:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03179s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 11:50:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 11:50:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04129s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 11:50:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 11:50:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0504s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 11:50:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 11:50:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05944s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 11:50:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 11:50:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06695s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 11:50:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 11:50:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07666s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 11:50:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 11:50:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0848s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 11:50:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 11:50:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09198s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 11:50:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 11:50:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0986s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 11:50:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 11:50:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00091s] ('userrole', 'pg_catalog')
2025-10-11 11:50:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 11:50:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.01586s ago] ('conversationstatus', 'pg_catalog')
2025-10-11 11:50:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 11:50:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02578s ago] ('messagerole', 'pg_catalog')
2025-10-11 11:50:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 11:50:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04021s ago] ('jdstatus', 'pg_catalog')
2025-10-11 11:50:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 11:50:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05728s ago] ('scoringstatus', 'pg_catalog')
2025-10-11 11:50:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 11:50:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08262s ago] ('resumestatus', 'pg_catalog')
2025-10-11 11:50:54 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-11 11:50:54 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-11 11:50:54 - main - INFO - main - lifespan - Database initialized successfully
2025-10-11 11:50:54 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-11 11:51:32 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/list
2025-10-11 11:51:32 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:51:32 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:51:32 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:51:32 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:51:32 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:51:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:51:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00153s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:51:32 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:51:32 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:51:32 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.2152s
2025-10-11 11:51:32 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:51:32 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-base/?skip=0&limit=100
2025-10-11 11:51:32 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:51:32 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:51:32 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:51:32 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:51:32 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:51:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:51:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1294s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:51:32 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:51:32 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:51:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT knowledge_bases.name, knowledge_bases.description, knowledge_bases.is_public, knowledge_bases.is_searchable, knowledge_bases.meta_data, knowledge_bases.document_count, knowledge_bases.category, knowledge_bases.tags, knowledge_bases.id, knowledge_bases.created_at, knowledge_bases.updated_at, knowledge_bases.is_active, knowledge_bases.created_by, knowledge_bases.updated_by 
FROM knowledge_bases 
WHERE knowledge_bases.is_public = true ORDER BY knowledge_bases.created_at DESC 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-10-11 11:51:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00110s] (100, 0)
2025-10-11 11:51:32 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0634s
2025-10-11 11:51:32 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:51:32 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-assistant/documents
2025-10-11 11:51:32 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:51:32 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:51:32 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:51:32 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:51:32 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:51:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:51:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.2206s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:51:32 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:51:32 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:51:32 - app.services.lightweight_document_service - INFO - lightweight_document_service - __init__ - Lightweight document service initialized
2025-10-11 11:51:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT documents.filename, documents.original_filename, documents.file_path, documents.file_size, documents.file_hash, documents.mime_type, documents.extracted_content, documents.summary, documents.meta_data, documents.embedding, documents.category, documents.tags, documents.user_id, documents.knowledge_base_id, documents.id, documents.created_at, documents.updated_at, documents.is_active, documents.created_by, documents.updated_by 
FROM documents 
WHERE documents.user_id = $1::UUID ORDER BY documents.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-11 11:51:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00085s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 20, 0)
2025-10-11 11:51:32 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1050s
2025-10-11 11:51:32 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:53:10 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/list
2025-10-11 11:53:10 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: Not authenticated
2025-10-11 11:53:10 - app.core.middleware - INFO - middleware - dispatch - Response: 401 - Processing time: 0.0020s
2025-10-11 11:54:12 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-base/?skip=0&limit=100
2025-10-11 11:54:12 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:54:12 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:54:12 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:54:12 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:54:12 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:54:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:54:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 160.2s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:54:12 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:54:12 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:54:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT knowledge_bases.name, knowledge_bases.description, knowledge_bases.is_public, knowledge_bases.is_searchable, knowledge_bases.meta_data, knowledge_bases.document_count, knowledge_bases.category, knowledge_bases.tags, knowledge_bases.id, knowledge_bases.created_at, knowledge_bases.updated_at, knowledge_bases.is_active, knowledge_bases.created_by, knowledge_bases.updated_by 
FROM knowledge_bases 
WHERE knowledge_bases.is_public = true ORDER BY knowledge_bases.created_at DESC 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-10-11 11:54:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 160.1s ago] (100, 0)
2025-10-11 11:54:12 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0611s
2025-10-11 11:54:12 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:54:14 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-assistant/documents?knowledge_base_id=f9716623-6e0d-4fc1-8032-33dcbd7948b1&skip=0&limit=20
2025-10-11 11:54:14 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:54:14 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:54:14 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:54:14 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:54:14 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:54:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:54:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 162.4s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:54:14 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:54:14 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:54:14 - app.services.lightweight_document_service - INFO - lightweight_document_service - __init__ - Lightweight document service initialized
2025-10-11 11:54:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT documents.filename, documents.original_filename, documents.file_path, documents.file_size, documents.file_hash, documents.mime_type, documents.extracted_content, documents.summary, documents.meta_data, documents.embedding, documents.category, documents.tags, documents.user_id, documents.knowledge_base_id, documents.id, documents.created_at, documents.updated_at, documents.is_active, documents.created_by, documents.updated_by 
FROM documents 
WHERE documents.user_id = $1::UUID AND documents.knowledge_base_id = $2::UUID ORDER BY documents.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:54:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00198s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('f9716623-6e0d-4fc1-8032-33dcbd7948b1'), 20, 0)
2025-10-11 11:54:14 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0597s
2025-10-11 11:54:14 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:54:30 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-base/?skip=0&limit=100
2025-10-11 11:54:30 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:54:30 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:54:30 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:54:30 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:54:30 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:54:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:54:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 178.6s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:54:30 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:54:30 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:54:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT knowledge_bases.name, knowledge_bases.description, knowledge_bases.is_public, knowledge_bases.is_searchable, knowledge_bases.meta_data, knowledge_bases.document_count, knowledge_bases.category, knowledge_bases.tags, knowledge_bases.id, knowledge_bases.created_at, knowledge_bases.updated_at, knowledge_bases.is_active, knowledge_bases.created_by, knowledge_bases.updated_by 
FROM knowledge_bases 
WHERE knowledge_bases.is_public = true ORDER BY knowledge_bases.created_at DESC 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-10-11 11:54:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 178.4s ago] (100, 0)
2025-10-11 11:54:30 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0566s
2025-10-11 11:54:30 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:54:32 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-assistant/documents?knowledge_base_id=f9716623-6e0d-4fc1-8032-33dcbd7948b1&skip=0&limit=20
2025-10-11 11:54:32 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:54:32 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:54:32 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:54:32 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:54:32 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:54:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:54:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 180.3s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:54:32 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:54:32 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:54:32 - app.services.lightweight_document_service - INFO - lightweight_document_service - __init__ - Lightweight document service initialized
2025-10-11 11:54:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT documents.filename, documents.original_filename, documents.file_path, documents.file_size, documents.file_hash, documents.mime_type, documents.extracted_content, documents.summary, documents.meta_data, documents.embedding, documents.category, documents.tags, documents.user_id, documents.knowledge_base_id, documents.id, documents.created_at, documents.updated_at, documents.is_active, documents.created_by, documents.updated_by 
FROM documents 
WHERE documents.user_id = $1::UUID AND documents.knowledge_base_id = $2::UUID ORDER BY documents.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 11:54:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 17.87s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('f9716623-6e0d-4fc1-8032-33dcbd7948b1'), 20, 0)
2025-10-11 11:54:32 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0559s
2025-10-11 11:54:32 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:54:37 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/hr-workflows/custom-workflow
2025-10-11 11:54:37 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 11:54:37 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 11:54:37 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:54:37 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 11:54:37 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 11:54:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 11:54:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 185.1s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 11:54:37 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 11:54:37 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 11:54:37 - app.core.logging - INFO - dify_service - call_workflow_stream - Calling Dify workflow type 4 with query: 请生成一份management试卷
难度等级：中等
考试时长：90分钟
题目类型：单选题、多选题
题目数量：single10道，multiple5道，judge5道，fill3道，short2道，编程...
2025-10-11 11:54:38 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.7194s
2025-10-11 11:54:38 - httpx - INFO - _client - _send_single_request - HTTP Request: POST http://218.78.133.209:85/v1/chat-messages "HTTP/1.1 400 BAD REQUEST"
2025-10-11 11:54:38 - app.core.logging - ERROR - dify_service - call_workflow_stream - Dify API error: 400 - b'{"code": "invalid_param", "message": "exam_1760154877293 is not a valid uuid.", "params": "conversation_id"}\n'
2025-10-11 11:54:38 - app.core.logging - ERROR - dify_service - call_workflow_stream - Unexpected error in Dify workflow call: 
2025-10-11 11:54:38 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 11:54:38 - app.core.exception_handlers - ERROR - exception_handlers - generic_exception_handler - Unhandled Exception: Caught handled exception, but response already started.
Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 20, in __call__
    raise e
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 69, in app
    await response(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\responses.py", line 270, in __call__
    async with anyio.create_task_group() as task_group:
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\anyio\_backends\_asyncio.py", line 597, in __aexit__
    raise exceptions[0]
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\responses.py", line 273, in wrap
    await func()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\responses.py", line 262, in stream_response
    async for chunk in self.body_iterator:
  File "E:\workspace-py\hr-agent\backend\app\api\v1\endpoints\hr_workflows.py", line 298, in generate_stream
    async for chunk in dify_service.call_workflow_stream(
  File "E:\workspace-py\hr-agent\backend\app\services\dify_service.py", line 109, in call_workflow_stream
    raise HTTPException(status_code=500, detail=f"Internal server error: {str(e)}")
fastapi.exceptions.HTTPException

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 109, in __call__
    await response(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\responses.py", line 270, in __call__
    async with anyio.create_task_group() as task_group:
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\anyio\_backends\_asyncio.py", line 597, in __aexit__
    raise exceptions[0]
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\responses.py", line 273, in wrap
    await func()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 134, in stream_response
    return await super().stream_response(send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\responses.py", line 262, in stream_response
    async for chunk in self.body_iterator:
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 98, in body_stream
    raise app_exc
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 109, in __call__
    await response(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\responses.py", line 270, in __call__
    async with anyio.create_task_group() as task_group:
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\anyio\_backends\_asyncio.py", line 597, in __aexit__
    raise exceptions[0]
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\responses.py", line 273, in wrap
    await func()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 134, in stream_response
    return await super().stream_response(send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\responses.py", line 262, in stream_response
    async for chunk in self.body_iterator:
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 98, in body_stream
    raise app_exc
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\exceptions.py", line 83, in __call__
    raise RuntimeError(msg) from exc
RuntimeError: Caught handled exception, but response already started.
2025-10-11 16:28:39 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-11 16:28:39 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 16:28:39 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 16:28:39 - app.api.deps - ERROR - deps - get_current_user - ❌ JWT decode error: Signature has expired.
2025-10-11 16:28:39 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: Could not validate credentials
2025-10-11 16:28:39 - app.core.middleware - INFO - middleware - dispatch - Response: 401 - Processing time: 0.0081s
2025-10-11 16:28:39 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-11 16:28:39 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 16:28:39 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 16:28:39 - app.api.deps - ERROR - deps - get_current_user - ❌ JWT decode error: Signature has expired.
2025-10-11 16:28:39 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: Could not validate credentials
2025-10-11 16:28:39 - app.core.middleware - INFO - middleware - dispatch - Response: 401 - Processing time: 0.0040s
2025-10-11 16:28:41 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/auth/login
2025-10-11 16:28:41 - app.api.v1.endpoints.auth - INFO - auth - login - Login attempt for username: testuser
2025-10-11 16:28:41 - app.api.v1.endpoints.auth - INFO - auth - login - UserService created successfully
2025-10-11 16:28:41 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 16:28:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.username = $1::VARCHAR AND users.is_active = true
2025-10-11 16:28:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00043s] ('testuser',)
2025-10-11 16:28:41 - app.services.user_service - ERROR - user_service - get_user_by_username - Error getting user by username testuser: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: connection is closed
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.username = $1::VARCHAR AND users.is_active = true]
[parameters: ('testuser',)]
(Background on this error at: https://sqlalche.me/e/20/rvf5)
2025-10-11 16:28:41 - app.services.user_service - ERROR - user_service - authenticate - Error authenticating user: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: connection is closed
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.username = $1::VARCHAR AND users.is_active = true]
[parameters: ('testuser',)]
(Background on this error at: https://sqlalche.me/e/20/rvf5)
2025-10-11 16:28:41 - app.api.v1.endpoints.auth - INFO - auth - login - Authentication result: False
2025-10-11 16:28:41 - app.api.v1.endpoints.auth - WARNING - auth - login - Authentication failed for username: testuser
2025-10-11 16:28:41 - app.api.v1.endpoints.auth - ERROR - auth - login - Login error: 
Traceback (most recent call last):
  File "E:\workspace-py\hr-agent\backend\app\api\v1\endpoints\auth.py", line 73, in login
    raise HTTPException(
fastapi.exceptions.HTTPException
2025-10-11 16:28:41 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: Incorrect username or password
2025-10-11 16:28:41 - app.core.middleware - INFO - middleware - dispatch - Response: 401 - Processing time: 0.0181s
2025-10-11 16:28:42 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/auth/login
2025-10-11 16:28:42 - app.api.v1.endpoints.auth - INFO - auth - login - Login attempt for username: testuser
2025-10-11 16:28:42 - app.api.v1.endpoints.auth - INFO - auth - login - UserService created successfully
2025-10-11 16:28:43 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 16:28:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.username = $1::VARCHAR AND users.is_active = true
2025-10-11 16:28:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2.031s ago] ('testuser',)
2025-10-11 16:28:43 - passlib.handlers.bcrypt - WARNING - bcrypt - _load_backend_mixin - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\passlib\handlers\bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-10-11 16:28:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - UPDATE users SET last_login=now(), updated_at=$1::TIMESTAMP WITHOUT TIME ZONE WHERE users.id = $2::UUID
2025-10-11 16:28:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00106s] (datetime.datetime(2025, 10, 11, 8, 28, 43, 625396), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-11 16:28:43 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-11 16:28:43 - app.api.v1.endpoints.auth - INFO - auth - login - Authentication result: True
2025-10-11 16:28:43 - app.api.v1.endpoints.auth - INFO - auth - login - Creating access token for user: testuser
2025-10-11 16:28:43 - app.api.v1.endpoints.auth - INFO - auth - login - Login successful for user: testuser
2025-10-11 16:28:43 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.7164s
2025-10-11 16:28:43 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-11 16:28:43 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 16:28:43 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 16:28:43 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 16:28:43 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 16:28:43 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 16:28:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 16:28:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1.663e+04s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 16:28:43 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 16:28:43 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 16:28:43 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-11 16:28:43 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-11 16:28:43 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-11 16:28:43 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-11 16:28:43 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0717s
2025-10-11 16:28:43 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 16:35:34 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/list
2025-10-11 16:35:34 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 16:35:34 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 16:35:34 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 16:35:34 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 16:35:34 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 16:35:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 16:35:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1.704e+04s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 16:35:53 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-base/?skip=0&limit=100
2025-10-11 16:35:53 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 16:35:53 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 16:35:53 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 16:35:53 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 16:35:53 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 16:35:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 16:35:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1.706e+04s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 16:35:53 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 16:35:53 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 16:35:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT knowledge_bases.name, knowledge_bases.description, knowledge_bases.is_public, knowledge_bases.is_searchable, knowledge_bases.meta_data, knowledge_bases.document_count, knowledge_bases.category, knowledge_bases.tags, knowledge_bases.id, knowledge_bases.created_at, knowledge_bases.updated_at, knowledge_bases.is_active, knowledge_bases.created_by, knowledge_bases.updated_by 
FROM knowledge_bases 
WHERE knowledge_bases.is_public = true ORDER BY knowledge_bases.created_at DESC 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-10-11 16:35:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1.706e+04s ago] (100, 0)
2025-10-11 16:35:53 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.3207s
2025-10-11 16:35:53 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 16:35:54 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-assistant/documents?knowledge_base_id=f9716623-6e0d-4fc1-8032-33dcbd7948b1&skip=0&limit=20
2025-10-11 16:35:54 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 16:35:54 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 16:35:54 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 16:35:54 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 16:35:54 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 16:35:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 16:35:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1.706e+04s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 16:35:54 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 16:35:54 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 16:35:54 - app.services.lightweight_document_service - INFO - lightweight_document_service - __init__ - Lightweight document service initialized
2025-10-11 16:35:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT documents.filename, documents.original_filename, documents.file_path, documents.file_size, documents.file_hash, documents.mime_type, documents.extracted_content, documents.summary, documents.meta_data, documents.embedding, documents.category, documents.tags, documents.user_id, documents.knowledge_base_id, documents.id, documents.created_at, documents.updated_at, documents.is_active, documents.created_by, documents.updated_by 
FROM documents 
WHERE documents.user_id = $1::UUID AND documents.knowledge_base_id = $2::UUID ORDER BY documents.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 16:35:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1.69e+04s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('f9716623-6e0d-4fc1-8032-33dcbd7948b1'), 20, 0)
2025-10-11 16:35:54 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1055s
2025-10-11 16:35:54 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 16:35:56 - app.services.user_service - ERROR - user_service - get_user - Error getting user 663c3a32-596c-4fec-955e-6eace86eb281: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-11 16:35:56 - app.api.deps - ERROR - deps - get_current_user - ❌ Error in get_current_user: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-11 16:35:56 - app.core.exception_handlers - ERROR - exception_handlers - sqlalchemy_exception_handler - Database Error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\asyncio\selector_events.py", line 862, in _read_ready__data_received
    data = self._sock.recv(self.max_size)
ConnectionResetError: [WinError 10054] 远程主机强迫关闭了一个现有的连接。

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 859, in _start_transaction
    await self._transaction.start()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\asyncpg\transaction.py", line 146, in start
    await self._connection.execute(query)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\asyncpg\connection.py", line 350, in execute
    result = await self._protocol.query(query, timeout)
  File "asyncpg\protocol\protocol.pyx", line 374, in query
asyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 527, in _prepare_and_execute
    await adapt_connection._start_transaction()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 861, in _start_transaction
    self._handle_exception(error)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.Error: <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 20, in __call__
    raise e
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 66, in app
    response = await func(request)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\routing.py", line 264, in app
    solved_result = await solve_dependencies(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\dependencies\utils.py", line 592, in solve_dependencies
    solved = await call(**sub_values)
  File "E:\workspace-py\hr-agent\backend\app\api\deps.py", line 56, in get_current_user
    user = await user_service.get_user(user_uuid)
  File "E:\workspace-py\hr-agent\backend\app\services\user_service.py", line 112, in get_user
    result = await self.db.execute(query)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 455, in execute
    result = await greenlet_spawn(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 190, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\orm\session.py", line 2308, in execute
    return self._execute_internal(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\orm\session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 527, in _prepare_and_execute
    await adapt_connection._start_transaction()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 861, in _start_transaction
    self._handle_exception(error)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.DBAPIError: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-11 16:35:56 - app.core.middleware - INFO - middleware - dispatch - Response: 500 - Processing time: 21.6243s
2025-10-11 16:35:56 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-base/?skip=0&limit=100
2025-10-11 16:35:56 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 16:35:56 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 16:35:56 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 16:35:56 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 16:35:56 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 16:35:56 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 16:35:56 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1.707e+04s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 16:35:56 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 16:35:56 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 16:35:56 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT knowledge_bases.name, knowledge_bases.description, knowledge_bases.is_public, knowledge_bases.is_searchable, knowledge_bases.meta_data, knowledge_bases.document_count, knowledge_bases.category, knowledge_bases.tags, knowledge_bases.id, knowledge_bases.created_at, knowledge_bases.updated_at, knowledge_bases.is_active, knowledge_bases.created_by, knowledge_bases.updated_by 
FROM knowledge_bases 
WHERE knowledge_bases.is_public = true ORDER BY knowledge_bases.created_at DESC 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-10-11 16:35:56 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1.707e+04s ago] (100, 0)
2025-10-11 16:35:56 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.3178s
2025-10-11 16:35:56 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 16:35:56 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-assistant/documents
2025-10-11 16:35:56 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 16:35:56 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 16:35:56 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 16:35:56 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 16:35:56 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 16:35:56 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 16:35:56 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1.707e+04s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 16:35:56 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 16:35:56 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 16:35:56 - app.services.lightweight_document_service - INFO - lightweight_document_service - __init__ - Lightweight document service initialized
2025-10-11 16:35:56 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT documents.filename, documents.original_filename, documents.file_path, documents.file_size, documents.file_hash, documents.mime_type, documents.extracted_content, documents.summary, documents.meta_data, documents.embedding, documents.category, documents.tags, documents.user_id, documents.knowledge_base_id, documents.id, documents.created_at, documents.updated_at, documents.is_active, documents.created_by, documents.updated_by 
FROM documents 
WHERE documents.user_id = $1::UUID ORDER BY documents.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-11 16:35:56 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1.707e+04s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 20, 0)
2025-10-11 16:35:56 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.3570s
2025-10-11 16:35:56 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 16:41:38 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-11 16:41:38 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 16:41:38 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 16:41:38 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 16:41:38 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 16:41:38 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 16:41:38 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 16:41:38 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1.741e+04s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 16:41:38 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-11 16:41:38 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 16:41:38 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 16:41:38 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 16:41:38 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 16:41:38 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 16:41:38 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 16:41:38 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1.741e+04s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 16:41:57 - app.services.user_service - ERROR - user_service - get_user - Error getting user 663c3a32-596c-4fec-955e-6eace86eb281: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-11 16:41:57 - app.api.deps - ERROR - deps - get_current_user - ❌ Error in get_current_user: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-11 16:41:57 - app.core.exception_handlers - ERROR - exception_handlers - sqlalchemy_exception_handler - Database Error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\asyncio\selector_events.py", line 862, in _read_ready__data_received
    data = self._sock.recv(self.max_size)
ConnectionResetError: [WinError 10054] 远程主机强迫关闭了一个现有的连接。

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 859, in _start_transaction
    await self._transaction.start()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\asyncpg\transaction.py", line 146, in start
    await self._connection.execute(query)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\asyncpg\connection.py", line 350, in execute
    result = await self._protocol.query(query, timeout)
  File "asyncpg\protocol\protocol.pyx", line 374, in query
asyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 527, in _prepare_and_execute
    await adapt_connection._start_transaction()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 861, in _start_transaction
    self._handle_exception(error)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.Error: <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 20, in __call__
    raise e
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 66, in app
    response = await func(request)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\routing.py", line 264, in app
    solved_result = await solve_dependencies(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\dependencies\utils.py", line 592, in solve_dependencies
    solved = await call(**sub_values)
  File "E:\workspace-py\hr-agent\backend\app\api\deps.py", line 56, in get_current_user
    user = await user_service.get_user(user_uuid)
  File "E:\workspace-py\hr-agent\backend\app\services\user_service.py", line 112, in get_user
    result = await self.db.execute(query)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 455, in execute
    result = await greenlet_spawn(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 190, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\orm\session.py", line 2308, in execute
    return self._execute_internal(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\orm\session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 527, in _prepare_and_execute
    await adapt_connection._start_transaction()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 861, in _start_transaction
    self._handle_exception(error)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.DBAPIError: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-11 16:41:57 - app.core.middleware - INFO - middleware - dispatch - Response: 500 - Processing time: 19.1941s
2025-10-11 16:41:57 - app.services.user_service - ERROR - user_service - get_user - Error getting user 663c3a32-596c-4fec-955e-6eace86eb281: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-11 16:41:57 - app.api.deps - ERROR - deps - get_current_user - ❌ Error in get_current_user: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-11 16:41:57 - app.core.exception_handlers - ERROR - exception_handlers - sqlalchemy_exception_handler - Database Error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\asyncio\selector_events.py", line 862, in _read_ready__data_received
    data = self._sock.recv(self.max_size)
ConnectionResetError: [WinError 10054] 远程主机强迫关闭了一个现有的连接。

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 859, in _start_transaction
    await self._transaction.start()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\asyncpg\transaction.py", line 146, in start
    await self._connection.execute(query)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\asyncpg\connection.py", line 350, in execute
    result = await self._protocol.query(query, timeout)
  File "asyncpg\protocol\protocol.pyx", line 374, in query
asyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 527, in _prepare_and_execute
    await adapt_connection._start_transaction()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 861, in _start_transaction
    self._handle_exception(error)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.Error: <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 20, in __call__
    raise e
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 66, in app
    response = await func(request)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\routing.py", line 264, in app
    solved_result = await solve_dependencies(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\dependencies\utils.py", line 592, in solve_dependencies
    solved = await call(**sub_values)
  File "E:\workspace-py\hr-agent\backend\app\api\deps.py", line 56, in get_current_user
    user = await user_service.get_user(user_uuid)
  File "E:\workspace-py\hr-agent\backend\app\services\user_service.py", line 112, in get_user
    result = await self.db.execute(query)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 455, in execute
    result = await greenlet_spawn(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 190, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\orm\session.py", line 2308, in execute
    return self._execute_internal(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\orm\session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 527, in _prepare_and_execute
    await adapt_connection._start_transaction()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 861, in _start_transaction
    self._handle_exception(error)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.DBAPIError: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-11 16:41:57 - app.core.middleware - INFO - middleware - dispatch - Response: 500 - Processing time: 19.2147s
2025-10-11 17:09:52 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-11 17:09:52 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-11 17:09:52 - main - INFO - main - lifespan - Database connections closed
2025-10-11 17:09:52 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-11 17:09:57 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-11 17:09:57 - main - INFO - main - lifespan - Logging configured
2025-10-11 17:09:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-11 17:09:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-11 17:09:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-11 17:09:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-11 17:09:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-11 17:09:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-11 17:09:57 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 17:09:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-11 17:09:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00038s] ()
2025-10-11 17:09:57 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-11 17:09:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 17:09:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00043s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 17:09:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 17:09:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02562s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 17:09:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 17:09:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03894s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 17:09:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 17:09:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05342s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 17:09:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 17:09:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06792s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 17:09:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 17:09:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08155s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 17:09:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 17:09:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09592s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 17:09:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 17:09:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1091s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 17:09:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 17:09:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.122s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 17:09:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 17:09:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.134s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 17:09:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 17:09:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1496s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 17:09:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 17:09:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00051s] ('userrole', 'pg_catalog')
2025-10-11 17:09:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 17:09:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0261s ago] ('conversationstatus', 'pg_catalog')
2025-10-11 17:09:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 17:09:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04018s ago] ('messagerole', 'pg_catalog')
2025-10-11 17:09:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 17:09:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05287s ago] ('jdstatus', 'pg_catalog')
2025-10-11 17:09:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 17:09:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06461s ago] ('scoringstatus', 'pg_catalog')
2025-10-11 17:09:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 17:09:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07743s ago] ('resumestatus', 'pg_catalog')
2025-10-11 17:09:57 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-11 17:09:57 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-11 17:09:57 - main - INFO - main - lifespan - Database initialized successfully
2025-10-11 17:09:57 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-11 17:10:12 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-11 17:10:12 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-11 17:10:12 - main - INFO - main - lifespan - Database connections closed
2025-10-11 17:10:12 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-11 17:10:16 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-11 17:10:16 - main - INFO - main - lifespan - Logging configured
2025-10-11 17:10:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-11 17:10:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-11 17:10:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-11 17:10:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-11 17:10:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-11 17:10:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-11 17:10:17 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 17:10:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-11 17:10:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00048s] ()
2025-10-11 17:10:17 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-11 17:10:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 17:10:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00075s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 17:10:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 17:10:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03892s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 17:10:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 17:10:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06075s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 17:10:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 17:10:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08185s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 17:10:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 17:10:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1024s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 17:10:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 17:10:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1232s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 17:10:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 17:10:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1433s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 17:10:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 17:10:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1625s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 17:10:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 17:10:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1805s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 17:10:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 17:10:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.197s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 17:10:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 17:10:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.2125s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 17:10:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 17:10:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00063s] ('userrole', 'pg_catalog')
2025-10-11 17:10:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 17:10:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02889s ago] ('conversationstatus', 'pg_catalog')
2025-10-11 17:10:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 17:10:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04342s ago] ('messagerole', 'pg_catalog')
2025-10-11 17:10:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 17:10:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05789s ago] ('jdstatus', 'pg_catalog')
2025-10-11 17:10:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 17:10:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07259s ago] ('scoringstatus', 'pg_catalog')
2025-10-11 17:10:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 17:10:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08787s ago] ('resumestatus', 'pg_catalog')
2025-10-11 17:10:17 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-11 17:10:17 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-11 17:10:17 - main - INFO - main - lifespan - Database initialized successfully
2025-10-11 17:10:17 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-11 17:10:39 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/list
2025-10-11 17:10:39 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: Not authenticated
2025-10-11 17:10:39 - app.core.middleware - INFO - middleware - dispatch - Response: 401 - Processing time: 0.0050s
2025-10-11 17:10:39 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-base/?skip=0&limit=100
2025-10-11 17:10:39 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: Not authenticated
2025-10-11 17:10:39 - app.core.middleware - INFO - middleware - dispatch - Response: 401 - Processing time: 0.0064s
2025-10-11 17:10:39 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/list
2025-10-11 17:10:39 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: Not authenticated
2025-10-11 17:10:39 - app.core.middleware - INFO - middleware - dispatch - Response: 401 - Processing time: 0.0066s
2025-10-11 17:10:39 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-assistant/documents
2025-10-11 17:10:39 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: Not authenticated
2025-10-11 17:10:39 - app.core.middleware - INFO - middleware - dispatch - Response: 401 - Processing time: 0.0065s
2025-10-11 17:10:39 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-base/?skip=0&limit=100
2025-10-11 17:10:39 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: Not authenticated
2025-10-11 17:10:39 - app.core.middleware - INFO - middleware - dispatch - Response: 401 - Processing time: 0.0030s
2025-10-11 17:10:39 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-assistant/documents
2025-10-11 17:10:39 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: Not authenticated
2025-10-11 17:10:39 - app.core.middleware - INFO - middleware - dispatch - Response: 401 - Processing time: 0.0030s
2025-10-11 17:11:39 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/list
2025-10-11 17:11:39 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: Not authenticated
2025-10-11 17:11:39 - app.core.middleware - INFO - middleware - dispatch - Response: 401 - Processing time: 0.0033s
2025-10-11 17:11:39 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-base/?skip=0&limit=100
2025-10-11 17:11:39 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: Not authenticated
2025-10-11 17:11:39 - app.core.middleware - INFO - middleware - dispatch - Response: 401 - Processing time: 0.0043s
2025-10-11 17:11:39 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-assistant/documents
2025-10-11 17:11:39 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: Not authenticated
2025-10-11 17:11:39 - app.core.middleware - INFO - middleware - dispatch - Response: 401 - Processing time: 0.0024s
2025-10-11 17:11:55 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/list
2025-10-11 17:11:55 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: Not authenticated
2025-10-11 17:11:55 - app.core.middleware - INFO - middleware - dispatch - Response: 401 - Processing time: 0.0043s
2025-10-11 17:11:55 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-base/?skip=0&limit=100
2025-10-11 17:11:55 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: Not authenticated
2025-10-11 17:11:55 - app.core.middleware - INFO - middleware - dispatch - Response: 401 - Processing time: 0.0020s
2025-10-11 17:11:55 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-assistant/documents
2025-10-11 17:11:55 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: Not authenticated
2025-10-11 17:11:55 - app.core.middleware - INFO - middleware - dispatch - Response: 401 - Processing time: 0.0030s
2025-10-11 17:16:23 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-base/?skip=0&limit=100
2025-10-11 17:16:23 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: Not authenticated
2025-10-11 17:16:23 - app.core.middleware - INFO - middleware - dispatch - Response: 401 - Processing time: 0.0046s
2025-10-11 17:16:30 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/auth/login
2025-10-11 17:16:30 - app.api.v1.endpoints.auth - INFO - auth - login - Login attempt for username: testuser
2025-10-11 17:16:30 - app.api.v1.endpoints.auth - INFO - auth - login - UserService created successfully
2025-10-11 17:16:30 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 17:16:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.username = $1::VARCHAR AND users.is_active = true
2025-10-11 17:16:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00279s] ('testuser',)
2025-10-11 17:16:50 - app.services.user_service - ERROR - user_service - get_user_by_username - Error getting user by username testuser: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.username = $1::VARCHAR AND users.is_active = true]
[parameters: ('testuser',)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-11 17:16:50 - app.services.user_service - ERROR - user_service - authenticate - Error authenticating user: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.username = $1::VARCHAR AND users.is_active = true]
[parameters: ('testuser',)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-11 17:16:50 - app.api.v1.endpoints.auth - INFO - auth - login - Authentication result: False
2025-10-11 17:16:50 - app.api.v1.endpoints.auth - WARNING - auth - login - Authentication failed for username: testuser
2025-10-11 17:16:50 - app.api.v1.endpoints.auth - ERROR - auth - login - Login error: 
Traceback (most recent call last):
  File "E:\workspace-py\hr-agent\backend\app\api\v1\endpoints\auth.py", line 73, in login
    raise HTTPException(
fastapi.exceptions.HTTPException
2025-10-11 17:16:50 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: Incorrect username or password
2025-10-11 17:16:50 - app.core.middleware - INFO - middleware - dispatch - Response: 401 - Processing time: 19.2757s
2025-10-11 17:29:48 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/auth/login
2025-10-11 17:29:48 - app.api.v1.endpoints.auth - INFO - auth - login - Login attempt for username: testuser
2025-10-11 17:29:48 - app.api.v1.endpoints.auth - INFO - auth - login - UserService created successfully
2025-10-11 17:29:48 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 17:29:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.username = $1::VARCHAR AND users.is_active = true
2025-10-11 17:29:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 797.8s ago] ('testuser',)
2025-10-11 17:29:48 - passlib.handlers.bcrypt - WARNING - bcrypt - _load_backend_mixin - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\passlib\handlers\bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-10-11 17:29:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - UPDATE users SET last_login=now(), updated_at=$1::TIMESTAMP WITHOUT TIME ZONE WHERE users.id = $2::UUID
2025-10-11 17:29:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00113s] (datetime.datetime(2025, 10, 11, 9, 29, 49, 139638), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-11 17:29:49 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-11 17:29:49 - app.api.v1.endpoints.auth - INFO - auth - login - Authentication result: True
2025-10-11 17:29:49 - app.api.v1.endpoints.auth - INFO - auth - login - Creating access token for user: testuser
2025-10-11 17:29:49 - app.api.v1.endpoints.auth - INFO - auth - login - Login successful for user: testuser
2025-10-11 17:29:49 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.6206s
2025-10-11 17:29:49 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-11 17:29:49 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 17:29:49 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 17:29:49 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 17:29:49 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 17:29:49 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 17:29:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 17:29:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00072s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 17:29:49 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 17:29:49 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 17:29:49 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-11 17:29:49 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-11 17:29:49 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-11 17:29:49 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-11 17:29:49 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0572s
2025-10-11 17:29:49 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 17:30:00 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/list
2025-10-11 17:30:00 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 17:30:00 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 17:30:00 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 17:30:00 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 17:30:00 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 17:30:00 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 17:30:00 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 11.48s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 17:30:00 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 17:30:00 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 17:30:00 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0320s
2025-10-11 17:30:00 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 17:30:00 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-base/?skip=0&limit=100
2025-10-11 17:30:00 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 17:30:00 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 17:30:00 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 17:30:00 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 17:30:00 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 17:30:00 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 17:30:00 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 11.52s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 17:30:00 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 17:30:00 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 17:30:00 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT knowledge_bases.name, knowledge_bases.description, knowledge_bases.is_public, knowledge_bases.is_searchable, knowledge_bases.meta_data, knowledge_bases.document_count, knowledge_bases.category, knowledge_bases.tags, knowledge_bases.id, knowledge_bases.created_at, knowledge_bases.updated_at, knowledge_bases.is_active, knowledge_bases.created_by, knowledge_bases.updated_by 
FROM knowledge_bases 
WHERE knowledge_bases.is_public = true ORDER BY knowledge_bases.created_at DESC 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-10-11 17:30:00 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00086s] (100, 0)
2025-10-11 17:30:00 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0543s
2025-10-11 17:30:00 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 17:30:00 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-assistant/documents
2025-10-11 17:30:00 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 17:30:00 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 17:30:00 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 17:30:00 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 17:30:00 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 17:30:00 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 17:30:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 11.77s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 17:30:01 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 17:30:01 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 17:30:01 - app.services.lightweight_document_service - INFO - lightweight_document_service - __init__ - Lightweight document service initialized
2025-10-11 17:30:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT documents.filename, documents.original_filename, documents.file_path, documents.file_size, documents.file_hash, documents.mime_type, documents.extracted_content, documents.summary, documents.meta_data, documents.embedding, documents.category, documents.tags, documents.user_id, documents.knowledge_base_id, documents.id, documents.created_at, documents.updated_at, documents.is_active, documents.created_by, documents.updated_by 
FROM documents 
WHERE documents.user_id = $1::UUID ORDER BY documents.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-11 17:30:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00046s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 20, 0)
2025-10-11 17:30:01 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.4231s
2025-10-11 17:30:01 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 17:30:16 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-base/?skip=0&limit=100
2025-10-11 17:30:16 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 17:30:16 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 17:30:16 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 17:30:16 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 17:30:16 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 17:30:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 17:30:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 27.02s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 17:30:16 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 17:30:16 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 17:30:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT knowledge_bases.name, knowledge_bases.description, knowledge_bases.is_public, knowledge_bases.is_searchable, knowledge_bases.meta_data, knowledge_bases.document_count, knowledge_bases.category, knowledge_bases.tags, knowledge_bases.id, knowledge_bases.created_at, knowledge_bases.updated_at, knowledge_bases.is_active, knowledge_bases.created_by, knowledge_bases.updated_by 
FROM knowledge_bases 
WHERE knowledge_bases.is_public = true ORDER BY knowledge_bases.created_at DESC 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-10-11 17:30:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 15.5s ago] (100, 0)
2025-10-11 17:30:16 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0374s
2025-10-11 17:30:16 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 17:30:18 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-assistant/documents?knowledge_base_id=f9716623-6e0d-4fc1-8032-33dcbd7948b1&skip=0&limit=20
2025-10-11 17:30:18 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 17:30:18 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 17:30:18 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 17:30:18 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 17:30:18 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 17:30:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 17:30:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 28.87s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 17:30:18 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 17:30:18 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 17:30:18 - app.services.lightweight_document_service - INFO - lightweight_document_service - __init__ - Lightweight document service initialized
2025-10-11 17:30:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT documents.filename, documents.original_filename, documents.file_path, documents.file_size, documents.file_hash, documents.mime_type, documents.extracted_content, documents.summary, documents.meta_data, documents.embedding, documents.category, documents.tags, documents.user_id, documents.knowledge_base_id, documents.id, documents.created_at, documents.updated_at, documents.is_active, documents.created_by, documents.updated_by 
FROM documents 
WHERE documents.user_id = $1::UUID AND documents.knowledge_base_id = $2::UUID ORDER BY documents.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 17:30:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00085s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('f9716623-6e0d-4fc1-8032-33dcbd7948b1'), 20, 0)
2025-10-11 17:30:18 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1223s
2025-10-11 17:30:18 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 17:30:22 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/hr-workflows/exam/generate
2025-10-11 17:30:22 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 17:30:22 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 17:30:22 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 17:30:22 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 17:30:22 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 17:30:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 17:30:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 33.22s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 17:30:22 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 17:30:22 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 17:30:22 - app.services.llm_service - INFO - llm_service - __init__ - Settings EMBEDDING_API_KEY: ***
2025-10-11 17:30:22 - app.services.llm_service - INFO - llm_service - __init__ - Settings EMBEDDING_BASE_URL: https://open.bigmodel.cn/api/paas/v4
2025-10-11 17:30:22 - app.services.llm_service - INFO - llm_service - __init__ - Settings EMBEDDING_MODEL: embedding-3
2025-10-11 17:30:22 - app.services.llm_service - INFO - llm_service - __init__ - Embedding config - API Key: ***
2025-10-11 17:30:22 - app.services.llm_service - INFO - llm_service - __init__ - Embedding config - Base URL: https://open.bigmodel.cn/api/paas/v4
2025-10-11 17:30:22 - app.services.llm_service - INFO - llm_service - __init__ - Embedding config - Model: embedding-3
2025-10-11 17:30:23 - app.services.compatible_embeddings - INFO - compatible_embeddings - __init__ - ZhipuOpenAI Embeddings initialized with model: embedding-3
2025-10-11 17:30:23 - app.services.embedding_service - INFO - embedding_service - _initialize - EmbeddingService initialized successfully with OpenAI embeddings
2025-10-11 17:30:23 - app.services.enhanced_document_service - INFO - enhanced_document_service - __init__ - Enhanced document service initialized with shared embedding service
2025-10-11 17:30:23 - app.core.logging - WARNING - hr_workflows - generate_exam - Failed to read document 610c9fe3-e738-4e44-a2d0-21fb130aecb0: 'EnhancedDocumentService' object has no attribute 'get_document_by_id'
2025-10-11 17:30:23 - app.core.logging - INFO - dify_service - call_workflow_stream - Calling Dify workflow type 5 with query: 请基于以下文档内容生成一份management试卷
试卷标题：法规
难度等级：中等
考试时长：90分钟
题目类型：单选题、多选题
题目数量：single：10题, multiple：5题, judge...
2025-10-11 17:30:24 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 1.6003s
2025-10-11 17:30:24 - httpx - INFO - _client - _send_single_request - HTTP Request: POST http://218.78.133.209:85/v1/chat-messages "HTTP/1.1 400 BAD REQUEST"
2025-10-11 17:30:24 - app.core.logging - ERROR - dify_service - call_workflow_stream - Dify API error: 400 - b'{"code": "invalid_param", "message": "exam_1760175022433 is not a valid uuid.", "params": "conversation_id"}\n'
2025-10-11 17:30:24 - app.core.logging - ERROR - dify_service - call_workflow_stream - Unexpected error in Dify workflow call: 
2025-10-11 17:30:24 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 17:30:24 - app.core.exception_handlers - ERROR - exception_handlers - generic_exception_handler - Unhandled Exception: Caught handled exception, but response already started.
Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 20, in __call__
    raise e
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 69, in app
    await response(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\responses.py", line 270, in __call__
    async with anyio.create_task_group() as task_group:
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\anyio\_backends\_asyncio.py", line 597, in __aexit__
    raise exceptions[0]
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\responses.py", line 273, in wrap
    await func()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\responses.py", line 262, in stream_response
    async for chunk in self.body_iterator:
  File "E:\workspace-py\hr-agent\backend\app\api\v1\endpoints\hr_workflows.py", line 1141, in generate_stream
    async for chunk in dify_service.call_workflow_stream(
  File "E:\workspace-py\hr-agent\backend\app\services\dify_service.py", line 109, in call_workflow_stream
    raise HTTPException(status_code=500, detail=f"Internal server error: {str(e)}")
fastapi.exceptions.HTTPException

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 109, in __call__
    await response(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\responses.py", line 270, in __call__
    async with anyio.create_task_group() as task_group:
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\anyio\_backends\_asyncio.py", line 597, in __aexit__
    raise exceptions[0]
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\responses.py", line 273, in wrap
    await func()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 134, in stream_response
    return await super().stream_response(send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\responses.py", line 262, in stream_response
    async for chunk in self.body_iterator:
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 98, in body_stream
    raise app_exc
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 109, in __call__
    await response(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\responses.py", line 270, in __call__
    async with anyio.create_task_group() as task_group:
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\anyio\_backends\_asyncio.py", line 597, in __aexit__
    raise exceptions[0]
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\responses.py", line 273, in wrap
    await func()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 134, in stream_response
    return await super().stream_response(send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\responses.py", line 262, in stream_response
    async for chunk in self.body_iterator:
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 98, in body_stream
    raise app_exc
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\exceptions.py", line 83, in __call__
    raise RuntimeError(msg) from exc
RuntimeError: Caught handled exception, but response already started.
2025-10-11 17:30:55 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/hr-workflows/exam/generate
2025-10-11 17:30:55 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: Not authenticated
2025-10-11 17:30:55 - app.core.middleware - INFO - middleware - dispatch - Response: 401 - Processing time: 0.0040s
2025-10-11 17:32:24 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-11 17:32:24 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 17:32:24 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 17:32:24 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 17:32:24 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 17:32:24 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 17:32:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 17:32:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 155.6s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 17:32:24 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-11 17:32:24 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 17:32:24 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 17:32:24 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 17:32:24 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 17:32:24 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 17:32:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 17:32:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 155.7s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 17:32:24 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 17:32:24 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 17:32:24 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-11 17:32:24 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-11 17:32:24 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-11 17:32:24 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-11 17:32:24 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0394s
2025-10-11 17:32:24 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 17:32:24 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 17:32:24 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 17:32:24 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-11 17:32:24 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-11 17:32:24 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-11 17:32:24 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-11 17:32:24 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0428s
2025-10-11 17:32:24 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 17:32:25 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/list
2025-10-11 17:32:25 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 17:32:25 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 17:32:25 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 17:32:25 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 17:32:25 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 17:32:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 17:32:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 155.8s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 17:32:25 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 17:32:25 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 17:32:25 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0411s
2025-10-11 17:32:25 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 17:32:25 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-base/?skip=0&limit=100
2025-10-11 17:32:25 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 17:32:25 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 17:32:25 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 17:32:25 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 17:32:25 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 17:32:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 17:32:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 155.9s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 17:32:25 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 17:32:25 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 17:32:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT knowledge_bases.name, knowledge_bases.description, knowledge_bases.is_public, knowledge_bases.is_searchable, knowledge_bases.meta_data, knowledge_bases.document_count, knowledge_bases.category, knowledge_bases.tags, knowledge_bases.id, knowledge_bases.created_at, knowledge_bases.updated_at, knowledge_bases.is_active, knowledge_bases.created_by, knowledge_bases.updated_by 
FROM knowledge_bases 
WHERE knowledge_bases.is_public = true ORDER BY knowledge_bases.created_at DESC 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-10-11 17:32:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 144.3s ago] (100, 0)
2025-10-11 17:32:25 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0473s
2025-10-11 17:32:25 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 17:32:25 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-assistant/documents
2025-10-11 17:32:25 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 17:32:25 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 17:32:25 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 17:32:25 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 17:32:25 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 17:32:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 17:32:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 155.9s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 17:32:25 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 17:32:25 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 17:32:25 - app.services.lightweight_document_service - INFO - lightweight_document_service - __init__ - Lightweight document service initialized
2025-10-11 17:32:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT documents.filename, documents.original_filename, documents.file_path, documents.file_size, documents.file_hash, documents.mime_type, documents.extracted_content, documents.summary, documents.meta_data, documents.embedding, documents.category, documents.tags, documents.user_id, documents.knowledge_base_id, documents.id, documents.created_at, documents.updated_at, documents.is_active, documents.created_by, documents.updated_by 
FROM documents 
WHERE documents.user_id = $1::UUID ORDER BY documents.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-11 17:32:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 144s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 20, 0)
2025-10-11 17:32:25 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0534s
2025-10-11 17:32:25 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 17:32:45 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-base/?skip=0&limit=100
2025-10-11 17:32:45 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 17:32:45 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 17:32:45 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 17:32:45 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 17:32:45 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 17:32:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 17:32:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 176.6s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 17:32:45 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 17:32:45 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 17:32:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT knowledge_bases.name, knowledge_bases.description, knowledge_bases.is_public, knowledge_bases.is_searchable, knowledge_bases.meta_data, knowledge_bases.document_count, knowledge_bases.category, knowledge_bases.tags, knowledge_bases.id, knowledge_bases.created_at, knowledge_bases.updated_at, knowledge_bases.is_active, knowledge_bases.created_by, knowledge_bases.updated_by 
FROM knowledge_bases 
WHERE knowledge_bases.is_public = true ORDER BY knowledge_bases.created_at DESC 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-10-11 17:32:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 165.1s ago] (100, 0)
2025-10-11 17:32:45 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0534s
2025-10-11 17:32:45 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 17:32:47 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-assistant/documents?knowledge_base_id=f9716623-6e0d-4fc1-8032-33dcbd7948b1&skip=0&limit=20
2025-10-11 17:32:47 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 17:32:47 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 17:32:47 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 17:32:47 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 17:32:47 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 17:32:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 17:32:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 178.4s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 17:32:47 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 17:32:47 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 17:32:47 - app.services.lightweight_document_service - INFO - lightweight_document_service - __init__ - Lightweight document service initialized
2025-10-11 17:32:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT documents.filename, documents.original_filename, documents.file_path, documents.file_size, documents.file_hash, documents.mime_type, documents.extracted_content, documents.summary, documents.meta_data, documents.embedding, documents.category, documents.tags, documents.user_id, documents.knowledge_base_id, documents.id, documents.created_at, documents.updated_at, documents.is_active, documents.created_by, documents.updated_by 
FROM documents 
WHERE documents.user_id = $1::UUID AND documents.knowledge_base_id = $2::UUID ORDER BY documents.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 17:32:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 149.5s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('f9716623-6e0d-4fc1-8032-33dcbd7948b1'), 20, 0)
2025-10-11 17:32:47 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0576s
2025-10-11 17:32:47 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 17:32:50 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/hr-workflows/exam/generate
2025-10-11 17:32:50 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 17:32:50 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 17:32:50 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 17:32:50 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 17:32:50 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 17:32:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 17:32:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 181.7s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 17:32:50 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 17:32:50 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 17:32:51 - app.services.llm_service - INFO - llm_service - __init__ - Settings EMBEDDING_API_KEY: ***
2025-10-11 17:32:51 - app.services.llm_service - INFO - llm_service - __init__ - Settings EMBEDDING_BASE_URL: https://open.bigmodel.cn/api/paas/v4
2025-10-11 17:32:51 - app.services.llm_service - INFO - llm_service - __init__ - Settings EMBEDDING_MODEL: embedding-3
2025-10-11 17:32:51 - app.services.llm_service - INFO - llm_service - __init__ - Embedding config - API Key: ***
2025-10-11 17:32:51 - app.services.llm_service - INFO - llm_service - __init__ - Embedding config - Base URL: https://open.bigmodel.cn/api/paas/v4
2025-10-11 17:32:51 - app.services.llm_service - INFO - llm_service - __init__ - Embedding config - Model: embedding-3
2025-10-11 17:32:51 - app.services.enhanced_document_service - INFO - enhanced_document_service - __init__ - Enhanced document service initialized with shared embedding service
2025-10-11 17:32:51 - app.core.logging - WARNING - hr_workflows - generate_exam - Failed to read document 610c9fe3-e738-4e44-a2d0-21fb130aecb0: 'EnhancedDocumentService' object has no attribute 'get_document_by_id'
2025-10-11 17:32:51 - app.core.logging - INFO - dify_service - call_workflow_stream - Calling Dify workflow type 5 with query: 请基于以下文档内容生成一份management试卷
试卷标题：法规
难度等级：中等
考试时长：90分钟
题目类型：单选题、多选题
题目数量：single：10题, multiple：5题, judge...
2025-10-11 17:32:52 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 1.2272s
2025-10-11 17:32:52 - httpx - INFO - _client - _send_single_request - HTTP Request: POST http://218.78.133.209:85/v1/chat-messages "HTTP/1.1 400 BAD REQUEST"
2025-10-11 17:32:52 - app.core.logging - ERROR - dify_service - call_workflow_stream - Dify API error: 400 - b'{"code": "invalid_param", "message": "exam_1760175170903 is not a valid uuid.", "params": "conversation_id"}\n'
2025-10-11 17:32:52 - app.core.logging - ERROR - dify_service - call_workflow_stream - Unexpected error in Dify workflow call: 
2025-10-11 17:32:52 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 17:32:52 - app.core.exception_handlers - ERROR - exception_handlers - generic_exception_handler - Unhandled Exception: Caught handled exception, but response already started.
Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 20, in __call__
    raise e
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 69, in app
    await response(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\responses.py", line 270, in __call__
    async with anyio.create_task_group() as task_group:
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\anyio\_backends\_asyncio.py", line 597, in __aexit__
    raise exceptions[0]
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\responses.py", line 273, in wrap
    await func()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\responses.py", line 262, in stream_response
    async for chunk in self.body_iterator:
  File "E:\workspace-py\hr-agent\backend\app\api\v1\endpoints\hr_workflows.py", line 1141, in generate_stream
    async for chunk in dify_service.call_workflow_stream(
  File "E:\workspace-py\hr-agent\backend\app\services\dify_service.py", line 109, in call_workflow_stream
    raise HTTPException(status_code=500, detail=f"Internal server error: {str(e)}")
fastapi.exceptions.HTTPException

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 109, in __call__
    await response(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\responses.py", line 270, in __call__
    async with anyio.create_task_group() as task_group:
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\anyio\_backends\_asyncio.py", line 597, in __aexit__
    raise exceptions[0]
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\responses.py", line 273, in wrap
    await func()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 134, in stream_response
    return await super().stream_response(send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\responses.py", line 262, in stream_response
    async for chunk in self.body_iterator:
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 98, in body_stream
    raise app_exc
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 109, in __call__
    await response(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\responses.py", line 270, in __call__
    async with anyio.create_task_group() as task_group:
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\anyio\_backends\_asyncio.py", line 597, in __aexit__
    raise exceptions[0]
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\responses.py", line 273, in wrap
    await func()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 134, in stream_response
    return await super().stream_response(send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\responses.py", line 262, in stream_response
    async for chunk in self.body_iterator:
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 98, in body_stream
    raise app_exc
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\exceptions.py", line 83, in __call__
    raise RuntimeError(msg) from exc
RuntimeError: Caught handled exception, but response already started.
2025-10-11 17:34:18 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-11 17:34:18 - main - INFO - main - lifespan - Logging configured
2025-10-11 17:34:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-11 17:34:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-11 17:34:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-11 17:34:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-11 17:34:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-11 17:34:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-11 17:34:18 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 17:34:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-11 17:34:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00035s] ()
2025-10-11 17:34:18 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-11 17:34:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 17:34:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00042s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 17:34:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 17:34:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02778s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 17:34:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 17:34:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04135s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 17:34:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 17:34:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.055s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 17:34:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 17:34:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06782s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 17:34:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 17:34:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08076s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 17:34:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 17:34:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09363s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 17:34:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 17:34:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1064s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 17:34:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 17:34:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1193s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 17:34:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 17:34:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1311s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 17:34:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 17:34:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1427s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 17:34:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 17:34:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00049s] ('userrole', 'pg_catalog')
2025-10-11 17:34:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 17:34:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02256s ago] ('conversationstatus', 'pg_catalog')
2025-10-11 17:34:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 17:34:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03425s ago] ('messagerole', 'pg_catalog')
2025-10-11 17:34:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 17:34:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04565s ago] ('jdstatus', 'pg_catalog')
2025-10-11 17:34:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 17:34:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0572s ago] ('scoringstatus', 'pg_catalog')
2025-10-11 17:34:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 17:34:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06924s ago] ('resumestatus', 'pg_catalog')
2025-10-11 17:34:19 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-11 17:34:19 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-11 17:34:19 - main - INFO - main - lifespan - Database initialized successfully
2025-10-11 17:34:19 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-11 17:46:02 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/list
2025-10-11 17:46:02 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 17:46:02 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 17:46:02 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 17:46:02 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 17:46:02 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 17:46:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 17:46:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00132s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 17:46:06 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-11 17:46:06 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 17:46:06 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 17:46:06 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 17:46:06 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 17:46:06 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-11 17:46:06 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 17:46:06 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 17:46:06 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 17:46:06 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 17:46:06 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 17:46:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 17:46:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 3.931s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 17:46:06 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 17:46:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 17:46:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 3.945s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 17:46:07 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 17:46:07 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 17:46:07 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-11 17:46:07 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-11 17:46:07 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-11 17:46:07 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-11 17:46:07 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.3239s
2025-10-11 17:46:07 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 17:46:07 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 17:46:07 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 17:46:07 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-11 17:46:07 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-11 17:46:07 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-11 17:46:07 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-11 17:46:07 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.3339s
2025-10-11 17:46:07 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 17:46:07 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/list
2025-10-11 17:46:07 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 17:46:07 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 17:46:07 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 17:46:07 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 17:46:07 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 17:46:07 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 17:46:07 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 4.178s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 17:46:07 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 17:46:07 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 17:46:07 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0325s
2025-10-11 17:46:07 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 17:46:07 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-base/?skip=0&limit=100
2025-10-11 17:46:07 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 17:46:07 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 17:46:07 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 17:46:07 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 17:46:07 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 17:46:07 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 17:46:07 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 4.225s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 17:46:07 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 17:46:07 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 17:46:07 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT knowledge_bases.name, knowledge_bases.description, knowledge_bases.is_public, knowledge_bases.is_searchable, knowledge_bases.meta_data, knowledge_bases.document_count, knowledge_bases.category, knowledge_bases.tags, knowledge_bases.id, knowledge_bases.created_at, knowledge_bases.updated_at, knowledge_bases.is_active, knowledge_bases.created_by, knowledge_bases.updated_by 
FROM knowledge_bases 
WHERE knowledge_bases.is_public = true ORDER BY knowledge_bases.created_at DESC 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-10-11 17:46:07 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00035s] (100, 0)
2025-10-11 17:46:07 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0651s
2025-10-11 17:46:07 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 17:46:07 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-assistant/documents
2025-10-11 17:46:07 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 17:46:07 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 17:46:07 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 17:46:07 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 17:46:07 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 17:46:07 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 17:46:07 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 4.298s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 17:46:07 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 17:46:07 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 17:46:07 - app.services.lightweight_document_service - INFO - lightweight_document_service - __init__ - Lightweight document service initialized
2025-10-11 17:46:07 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT documents.filename, documents.original_filename, documents.file_path, documents.file_size, documents.file_hash, documents.mime_type, documents.extracted_content, documents.summary, documents.meta_data, documents.embedding, documents.category, documents.tags, documents.user_id, documents.knowledge_base_id, documents.id, documents.created_at, documents.updated_at, documents.is_active, documents.created_by, documents.updated_by 
FROM documents 
WHERE documents.user_id = $1::UUID ORDER BY documents.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-11 17:46:07 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00051s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 20, 0)
2025-10-11 17:46:07 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0968s
2025-10-11 17:46:07 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 17:46:12 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-base/?skip=0&limit=100
2025-10-11 17:46:12 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 17:46:12 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 17:46:12 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 17:46:12 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 17:46:12 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 17:46:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 17:46:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 9.848s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 17:46:12 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 17:46:12 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 17:46:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT knowledge_bases.name, knowledge_bases.description, knowledge_bases.is_public, knowledge_bases.is_searchable, knowledge_bases.meta_data, knowledge_bases.document_count, knowledge_bases.category, knowledge_bases.tags, knowledge_bases.id, knowledge_bases.created_at, knowledge_bases.updated_at, knowledge_bases.is_active, knowledge_bases.created_by, knowledge_bases.updated_by 
FROM knowledge_bases 
WHERE knowledge_bases.is_public = true ORDER BY knowledge_bases.created_at DESC 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-10-11 17:46:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 5.621s ago] (100, 0)
2025-10-11 17:46:12 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0442s
2025-10-11 17:46:12 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 17:46:14 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-assistant/documents?knowledge_base_id=f9716623-6e0d-4fc1-8032-33dcbd7948b1&skip=0&limit=20
2025-10-11 17:46:14 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 17:46:14 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 17:46:14 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 17:46:14 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 17:46:14 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 17:46:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 17:46:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 11.38s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 17:46:14 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 17:46:14 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 17:46:14 - app.services.lightweight_document_service - INFO - lightweight_document_service - __init__ - Lightweight document service initialized
2025-10-11 17:46:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT documents.filename, documents.original_filename, documents.file_path, documents.file_size, documents.file_hash, documents.mime_type, documents.extracted_content, documents.summary, documents.meta_data, documents.embedding, documents.category, documents.tags, documents.user_id, documents.knowledge_base_id, documents.id, documents.created_at, documents.updated_at, documents.is_active, documents.created_by, documents.updated_by 
FROM documents 
WHERE documents.user_id = $1::UUID AND documents.knowledge_base_id = $2::UUID ORDER BY documents.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 17:46:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00100s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('f9716623-6e0d-4fc1-8032-33dcbd7948b1'), 20, 0)
2025-10-11 17:46:14 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0698s
2025-10-11 17:46:14 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 17:46:17 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/hr-workflows/exam/generate
2025-10-11 17:46:17 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 17:46:17 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 17:46:17 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 17:46:17 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 17:46:17 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 17:46:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 17:46:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 14.26s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 17:46:17 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 17:46:17 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 17:46:17 - app.services.llm_service - INFO - llm_service - __init__ - Settings EMBEDDING_API_KEY: ***
2025-10-11 17:46:17 - app.services.llm_service - INFO - llm_service - __init__ - Settings EMBEDDING_BASE_URL: https://open.bigmodel.cn/api/paas/v4
2025-10-11 17:46:17 - app.services.llm_service - INFO - llm_service - __init__ - Settings EMBEDDING_MODEL: embedding-3
2025-10-11 17:46:17 - app.services.llm_service - INFO - llm_service - __init__ - Embedding config - API Key: ***
2025-10-11 17:46:17 - app.services.llm_service - INFO - llm_service - __init__ - Embedding config - Base URL: https://open.bigmodel.cn/api/paas/v4
2025-10-11 17:46:17 - app.services.llm_service - INFO - llm_service - __init__ - Embedding config - Model: embedding-3
2025-10-11 17:46:18 - app.services.compatible_embeddings - INFO - compatible_embeddings - __init__ - ZhipuOpenAI Embeddings initialized with model: embedding-3
2025-10-11 17:46:18 - app.services.embedding_service - INFO - embedding_service - _initialize - EmbeddingService initialized successfully with OpenAI embeddings
2025-10-11 17:46:18 - app.services.enhanced_document_service - INFO - enhanced_document_service - __init__ - Enhanced document service initialized with shared embedding service
2025-10-11 17:46:18 - app.core.logging - WARNING - hr_workflows - generate_exam - Failed to read document 610c9fe3-e738-4e44-a2d0-21fb130aecb0: 'EnhancedDocumentService' object has no attribute 'get_document_by_id'
2025-10-11 17:46:18 - app.core.logging - INFO - dify_service - call_workflow_stream - Calling Dify workflow type 5 with query: 请基于以下文档内容生成一份management试卷
试卷标题：11
难度等级：中等
考试时长：90分钟
题目类型：单选题、多选题
题目数量：single：10题, multiple：5题, judge...
2025-10-11 17:46:19 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 1.8071s
2025-10-11 17:46:19 - httpx - INFO - _client - _send_single_request - HTTP Request: POST http://218.78.133.209:85/v1/chat-messages "HTTP/1.1 400 BAD REQUEST"
2025-10-11 17:46:19 - app.core.logging - ERROR - dify_service - call_workflow_stream - Dify API error: 400 - b'{"code": "invalid_param", "message": "exam_1760175977278 is not a valid uuid.", "params": "conversation_id"}\n'
2025-10-11 17:46:19 - app.core.logging - ERROR - dify_service - call_workflow_stream - Unexpected error in Dify workflow call: 
2025-10-11 17:46:19 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 17:46:19 - app.core.exception_handlers - ERROR - exception_handlers - generic_exception_handler - Unhandled Exception: Caught handled exception, but response already started.
Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 20, in __call__
    raise e
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 69, in app
    await response(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\responses.py", line 270, in __call__
    async with anyio.create_task_group() as task_group:
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\anyio\_backends\_asyncio.py", line 597, in __aexit__
    raise exceptions[0]
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\responses.py", line 273, in wrap
    await func()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\responses.py", line 262, in stream_response
    async for chunk in self.body_iterator:
  File "E:\workspace-py\hr-agent\backend\app\api\v1\endpoints\hr_workflows.py", line 1141, in generate_stream
    async for chunk in dify_service.call_workflow_stream(
  File "E:\workspace-py\hr-agent\backend\app\services\dify_service.py", line 109, in call_workflow_stream
    raise HTTPException(status_code=500, detail=f"Internal server error: {str(e)}")
fastapi.exceptions.HTTPException

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 109, in __call__
    await response(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\responses.py", line 270, in __call__
    async with anyio.create_task_group() as task_group:
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\anyio\_backends\_asyncio.py", line 597, in __aexit__
    raise exceptions[0]
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\responses.py", line 273, in wrap
    await func()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 134, in stream_response
    return await super().stream_response(send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\responses.py", line 262, in stream_response
    async for chunk in self.body_iterator:
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 98, in body_stream
    raise app_exc
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 109, in __call__
    await response(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\responses.py", line 270, in __call__
    async with anyio.create_task_group() as task_group:
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\anyio\_backends\_asyncio.py", line 597, in __aexit__
    raise exceptions[0]
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\responses.py", line 273, in wrap
    await func()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 134, in stream_response
    return await super().stream_response(send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\responses.py", line 262, in stream_response
    async for chunk in self.body_iterator:
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 98, in body_stream
    raise app_exc
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\exceptions.py", line 83, in __call__
    raise RuntimeError(msg) from exc
RuntimeError: Caught handled exception, but response already started.
2025-10-11 17:46:22 - app.services.user_service - ERROR - user_service - get_user - Error getting user 663c3a32-596c-4fec-955e-6eace86eb281: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-11 17:46:22 - app.api.deps - ERROR - deps - get_current_user - ❌ Error in get_current_user: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-11 17:46:22 - app.core.exception_handlers - ERROR - exception_handlers - sqlalchemy_exception_handler - Database Error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\asyncio\selector_events.py", line 862, in _read_ready__data_received
    data = self._sock.recv(self.max_size)
ConnectionResetError: [WinError 10054] 远程主机强迫关闭了一个现有的连接。

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 859, in _start_transaction
    await self._transaction.start()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\asyncpg\transaction.py", line 146, in start
    await self._connection.execute(query)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\asyncpg\connection.py", line 350, in execute
    result = await self._protocol.query(query, timeout)
  File "asyncpg\protocol\protocol.pyx", line 374, in query
asyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 527, in _prepare_and_execute
    await adapt_connection._start_transaction()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 861, in _start_transaction
    self._handle_exception(error)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.Error: <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 20, in __call__
    raise e
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 66, in app
    response = await func(request)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\routing.py", line 264, in app
    solved_result = await solve_dependencies(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\dependencies\utils.py", line 592, in solve_dependencies
    solved = await call(**sub_values)
  File "E:\workspace-py\hr-agent\backend\app\api\deps.py", line 56, in get_current_user
    user = await user_service.get_user(user_uuid)
  File "E:\workspace-py\hr-agent\backend\app\services\user_service.py", line 112, in get_user
    result = await self.db.execute(query)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 455, in execute
    result = await greenlet_spawn(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 190, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\orm\session.py", line 2308, in execute
    return self._execute_internal(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\orm\session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 527, in _prepare_and_execute
    await adapt_connection._start_transaction()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 861, in _start_transaction
    self._handle_exception(error)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.DBAPIError: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-11 17:46:22 - app.core.middleware - INFO - middleware - dispatch - Response: 500 - Processing time: 19.2588s
2025-10-11 17:46:44 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-11 17:46:44 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-11 17:46:44 - main - INFO - main - lifespan - Database connections closed
2025-10-11 17:46:44 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-11 17:50:04 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-11 17:50:04 - main - INFO - main - lifespan - Logging configured
2025-10-11 17:50:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-11 17:50:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-11 17:50:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-11 17:50:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-11 17:50:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-11 17:50:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-11 17:50:04 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 17:50:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-11 17:50:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00034s] ()
2025-10-11 17:50:04 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-11 17:50:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 17:50:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00043s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 17:50:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 17:50:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.01987s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 17:50:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 17:50:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02991s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 17:50:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 17:50:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04042s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 17:50:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 17:50:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05066s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 17:50:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 17:50:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06053s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 17:50:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 17:50:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07039s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 17:50:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 17:50:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08048s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 17:50:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 17:50:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08914s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 17:50:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 17:50:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0971s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 17:50:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 17:50:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1054s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 17:50:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 17:50:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00051s] ('userrole', 'pg_catalog')
2025-10-11 17:50:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 17:50:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.01589s ago] ('conversationstatus', 'pg_catalog')
2025-10-11 17:50:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 17:50:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02434s ago] ('messagerole', 'pg_catalog')
2025-10-11 17:50:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 17:50:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03291s ago] ('jdstatus', 'pg_catalog')
2025-10-11 17:50:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 17:50:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0436s ago] ('scoringstatus', 'pg_catalog')
2025-10-11 17:50:05 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 17:50:05 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05387s ago] ('resumestatus', 'pg_catalog')
2025-10-11 17:50:05 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-11 17:50:05 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-11 17:50:05 - main - INFO - main - lifespan - Database initialized successfully
2025-10-11 17:50:05 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-11 17:56:03 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-11 17:56:22 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-11 17:56:22 - main - INFO - main - lifespan - Database connections closed
2025-10-11 17:56:22 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-11 17:56:32 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-11 17:56:32 - main - INFO - main - lifespan - Logging configured
2025-10-11 17:56:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-11 17:56:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-11 17:56:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-11 17:56:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-11 17:56:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-11 17:56:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-11 17:56:32 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 17:56:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-11 17:56:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00033s] ()
2025-10-11 17:56:32 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-11 17:56:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 17:56:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00048s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 17:56:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 17:56:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02088s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 17:56:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 17:56:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03087s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 17:56:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 17:56:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04175s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 17:56:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 17:56:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05172s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 17:56:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 17:56:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0615s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 17:56:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 17:56:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0714s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 17:56:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 17:56:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08106s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 17:56:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 17:56:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09024s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 17:56:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 17:56:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09811s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 17:56:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 17:56:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1063s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 17:56:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 17:56:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00035s] ('userrole', 'pg_catalog')
2025-10-11 17:56:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 17:56:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02076s ago] ('conversationstatus', 'pg_catalog')
2025-10-11 17:56:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 17:56:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03158s ago] ('messagerole', 'pg_catalog')
2025-10-11 17:56:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 17:56:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04257s ago] ('jdstatus', 'pg_catalog')
2025-10-11 17:56:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 17:56:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05176s ago] ('scoringstatus', 'pg_catalog')
2025-10-11 17:56:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 17:56:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06031s ago] ('resumestatus', 'pg_catalog')
2025-10-11 17:56:32 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-11 17:56:32 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-11 17:56:32 - main - INFO - main - lifespan - Database initialized successfully
2025-10-11 17:56:32 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-11 17:56:36 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/jd?page=1&size=10
2025-10-11 17:56:36 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 17:56:36 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 17:56:36 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 17:56:36 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 17:56:36 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 17:56:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 17:56:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00066s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 17:56:37 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 17:56:37 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 17:56:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT count(*) AS count_1 
FROM (SELECT job_descriptions.title AS title, job_descriptions.department AS department, job_descriptions.location AS location, job_descriptions.salary_range AS salary_range, job_descriptions.experience_level AS experience_level, job_descriptions.education AS education, job_descriptions.job_type AS job_type, job_descriptions.skills AS skills, job_descriptions.content AS content, job_descriptions.requirements AS requirements, job_descriptions.status AS status, job_descriptions.meta_data AS meta_data, job_descriptions.conversation_id AS conversation_id, job_descriptions.workflow_type AS workflow_type, job_descriptions.user_id AS user_id, job_descriptions.id AS id, job_descriptions.created_at AS created_at, job_descriptions.updated_at AS updated_at, job_descriptions.is_active AS is_active, job_descriptions.created_by AS created_by, job_descriptions.updated_by AS updated_by 
FROM job_descriptions 
WHERE job_descriptions.user_id = $1::UUID AND job_descriptions.is_active = true) AS anon_1
2025-10-11 17:56:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00051s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 17:56:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT job_descriptions.title, job_descriptions.department, job_descriptions.location, job_descriptions.salary_range, job_descriptions.experience_level, job_descriptions.education, job_descriptions.job_type, job_descriptions.skills, job_descriptions.content, job_descriptions.requirements, job_descriptions.status, job_descriptions.meta_data, job_descriptions.conversation_id, job_descriptions.workflow_type, job_descriptions.user_id, job_descriptions.id, job_descriptions.created_at, job_descriptions.updated_at, job_descriptions.is_active, job_descriptions.created_by, job_descriptions.updated_by 
FROM job_descriptions 
WHERE job_descriptions.user_id = $1::UUID AND job_descriptions.is_active = true ORDER BY job_descriptions.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-11 17:56:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00058s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 10, 0)
2025-10-11 17:56:37 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.2327s
2025-10-11 17:56:37 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 17:56:39 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-11 17:56:39 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 17:56:39 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 17:56:39 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 17:56:39 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 17:56:39 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 17:56:39 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 17:56:39 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2.344s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 17:56:39 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 17:56:39 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 17:56:39 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 17:56:39 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00079s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-11 17:56:39 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1073s
2025-10-11 17:56:39 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 17:56:45 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/jd?page=1&size=10
2025-10-11 17:56:45 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 17:56:45 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 17:56:45 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 17:56:45 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 17:56:45 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 17:56:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 17:56:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 8.599s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 17:56:45 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 17:56:45 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 17:56:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT count(*) AS count_1 
FROM (SELECT job_descriptions.title AS title, job_descriptions.department AS department, job_descriptions.location AS location, job_descriptions.salary_range AS salary_range, job_descriptions.experience_level AS experience_level, job_descriptions.education AS education, job_descriptions.job_type AS job_type, job_descriptions.skills AS skills, job_descriptions.content AS content, job_descriptions.requirements AS requirements, job_descriptions.status AS status, job_descriptions.meta_data AS meta_data, job_descriptions.conversation_id AS conversation_id, job_descriptions.workflow_type AS workflow_type, job_descriptions.user_id AS user_id, job_descriptions.id AS id, job_descriptions.created_at AS created_at, job_descriptions.updated_at AS updated_at, job_descriptions.is_active AS is_active, job_descriptions.created_by AS created_by, job_descriptions.updated_by AS updated_by 
FROM job_descriptions 
WHERE job_descriptions.user_id = $1::UUID AND job_descriptions.is_active = true) AS anon_1
2025-10-11 17:56:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 8.53s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 17:56:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT job_descriptions.title, job_descriptions.department, job_descriptions.location, job_descriptions.salary_range, job_descriptions.experience_level, job_descriptions.education, job_descriptions.job_type, job_descriptions.skills, job_descriptions.content, job_descriptions.requirements, job_descriptions.status, job_descriptions.meta_data, job_descriptions.conversation_id, job_descriptions.workflow_type, job_descriptions.user_id, job_descriptions.id, job_descriptions.created_at, job_descriptions.updated_at, job_descriptions.is_active, job_descriptions.created_by, job_descriptions.updated_by 
FROM job_descriptions 
WHERE job_descriptions.user_id = $1::UUID AND job_descriptions.is_active = true ORDER BY job_descriptions.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-11 17:56:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00129s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 10, 0)
2025-10-11 17:56:45 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1311s
2025-10-11 17:56:45 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 17:56:46 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/resume-evaluation/history?status=interview&limit=100
2025-10-11 17:56:46 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 17:56:46 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 17:56:46 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 17:56:46 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 17:56:46 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 17:56:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 17:56:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 9.71s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 17:56:46 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 17:56:46 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 17:56:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT resume_evaluations.original_filename, resume_evaluations.file_path, resume_evaluations.file_type, resume_evaluations.file_size, resume_evaluations.resume_content, resume_evaluations.candidate_name, resume_evaluations.candidate_position, resume_evaluations.candidate_age, resume_evaluations.candidate_gender, resume_evaluations.work_years, resume_evaluations.education_level, resume_evaluations.school, resume_evaluations.total_score, resume_evaluations.evaluation_metrics, resume_evaluations.status, resume_evaluations.job_description_id, resume_evaluations.scoring_criteria_id, resume_evaluations.conversation_id, resume_evaluations.ai_response, resume_evaluations.user_id, resume_evaluations.id, resume_evaluations.created_at, resume_evaluations.updated_at, resume_evaluations.is_active, resume_evaluations.created_by, resume_evaluations.updated_by 
FROM resume_evaluations 
WHERE resume_evaluations.user_id = $1::UUID AND resume_evaluations.status = $2::resumestatus ORDER BY resume_evaluations.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 17:56:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 7.368s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 'INTERVIEW', 100, 0)
2025-10-11 17:56:46 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0724s
2025-10-11 17:56:46 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 17:56:49 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/interview-plans/?resume_evaluation_id=2a22cb0d-45f3-4f30-887d-89c3ba31530f&limit=1
2025-10-11 17:56:49 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 17:56:49 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 17:56:49 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 17:56:49 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 17:56:49 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 17:56:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 17:56:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 12.5s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 17:56:49 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 17:56:49 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 17:56:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID
2025-10-11 17:56:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00135s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'))
2025-10-11 17:56:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT interview_plans.candidate_name, interview_plans.candidate_position, interview_plans.content, interview_plans.resume_evaluation_id, interview_plans.user_id, interview_plans.id, interview_plans.created_at, interview_plans.updated_at, interview_plans.is_active, interview_plans.created_by, interview_plans.updated_by 
FROM interview_plans 
WHERE interview_plans.user_id = $1::UUID AND interview_plans.resume_evaluation_id = $2::UUID ORDER BY interview_plans.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 17:56:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00153s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('2a22cb0d-45f3-4f30-887d-89c3ba31530f'), 10, 0)
2025-10-11 17:56:49 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0780s
2025-10-11 17:56:49 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 17:56:52 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/list
2025-10-11 17:56:52 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 17:56:52 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 17:56:52 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 17:56:52 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 17:56:52 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 17:56:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 17:56:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 15.36s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 17:56:52 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 17:56:52 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 17:56:52 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0278s
2025-10-11 17:56:52 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 17:56:52 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-base/?skip=0&limit=100
2025-10-11 17:56:52 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 17:56:52 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 17:56:52 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 17:56:52 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 17:56:52 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 17:56:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 17:56:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 15.4s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 17:56:52 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 17:56:52 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 17:56:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT knowledge_bases.name, knowledge_bases.description, knowledge_bases.is_public, knowledge_bases.is_searchable, knowledge_bases.meta_data, knowledge_bases.document_count, knowledge_bases.category, knowledge_bases.tags, knowledge_bases.id, knowledge_bases.created_at, knowledge_bases.updated_at, knowledge_bases.is_active, knowledge_bases.created_by, knowledge_bases.updated_by 
FROM knowledge_bases 
WHERE knowledge_bases.is_public = true ORDER BY knowledge_bases.created_at DESC 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-10-11 17:56:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00079s] (100, 0)
2025-10-11 17:56:52 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0596s
2025-10-11 17:56:52 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 17:56:52 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-assistant/documents
2025-10-11 17:56:52 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 17:56:52 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 17:56:52 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 17:56:52 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 17:56:52 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 17:56:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 17:56:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 15.48s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 17:56:52 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 17:56:52 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 17:56:52 - app.services.lightweight_document_service - INFO - lightweight_document_service - __init__ - Lightweight document service initialized
2025-10-11 17:56:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT documents.filename, documents.original_filename, documents.file_path, documents.file_size, documents.file_hash, documents.mime_type, documents.extracted_content, documents.summary, documents.meta_data, documents.embedding, documents.category, documents.tags, documents.user_id, documents.knowledge_base_id, documents.id, documents.created_at, documents.updated_at, documents.is_active, documents.created_by, documents.updated_by 
FROM documents 
WHERE documents.user_id = $1::UUID ORDER BY documents.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-11 17:56:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00091s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 20, 0)
2025-10-11 17:56:52 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0967s
2025-10-11 17:56:52 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 17:56:58 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-base/?skip=0&limit=100
2025-10-11 17:56:58 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 17:56:58 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 17:56:58 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 17:56:58 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 17:56:58 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 17:56:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 17:56:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 21.65s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 17:56:58 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 17:56:58 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 17:56:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT knowledge_bases.name, knowledge_bases.description, knowledge_bases.is_public, knowledge_bases.is_searchable, knowledge_bases.meta_data, knowledge_bases.document_count, knowledge_bases.category, knowledge_bases.tags, knowledge_bases.id, knowledge_bases.created_at, knowledge_bases.updated_at, knowledge_bases.is_active, knowledge_bases.created_by, knowledge_bases.updated_by 
FROM knowledge_bases 
WHERE knowledge_bases.is_public = true ORDER BY knowledge_bases.created_at DESC 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-10-11 17:56:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 6.253s ago] (100, 0)
2025-10-11 17:56:58 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0524s
2025-10-11 17:56:58 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 17:57:00 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-assistant/documents?knowledge_base_id=f9716623-6e0d-4fc1-8032-33dcbd7948b1&skip=0&limit=20
2025-10-11 17:57:00 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 17:57:00 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 17:57:00 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 17:57:00 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 17:57:00 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 17:57:00 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 17:57:00 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 23.57s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 17:57:00 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 17:57:00 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 17:57:00 - app.services.lightweight_document_service - INFO - lightweight_document_service - __init__ - Lightweight document service initialized
2025-10-11 17:57:00 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT documents.filename, documents.original_filename, documents.file_path, documents.file_size, documents.file_hash, documents.mime_type, documents.extracted_content, documents.summary, documents.meta_data, documents.embedding, documents.category, documents.tags, documents.user_id, documents.knowledge_base_id, documents.id, documents.created_at, documents.updated_at, documents.is_active, documents.created_by, documents.updated_by 
FROM documents 
WHERE documents.user_id = $1::UUID AND documents.knowledge_base_id = $2::UUID ORDER BY documents.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 17:57:00 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00104s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('f9716623-6e0d-4fc1-8032-33dcbd7948b1'), 20, 0)
2025-10-11 17:57:00 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0793s
2025-10-11 17:57:00 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 17:57:04 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/hr-workflows/exam/generate
2025-10-11 17:57:04 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 17:57:04 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 17:57:04 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 17:57:04 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 17:57:04 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 17:57:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 17:57:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 27.84s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 17:57:04 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 17:57:04 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 17:57:05 - app.services.llm_service - INFO - llm_service - __init__ - Settings EMBEDDING_API_KEY: ***
2025-10-11 17:57:05 - app.services.llm_service - INFO - llm_service - __init__ - Settings EMBEDDING_BASE_URL: https://open.bigmodel.cn/api/paas/v4
2025-10-11 17:57:05 - app.services.llm_service - INFO - llm_service - __init__ - Settings EMBEDDING_MODEL: embedding-3
2025-10-11 17:57:05 - app.services.llm_service - INFO - llm_service - __init__ - Embedding config - API Key: ***
2025-10-11 17:57:05 - app.services.llm_service - INFO - llm_service - __init__ - Embedding config - Base URL: https://open.bigmodel.cn/api/paas/v4
2025-10-11 17:57:05 - app.services.llm_service - INFO - llm_service - __init__ - Embedding config - Model: embedding-3
2025-10-11 17:57:06 - app.services.compatible_embeddings - INFO - compatible_embeddings - __init__ - ZhipuOpenAI Embeddings initialized with model: embedding-3
2025-10-11 17:57:06 - app.services.embedding_service - INFO - embedding_service - _initialize - EmbeddingService initialized successfully with OpenAI embeddings
2025-10-11 17:57:06 - app.services.enhanced_document_service - INFO - enhanced_document_service - __init__ - Enhanced document service initialized with shared embedding service
2025-10-11 17:57:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT documents.filename, documents.original_filename, documents.file_path, documents.file_size, documents.file_hash, documents.mime_type, documents.extracted_content, documents.summary, documents.meta_data, documents.embedding, documents.category, documents.tags, documents.user_id, documents.knowledge_base_id, documents.id, documents.created_at, documents.updated_at, documents.is_active, documents.created_by, documents.updated_by 
FROM documents 
WHERE documents.id = $1::UUID AND documents.user_id = $2::UUID
2025-10-11 17:57:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00045s] (UUID('610c9fe3-e738-4e44-a2d0-21fb130aecb0'), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-11 17:57:06 - app.core.logging - WARNING - hr_workflows - generate_exam - Failed to read document 610c9fe3-e738-4e44-a2d0-21fb130aecb0: 'Document' object has no attribute 'content'
2025-10-11 17:57:06 - app.core.logging - INFO - dify_service - call_workflow_stream - Calling Dify workflow type 5 with query: 请基于以下文档内容生成一份management试卷
试卷标题：22
难度等级：中等
考试时长：90分钟
题目类型：单选题、多选题
题目数量：single：10题, multiple：5题, judge...
2025-10-11 17:57:06 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 1.8292s
2025-10-11 17:57:07 - httpx - INFO - _client - _send_single_request - HTTP Request: POST http://218.78.133.209:85/v1/chat-messages "HTTP/1.1 404 NOT FOUND"
2025-10-11 17:57:07 - app.core.logging - ERROR - dify_service - call_workflow_stream - Dify API error: 404 - b'{"code": "not_found", "message": "Conversation Not Exists.", "status": 404}\n'
2025-10-11 17:57:07 - app.core.logging - ERROR - dify_service - call_workflow_stream - Unexpected error in Dify workflow call: 
2025-10-11 17:57:07 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 17:57:07 - app.core.exception_handlers - ERROR - exception_handlers - generic_exception_handler - Unhandled Exception: Caught handled exception, but response already started.
Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 20, in __call__
    raise e
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 69, in app
    await response(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\responses.py", line 270, in __call__
    async with anyio.create_task_group() as task_group:
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\anyio\_backends\_asyncio.py", line 597, in __aexit__
    raise exceptions[0]
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\responses.py", line 273, in wrap
    await func()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\responses.py", line 262, in stream_response
    async for chunk in self.body_iterator:
  File "E:\workspace-py\hr-agent\backend\app\api\v1\endpoints\hr_workflows.py", line 1141, in generate_stream
    async for chunk in dify_service.call_workflow_stream(
  File "E:\workspace-py\hr-agent\backend\app\services\dify_service.py", line 109, in call_workflow_stream
    raise HTTPException(status_code=500, detail=f"Internal server error: {str(e)}")
fastapi.exceptions.HTTPException

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 109, in __call__
    await response(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\responses.py", line 270, in __call__
    async with anyio.create_task_group() as task_group:
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\anyio\_backends\_asyncio.py", line 597, in __aexit__
    raise exceptions[0]
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\responses.py", line 273, in wrap
    await func()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 134, in stream_response
    return await super().stream_response(send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\responses.py", line 262, in stream_response
    async for chunk in self.body_iterator:
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 98, in body_stream
    raise app_exc
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 109, in __call__
    await response(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\responses.py", line 270, in __call__
    async with anyio.create_task_group() as task_group:
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\anyio\_backends\_asyncio.py", line 597, in __aexit__
    raise exceptions[0]
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\responses.py", line 273, in wrap
    await func()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 134, in stream_response
    return await super().stream_response(send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\responses.py", line 262, in stream_response
    async for chunk in self.body_iterator:
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 98, in body_stream
    raise app_exc
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\exceptions.py", line 83, in __call__
    raise RuntimeError(msg) from exc
RuntimeError: Caught handled exception, but response already started.
2025-10-11 17:57:43 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-11 17:57:43 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-11 17:57:43 - main - INFO - main - lifespan - Database connections closed
2025-10-11 17:57:43 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-11 17:57:50 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-11 17:57:50 - main - INFO - main - lifespan - Logging configured
2025-10-11 17:57:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-11 17:57:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-11 17:57:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-11 17:57:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-11 17:57:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-11 17:57:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-11 17:57:50 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 17:57:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-11 17:57:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00036s] ()
2025-10-11 17:57:50 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-11 17:57:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 17:57:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00047s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 17:57:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 17:57:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02573s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 17:57:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 17:57:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03794s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 17:57:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 17:57:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0504s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 17:57:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 17:57:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06297s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 17:57:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 17:57:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07514s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 17:57:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 17:57:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08769s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 17:57:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 17:57:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1002s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 17:57:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 17:57:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.113s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 17:57:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 17:57:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1237s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 17:57:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 17:57:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1342s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 17:57:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 17:57:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00048s] ('userrole', 'pg_catalog')
2025-10-11 17:57:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 17:57:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02161s ago] ('conversationstatus', 'pg_catalog')
2025-10-11 17:57:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 17:57:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0329s ago] ('messagerole', 'pg_catalog')
2025-10-11 17:57:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 17:57:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04451s ago] ('jdstatus', 'pg_catalog')
2025-10-11 17:57:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 17:57:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05607s ago] ('scoringstatus', 'pg_catalog')
2025-10-11 17:57:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 17:57:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0677s ago] ('resumestatus', 'pg_catalog')
2025-10-11 17:57:50 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-11 17:57:50 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-11 17:57:50 - main - INFO - main - lifespan - Database initialized successfully
2025-10-11 17:57:50 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-11 17:58:59 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/auth/login
2025-10-11 17:58:59 - app.core.exception_handlers - WARNING - exception_handlers - validation_exception_handler - Validation Error: [{'type': 'missing', 'loc': ('body', 'username'), 'msg': 'Field required', 'input': None, 'url': 'https://errors.pydantic.dev/2.11/v/missing'}, {'type': 'missing', 'loc': ('body', 'password'), 'msg': 'Field required', 'input': None, 'url': 'https://errors.pydantic.dev/2.11/v/missing'}]
2025-10-11 17:58:59 - app.core.middleware - INFO - middleware - dispatch - Response: 422 - Processing time: 0.0050s
2025-10-11 18:00:01 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-11 18:00:01 - main - INFO - main - lifespan - Logging configured
2025-10-11 18:00:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-11 18:00:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-11 18:00:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-11 18:00:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-11 18:00:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-11 18:00:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-11 18:00:01 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 18:00:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-11 18:00:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00047s] ()
2025-10-11 18:00:01 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-11 18:00:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 18:00:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00050s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 18:00:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 18:00:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02719s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 18:00:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 18:00:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04205s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 18:00:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 18:00:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05665s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 18:00:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 18:00:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07173s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 18:00:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 18:00:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08652s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 18:00:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 18:00:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1005s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 18:00:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 18:00:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1129s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 18:00:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 18:00:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1263s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 18:00:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 18:00:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1376s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 18:00:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 18:00:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1487s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 18:00:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 18:00:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00060s] ('userrole', 'pg_catalog')
2025-10-11 18:00:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 18:00:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02376s ago] ('conversationstatus', 'pg_catalog')
2025-10-11 18:00:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 18:00:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03635s ago] ('messagerole', 'pg_catalog')
2025-10-11 18:00:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 18:00:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04881s ago] ('jdstatus', 'pg_catalog')
2025-10-11 18:00:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 18:00:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06323s ago] ('scoringstatus', 'pg_catalog')
2025-10-11 18:00:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 18:00:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07784s ago] ('resumestatus', 'pg_catalog')
2025-10-11 18:00:01 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-11 18:00:01 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-11 18:00:01 - main - INFO - main - lifespan - Database initialized successfully
2025-10-11 18:00:01 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-11 21:13:29 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-11 21:13:29 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 21:13:29 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 21:13:29 - app.api.deps - ERROR - deps - get_current_user - ❌ JWT decode error: Signature has expired.
2025-10-11 21:13:29 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: Could not validate credentials
2025-10-11 21:13:29 - app.core.middleware - INFO - middleware - dispatch - Response: 401 - Processing time: 0.0147s
2025-10-11 21:13:31 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/auth/login
2025-10-11 21:13:31 - app.api.v1.endpoints.auth - INFO - auth - login - Login attempt for username: testuser
2025-10-11 21:13:31 - app.api.v1.endpoints.auth - INFO - auth - login - UserService created successfully
2025-10-11 21:13:31 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 21:13:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.username = $1::VARCHAR AND users.is_active = true
2025-10-11 21:13:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00159s] ('testuser',)
2025-10-11 21:13:40 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/auth/login
2025-10-11 21:13:40 - app.api.v1.endpoints.auth - INFO - auth - login - Login attempt for username: testuser
2025-10-11 21:13:40 - app.api.v1.endpoints.auth - INFO - auth - login - UserService created successfully
2025-10-11 21:13:40 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 21:13:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.username = $1::VARCHAR AND users.is_active = true
2025-10-11 21:13:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 9.005s ago] ('testuser',)
2025-10-11 21:13:40 - passlib.handlers.bcrypt - WARNING - bcrypt - _load_backend_mixin - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\passlib\handlers\bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-10-11 21:13:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - UPDATE users SET last_login=now(), updated_at=$1::TIMESTAMP WITHOUT TIME ZONE WHERE users.id = $2::UUID
2025-10-11 21:13:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00123s] (datetime.datetime(2025, 10, 11, 13, 13, 40, 803565), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-11 21:13:40 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-11 21:13:40 - app.api.v1.endpoints.auth - INFO - auth - login - Authentication result: True
2025-10-11 21:13:40 - app.api.v1.endpoints.auth - INFO - auth - login - Creating access token for user: testuser
2025-10-11 21:13:40 - app.api.v1.endpoints.auth - INFO - auth - login - Login successful for user: testuser
2025-10-11 21:13:40 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.6126s
2025-10-11 21:13:40 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-11 21:13:40 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 21:13:40 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 21:13:40 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 21:13:40 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 21:13:40 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 21:13:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 21:13:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00197s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 21:13:40 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 21:13:40 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 21:13:40 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-11 21:13:40 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-11 21:13:40 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-11 21:13:40 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-11 21:13:40 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0616s
2025-10-11 21:13:40 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 21:13:50 - app.services.user_service - ERROR - user_service - get_user_by_username - Error getting user by username testuser: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.username = $1::VARCHAR AND users.is_active = true]
[parameters: ('testuser',)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-11 21:13:50 - app.services.user_service - ERROR - user_service - authenticate - Error authenticating user: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.username = $1::VARCHAR AND users.is_active = true]
[parameters: ('testuser',)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-11 21:13:50 - app.api.v1.endpoints.auth - INFO - auth - login - Authentication result: False
2025-10-11 21:13:50 - app.api.v1.endpoints.auth - WARNING - auth - login - Authentication failed for username: testuser
2025-10-11 21:13:50 - app.api.v1.endpoints.auth - ERROR - auth - login - Login error: 
Traceback (most recent call last):
  File "E:\workspace-py\hr-agent\backend\app\api\v1\endpoints\auth.py", line 73, in login
    raise HTTPException(
fastapi.exceptions.HTTPException
2025-10-11 21:13:50 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: Incorrect username or password
2025-10-11 21:13:50 - app.core.middleware - INFO - middleware - dispatch - Response: 401 - Processing time: 19.2430s
2025-10-11 21:13:56 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/auth/login
2025-10-11 21:13:56 - app.api.v1.endpoints.auth - INFO - auth - login - Login attempt for username: testuser
2025-10-11 21:13:56 - app.api.v1.endpoints.auth - INFO - auth - login - UserService created successfully
2025-10-11 21:13:56 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 21:13:56 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.username = $1::VARCHAR AND users.is_active = true
2025-10-11 21:13:56 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 25.36s ago] ('testuser',)
2025-10-11 21:13:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - UPDATE users SET last_login=now(), updated_at=$1::TIMESTAMP WITHOUT TIME ZONE WHERE users.id = $2::UUID
2025-10-11 21:13:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 16.36s ago] (datetime.datetime(2025, 10, 11, 13, 13, 57, 165082), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-11 21:13:57 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-11 21:13:57 - app.api.v1.endpoints.auth - INFO - auth - login - Authentication result: True
2025-10-11 21:13:57 - app.api.v1.endpoints.auth - INFO - auth - login - Creating access token for user: testuser
2025-10-11 21:13:57 - app.api.v1.endpoints.auth - INFO - auth - login - Login successful for user: testuser
2025-10-11 21:13:57 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.6491s
2025-10-11 21:13:57 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-11 21:13:57 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 21:13:57 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 21:13:57 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 21:13:57 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 21:13:57 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 21:13:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 21:13:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 16.51s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 21:13:57 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 21:13:57 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 21:13:57 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-11 21:13:57 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-11 21:13:57 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-11 21:13:57 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-11 21:13:57 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.2957s
2025-10-11 21:13:57 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 21:14:00 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/list
2025-10-11 21:14:00 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 21:14:00 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 21:14:00 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 21:14:00 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 21:14:00 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 21:14:00 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 21:14:00 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 19.74s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 21:14:00 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 21:14:00 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 21:14:00 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0623s
2025-10-11 21:14:00 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 21:14:00 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-base/?skip=0&limit=100
2025-10-11 21:14:00 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 21:14:00 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 21:14:00 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 21:14:00 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 21:14:00 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 21:14:00 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 21:14:00 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 19.86s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 21:14:00 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 21:14:00 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 21:14:00 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT knowledge_bases.name, knowledge_bases.description, knowledge_bases.is_public, knowledge_bases.is_searchable, knowledge_bases.meta_data, knowledge_bases.document_count, knowledge_bases.category, knowledge_bases.tags, knowledge_bases.id, knowledge_bases.created_at, knowledge_bases.updated_at, knowledge_bases.is_active, knowledge_bases.created_by, knowledge_bases.updated_by 
FROM knowledge_bases 
WHERE knowledge_bases.is_public = true ORDER BY knowledge_bases.created_at DESC 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-10-11 21:14:00 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00079s] (100, 0)
2025-10-11 21:14:00 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1273s
2025-10-11 21:14:00 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 21:14:00 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-assistant/documents
2025-10-11 21:14:00 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 21:14:00 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 21:14:00 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 21:14:00 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 21:14:00 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 21:14:00 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 21:14:00 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 19.97s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 21:14:00 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 21:14:00 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 21:14:00 - app.services.lightweight_document_service - INFO - lightweight_document_service - __init__ - Lightweight document service initialized
2025-10-11 21:14:00 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT documents.filename, documents.original_filename, documents.file_path, documents.file_size, documents.file_hash, documents.mime_type, documents.extracted_content, documents.summary, documents.meta_data, documents.embedding, documents.category, documents.tags, documents.user_id, documents.knowledge_base_id, documents.id, documents.created_at, documents.updated_at, documents.is_active, documents.created_by, documents.updated_by 
FROM documents 
WHERE documents.user_id = $1::UUID ORDER BY documents.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-11 21:14:00 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00058s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 20, 0)
2025-10-11 21:14:01 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1736s
2025-10-11 21:14:01 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 21:14:07 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-base/?skip=0&limit=100
2025-10-11 21:14:07 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 21:14:07 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 21:14:07 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 21:14:07 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 21:14:07 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 21:14:07 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 21:14:07 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 26.25s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 21:14:07 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 21:14:07 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 21:14:07 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT knowledge_bases.name, knowledge_bases.description, knowledge_bases.is_public, knowledge_bases.is_searchable, knowledge_bases.meta_data, knowledge_bases.document_count, knowledge_bases.category, knowledge_bases.tags, knowledge_bases.id, knowledge_bases.created_at, knowledge_bases.updated_at, knowledge_bases.is_active, knowledge_bases.created_by, knowledge_bases.updated_by 
FROM knowledge_bases 
WHERE knowledge_bases.is_public = true ORDER BY knowledge_bases.created_at DESC 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-10-11 21:14:07 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 6.374s ago] (100, 0)
2025-10-11 21:14:07 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0609s
2025-10-11 21:14:07 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 21:14:08 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-assistant/documents?knowledge_base_id=f9716623-6e0d-4fc1-8032-33dcbd7948b1&skip=0&limit=20
2025-10-11 21:14:08 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 21:14:08 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 21:14:08 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 21:14:08 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 21:14:08 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 21:14:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 21:14:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 27.73s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 21:14:08 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 21:14:08 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 21:14:08 - app.services.lightweight_document_service - INFO - lightweight_document_service - __init__ - Lightweight document service initialized
2025-10-11 21:14:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT documents.filename, documents.original_filename, documents.file_path, documents.file_size, documents.file_hash, documents.mime_type, documents.extracted_content, documents.summary, documents.meta_data, documents.embedding, documents.category, documents.tags, documents.user_id, documents.knowledge_base_id, documents.id, documents.created_at, documents.updated_at, documents.is_active, documents.created_by, documents.updated_by 
FROM documents 
WHERE documents.user_id = $1::UUID AND documents.knowledge_base_id = $2::UUID ORDER BY documents.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 21:14:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00075s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('f9716623-6e0d-4fc1-8032-33dcbd7948b1'), 20, 0)
2025-10-11 21:14:08 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0923s
2025-10-11 21:14:08 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 21:14:12 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/hr-workflows/exam/generate
2025-10-11 21:14:12 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 21:14:12 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 21:14:12 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 21:14:12 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 21:14:12 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 21:14:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 21:14:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 31.97s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 21:14:12 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 21:14:12 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 21:14:13 - app.services.llm_service - INFO - llm_service - __init__ - Settings EMBEDDING_API_KEY: ***
2025-10-11 21:14:13 - app.services.llm_service - INFO - llm_service - __init__ - Settings EMBEDDING_BASE_URL: https://open.bigmodel.cn/api/paas/v4
2025-10-11 21:14:13 - app.services.llm_service - INFO - llm_service - __init__ - Settings EMBEDDING_MODEL: embedding-3
2025-10-11 21:14:13 - app.services.llm_service - INFO - llm_service - __init__ - Embedding config - API Key: ***
2025-10-11 21:14:13 - app.services.llm_service - INFO - llm_service - __init__ - Embedding config - Base URL: https://open.bigmodel.cn/api/paas/v4
2025-10-11 21:14:13 - app.services.llm_service - INFO - llm_service - __init__ - Embedding config - Model: embedding-3
2025-10-11 21:14:13 - app.services.compatible_embeddings - INFO - compatible_embeddings - __init__ - ZhipuOpenAI Embeddings initialized with model: embedding-3
2025-10-11 21:14:13 - app.services.embedding_service - INFO - embedding_service - _initialize - EmbeddingService initialized successfully with OpenAI embeddings
2025-10-11 21:14:13 - app.services.enhanced_document_service - INFO - enhanced_document_service - __init__ - Enhanced document service initialized with shared embedding service
2025-10-11 21:14:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT documents.filename, documents.original_filename, documents.file_path, documents.file_size, documents.file_hash, documents.mime_type, documents.extracted_content, documents.summary, documents.meta_data, documents.embedding, documents.category, documents.tags, documents.user_id, documents.knowledge_base_id, documents.id, documents.created_at, documents.updated_at, documents.is_active, documents.created_by, documents.updated_by 
FROM documents 
WHERE documents.id = $1::UUID AND documents.user_id = $2::UUID
2025-10-11 21:14:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00035s] (UUID('610c9fe3-e738-4e44-a2d0-21fb130aecb0'), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-11 21:14:13 - app.core.logging - WARNING - hr_workflows - generate_exam - Failed to read document 610c9fe3-e738-4e44-a2d0-21fb130aecb0: 'Document' object has no attribute 'content'
2025-10-11 21:14:13 - app.core.logging - INFO - dify_service - call_workflow_stream - Calling Dify workflow type 5 with query: 请基于以下文档内容生成一份management试卷
试卷标题：22
难度等级：中等
考试时长：90分钟
题目类型：单选题、多选题
题目数量：single：10题, multiple：5题, judge...
2025-10-11 21:14:14 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 1.5778s
2025-10-11 21:14:14 - httpx - INFO - _client - _send_single_request - HTTP Request: POST http://218.78.133.209:85/v1/chat-messages "HTTP/1.1 404 NOT FOUND"
2025-10-11 21:14:14 - app.core.logging - ERROR - dify_service - call_workflow_stream - Dify API error: 404 - b'{"code": "not_found", "message": "Conversation Not Exists.", "status": 404}\n'
2025-10-11 21:14:14 - app.core.logging - ERROR - dify_service - call_workflow_stream - Unexpected error in Dify workflow call: 
2025-10-11 21:14:14 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 21:14:14 - app.core.exception_handlers - ERROR - exception_handlers - generic_exception_handler - Unhandled Exception: Caught handled exception, but response already started.
Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 20, in __call__
    raise e
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 69, in app
    await response(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\responses.py", line 270, in __call__
    async with anyio.create_task_group() as task_group:
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\anyio\_backends\_asyncio.py", line 597, in __aexit__
    raise exceptions[0]
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\responses.py", line 273, in wrap
    await func()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\responses.py", line 262, in stream_response
    async for chunk in self.body_iterator:
  File "E:\workspace-py\hr-agent\backend\app\api\v1\endpoints\hr_workflows.py", line 1141, in generate_stream
    async for chunk in dify_service.call_workflow_stream(
  File "E:\workspace-py\hr-agent\backend\app\services\dify_service.py", line 109, in call_workflow_stream
    raise HTTPException(status_code=500, detail=f"Internal server error: {str(e)}")
fastapi.exceptions.HTTPException

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 109, in __call__
    await response(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\responses.py", line 270, in __call__
    async with anyio.create_task_group() as task_group:
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\anyio\_backends\_asyncio.py", line 597, in __aexit__
    raise exceptions[0]
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\responses.py", line 273, in wrap
    await func()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 134, in stream_response
    return await super().stream_response(send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\responses.py", line 262, in stream_response
    async for chunk in self.body_iterator:
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 98, in body_stream
    raise app_exc
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 109, in __call__
    await response(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\responses.py", line 270, in __call__
    async with anyio.create_task_group() as task_group:
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\anyio\_backends\_asyncio.py", line 597, in __aexit__
    raise exceptions[0]
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\responses.py", line 273, in wrap
    await func()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 134, in stream_response
    return await super().stream_response(send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\responses.py", line 262, in stream_response
    async for chunk in self.body_iterator:
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 98, in body_stream
    raise app_exc
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\exceptions.py", line 83, in __call__
    raise RuntimeError(msg) from exc
RuntimeError: Caught handled exception, but response already started.
2025-10-11 21:15:13 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-11 21:15:13 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-11 21:15:13 - main - INFO - main - lifespan - Database connections closed
2025-10-11 21:15:13 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-11 21:15:18 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-11 21:15:18 - main - INFO - main - lifespan - Logging configured
2025-10-11 21:15:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-11 21:15:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-11 21:15:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-11 21:15:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-11 21:15:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-11 21:15:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-11 21:15:18 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 21:15:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-11 21:15:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00036s] ()
2025-10-11 21:15:18 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-11 21:15:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 21:15:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00072s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 21:15:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 21:15:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.01735s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 21:15:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 21:15:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02496s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 21:15:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 21:15:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0325s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 21:15:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 21:15:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04064s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 21:15:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 21:15:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04872s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 21:15:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 21:15:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05633s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 21:15:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 21:15:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06372s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 21:15:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 21:15:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.071s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 21:15:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 21:15:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07701s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 21:15:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 21:15:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08323s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 21:15:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 21:15:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00060s] ('userrole', 'pg_catalog')
2025-10-11 21:15:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 21:15:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.01299s ago] ('conversationstatus', 'pg_catalog')
2025-10-11 21:15:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 21:15:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.01951s ago] ('messagerole', 'pg_catalog')
2025-10-11 21:15:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 21:15:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0265s ago] ('jdstatus', 'pg_catalog')
2025-10-11 21:15:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 21:15:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03365s ago] ('scoringstatus', 'pg_catalog')
2025-10-11 21:15:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 21:15:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04048s ago] ('resumestatus', 'pg_catalog')
2025-10-11 21:15:18 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-11 21:15:18 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-11 21:15:18 - main - INFO - main - lifespan - Database initialized successfully
2025-10-11 21:15:18 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-11 21:15:41 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-11 21:15:41 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-11 21:15:41 - main - INFO - main - lifespan - Database connections closed
2025-10-11 21:15:41 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-11 21:15:45 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-11 21:15:45 - main - INFO - main - lifespan - Logging configured
2025-10-11 21:15:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-11 21:15:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-11 21:15:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-11 21:15:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-11 21:15:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-11 21:15:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-11 21:15:45 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 21:15:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-11 21:15:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00106s] ()
2025-10-11 21:15:45 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-11 21:15:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 21:15:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00039s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 21:15:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 21:15:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.01597s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 21:15:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 21:15:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02379s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 21:15:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 21:15:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03154s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 21:15:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 21:15:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03925s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 21:15:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 21:15:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04659s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 21:15:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 21:15:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05425s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 21:15:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 21:15:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06164s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 21:15:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 21:15:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0689s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 21:15:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 21:15:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07504s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 21:15:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 21:15:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08181s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 21:15:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 21:15:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00038s] ('userrole', 'pg_catalog')
2025-10-11 21:15:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 21:15:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.01341s ago] ('conversationstatus', 'pg_catalog')
2025-10-11 21:15:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 21:15:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02091s ago] ('messagerole', 'pg_catalog')
2025-10-11 21:15:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 21:15:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02818s ago] ('jdstatus', 'pg_catalog')
2025-10-11 21:15:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 21:15:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03521s ago] ('scoringstatus', 'pg_catalog')
2025-10-11 21:15:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 21:15:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04364s ago] ('resumestatus', 'pg_catalog')
2025-10-11 21:15:45 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-11 21:15:45 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-11 21:15:45 - main - INFO - main - lifespan - Database initialized successfully
2025-10-11 21:15:45 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-11 21:16:10 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-11 21:16:10 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-11 21:16:10 - main - INFO - main - lifespan - Database connections closed
2025-10-11 21:16:10 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-11 21:16:14 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-11 21:16:14 - main - INFO - main - lifespan - Logging configured
2025-10-11 21:16:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-11 21:16:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-11 21:16:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-11 21:16:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-11 21:16:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-11 21:16:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-11 21:16:15 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 21:16:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-11 21:16:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00042s] ()
2025-10-11 21:16:15 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-11 21:16:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 21:16:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00118s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 21:16:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 21:16:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02989s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 21:16:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 21:16:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04518s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 21:16:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 21:16:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06172s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 21:16:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 21:16:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07724s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 21:16:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 21:16:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09241s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 21:16:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 21:16:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.109s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 21:16:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 21:16:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1234s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 21:16:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 21:16:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1394s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 21:16:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 21:16:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1623s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 21:16:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-11 21:16:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1752s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-11 21:16:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 21:16:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00080s] ('userrole', 'pg_catalog')
2025-10-11 21:16:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 21:16:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02533s ago] ('conversationstatus', 'pg_catalog')
2025-10-11 21:16:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 21:16:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04839s ago] ('messagerole', 'pg_catalog')
2025-10-11 21:16:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 21:16:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06341s ago] ('jdstatus', 'pg_catalog')
2025-10-11 21:16:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 21:16:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0783s ago] ('scoringstatus', 'pg_catalog')
2025-10-11 21:16:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-11 21:16:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09194s ago] ('resumestatus', 'pg_catalog')
2025-10-11 21:16:15 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-11 21:16:15 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-11 21:16:15 - main - INFO - main - lifespan - Database initialized successfully
2025-10-11 21:16:15 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-11 21:16:24 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/list
2025-10-11 21:16:24 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 21:16:24 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 21:16:24 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 21:16:24 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 21:16:24 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 21:16:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 21:16:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00101s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 21:16:24 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 21:16:24 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 21:16:24 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1795s
2025-10-11 21:16:24 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 21:16:24 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-base/?skip=0&limit=100
2025-10-11 21:16:24 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 21:16:24 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 21:16:24 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 21:16:24 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 21:16:24 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 21:16:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 21:16:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1755s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 21:16:24 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 21:16:24 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 21:16:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT knowledge_bases.name, knowledge_bases.description, knowledge_bases.is_public, knowledge_bases.is_searchable, knowledge_bases.meta_data, knowledge_bases.document_count, knowledge_bases.category, knowledge_bases.tags, knowledge_bases.id, knowledge_bases.created_at, knowledge_bases.updated_at, knowledge_bases.is_active, knowledge_bases.created_by, knowledge_bases.updated_by 
FROM knowledge_bases 
WHERE knowledge_bases.is_public = true ORDER BY knowledge_bases.created_at DESC 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-10-11 21:16:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00099s] (100, 0)
2025-10-11 21:16:24 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0719s
2025-10-11 21:16:24 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 21:16:24 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-assistant/documents
2025-10-11 21:16:24 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 21:16:24 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 21:16:24 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 21:16:24 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 21:16:24 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 21:16:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 21:16:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.2598s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 21:16:24 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 21:16:24 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 21:16:24 - app.services.lightweight_document_service - INFO - lightweight_document_service - __init__ - Lightweight document service initialized
2025-10-11 21:16:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT documents.filename, documents.original_filename, documents.file_path, documents.file_size, documents.file_hash, documents.mime_type, documents.extracted_content, documents.summary, documents.meta_data, documents.embedding, documents.category, documents.tags, documents.user_id, documents.knowledge_base_id, documents.id, documents.created_at, documents.updated_at, documents.is_active, documents.created_by, documents.updated_by 
FROM documents 
WHERE documents.user_id = $1::UUID ORDER BY documents.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-11 21:16:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00054s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 20, 0)
2025-10-11 21:16:24 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1087s
2025-10-11 21:16:24 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 21:16:27 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/list
2025-10-11 21:16:27 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 21:16:27 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 21:16:27 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 21:16:27 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 21:16:27 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 21:16:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 21:16:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2.792s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 21:16:27 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 21:16:27 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 21:16:27 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0390s
2025-10-11 21:16:27 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 21:16:27 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-base/?skip=0&limit=100
2025-10-11 21:16:27 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 21:16:27 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 21:16:27 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 21:16:27 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 21:16:27 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 21:16:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 21:16:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 3.016s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 21:16:27 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 21:16:27 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 21:16:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT knowledge_bases.name, knowledge_bases.description, knowledge_bases.is_public, knowledge_bases.is_searchable, knowledge_bases.meta_data, knowledge_bases.document_count, knowledge_bases.category, knowledge_bases.tags, knowledge_bases.id, knowledge_bases.created_at, knowledge_bases.updated_at, knowledge_bases.is_active, knowledge_bases.created_by, knowledge_bases.updated_by 
FROM knowledge_bases 
WHERE knowledge_bases.is_public = true ORDER BY knowledge_bases.created_at DESC 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-10-11 21:16:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2.95s ago] (100, 0)
2025-10-11 21:16:27 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.3364s
2025-10-11 21:16:27 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 21:16:27 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-assistant/documents
2025-10-11 21:16:27 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 21:16:27 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 21:16:27 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 21:16:27 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 21:16:27 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 21:16:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 21:16:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 3.207s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 21:16:27 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 21:16:27 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 21:16:27 - app.services.lightweight_document_service - INFO - lightweight_document_service - __init__ - Lightweight document service initialized
2025-10-11 21:16:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT documents.filename, documents.original_filename, documents.file_path, documents.file_size, documents.file_hash, documents.mime_type, documents.extracted_content, documents.summary, documents.meta_data, documents.embedding, documents.category, documents.tags, documents.user_id, documents.knowledge_base_id, documents.id, documents.created_at, documents.updated_at, documents.is_active, documents.created_by, documents.updated_by 
FROM documents 
WHERE documents.user_id = $1::UUID ORDER BY documents.created_at DESC 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-10-11 21:16:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2.945s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), 20, 0)
2025-10-11 21:16:27 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0485s
2025-10-11 21:16:27 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 21:16:32 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-base/?skip=0&limit=100
2025-10-11 21:16:32 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 21:16:32 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 21:16:32 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 21:16:32 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 21:16:32 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 21:16:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 21:16:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 8.192s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 21:16:32 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 21:16:32 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 21:16:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT knowledge_bases.name, knowledge_bases.description, knowledge_bases.is_public, knowledge_bases.is_searchable, knowledge_bases.meta_data, knowledge_bases.document_count, knowledge_bases.category, knowledge_bases.tags, knowledge_bases.id, knowledge_bases.created_at, knowledge_bases.updated_at, knowledge_bases.is_active, knowledge_bases.created_by, knowledge_bases.updated_by 
FROM knowledge_bases 
WHERE knowledge_bases.is_public = true ORDER BY knowledge_bases.created_at DESC 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-10-11 21:16:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 8.013s ago] (100, 0)
2025-10-11 21:16:32 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0560s
2025-10-11 21:16:32 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 21:16:34 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-assistant/documents?knowledge_base_id=f9716623-6e0d-4fc1-8032-33dcbd7948b1&skip=0&limit=20
2025-10-11 21:16:34 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 21:16:34 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 21:16:34 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 21:16:34 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 21:16:34 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 21:16:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 21:16:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 9.709s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 21:16:34 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 21:16:34 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 21:16:34 - app.services.lightweight_document_service - INFO - lightweight_document_service - __init__ - Lightweight document service initialized
2025-10-11 21:16:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT documents.filename, documents.original_filename, documents.file_path, documents.file_size, documents.file_hash, documents.mime_type, documents.extracted_content, documents.summary, documents.meta_data, documents.embedding, documents.category, documents.tags, documents.user_id, documents.knowledge_base_id, documents.id, documents.created_at, documents.updated_at, documents.is_active, documents.created_by, documents.updated_by 
FROM documents 
WHERE documents.user_id = $1::UUID AND documents.knowledge_base_id = $2::UUID ORDER BY documents.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-11 21:16:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00074s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('f9716623-6e0d-4fc1-8032-33dcbd7948b1'), 20, 0)
2025-10-11 21:16:34 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0609s
2025-10-11 21:16:34 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 21:16:37 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/hr-workflows/exam/generate
2025-10-11 21:16:37 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-11 21:16:37 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-11 21:16:37 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 21:16:37 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-11 21:16:37 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-11 21:16:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-11 21:16:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 13.23s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-11 21:16:37 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-11 21:16:37 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-11 21:16:38 - app.services.llm_service - INFO - llm_service - __init__ - Settings EMBEDDING_API_KEY: ***
2025-10-11 21:16:38 - app.services.llm_service - INFO - llm_service - __init__ - Settings EMBEDDING_BASE_URL: https://open.bigmodel.cn/api/paas/v4
2025-10-11 21:16:38 - app.services.llm_service - INFO - llm_service - __init__ - Settings EMBEDDING_MODEL: embedding-3
2025-10-11 21:16:38 - app.services.llm_service - INFO - llm_service - __init__ - Embedding config - API Key: ***
2025-10-11 21:16:38 - app.services.llm_service - INFO - llm_service - __init__ - Embedding config - Base URL: https://open.bigmodel.cn/api/paas/v4
2025-10-11 21:16:38 - app.services.llm_service - INFO - llm_service - __init__ - Embedding config - Model: embedding-3
2025-10-11 21:16:38 - app.services.compatible_embeddings - INFO - compatible_embeddings - __init__ - ZhipuOpenAI Embeddings initialized with model: embedding-3
2025-10-11 21:16:38 - app.services.embedding_service - INFO - embedding_service - _initialize - EmbeddingService initialized successfully with OpenAI embeddings
2025-10-11 21:16:38 - app.services.enhanced_document_service - INFO - enhanced_document_service - __init__ - Enhanced document service initialized with shared embedding service
2025-10-11 21:16:38 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT documents.filename, documents.original_filename, documents.file_path, documents.file_size, documents.file_hash, documents.mime_type, documents.extracted_content, documents.summary, documents.meta_data, documents.embedding, documents.category, documents.tags, documents.user_id, documents.knowledge_base_id, documents.id, documents.created_at, documents.updated_at, documents.is_active, documents.created_by, documents.updated_by 
FROM documents 
WHERE documents.id = $1::UUID AND documents.user_id = $2::UUID
2025-10-11 21:16:38 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00058s] (UUID('610c9fe3-e738-4e44-a2d0-21fb130aecb0'), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-11 21:16:38 - app.core.logging - WARNING - hr_workflows - generate_exam - Failed to read document 610c9fe3-e738-4e44-a2d0-21fb130aecb0: 'Document' object has no attribute 'content'
2025-10-11 21:16:38 - app.core.logging - INFO - dify_service - call_workflow_stream - Calling Dify workflow type 5 with query: 请基于以下文档内容生成一份management试卷
试卷标题：22
难度等级：中等
考试时长：90分钟
题目类型：单选题、多选题
题目数量：single：10题, multiple：5题, judge...
2025-10-11 21:16:39 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 1.8744s
2025-10-11 21:16:39 - httpx - INFO - _client - _send_single_request - HTTP Request: POST http://218.78.133.209:85/v1/chat-messages "HTTP/1.1 404 NOT FOUND"
2025-10-11 21:16:39 - app.core.logging - ERROR - dify_service - call_workflow_stream - Dify API error: 404 - b'{"code": "not_found", "message": "Conversation Not Exists.", "status": 404}\n'
2025-10-11 21:16:39 - app.core.logging - ERROR - dify_service - call_workflow_stream - Unexpected error in Dify workflow call: 
2025-10-11 21:16:39 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-11 21:16:39 - app.core.exception_handlers - ERROR - exception_handlers - generic_exception_handler - Unhandled Exception: Caught handled exception, but response already started.
Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 20, in __call__
    raise e
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 69, in app
    await response(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\responses.py", line 270, in __call__
    async with anyio.create_task_group() as task_group:
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\anyio\_backends\_asyncio.py", line 597, in __aexit__
    raise exceptions[0]
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\responses.py", line 273, in wrap
    await func()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\responses.py", line 262, in stream_response
    async for chunk in self.body_iterator:
  File "E:\workspace-py\hr-agent\backend\app\api\v1\endpoints\hr_workflows.py", line 1141, in generate_stream
    async for chunk in dify_service.call_workflow_stream(
  File "E:\workspace-py\hr-agent\backend\app\services\dify_service.py", line 109, in call_workflow_stream
    raise HTTPException(status_code=500, detail=f"Internal server error: {str(e)}")
fastapi.exceptions.HTTPException

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 109, in __call__
    await response(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\responses.py", line 270, in __call__
    async with anyio.create_task_group() as task_group:
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\anyio\_backends\_asyncio.py", line 597, in __aexit__
    raise exceptions[0]
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\responses.py", line 273, in wrap
    await func()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 134, in stream_response
    return await super().stream_response(send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\responses.py", line 262, in stream_response
    async for chunk in self.body_iterator:
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 98, in body_stream
    raise app_exc
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 109, in __call__
    await response(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\responses.py", line 270, in __call__
    async with anyio.create_task_group() as task_group:
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\anyio\_backends\_asyncio.py", line 597, in __aexit__
    raise exceptions[0]
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\responses.py", line 273, in wrap
    await func()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 134, in stream_response
    return await super().stream_response(send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\responses.py", line 262, in stream_response
    async for chunk in self.body_iterator:
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 98, in body_stream
    raise app_exc
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\exceptions.py", line 83, in __call__
    raise RuntimeError(msg) from exc
RuntimeError: Caught handled exception, but response already started.
2025-10-11 21:16:54 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-11 21:16:54 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-11 21:16:54 - main - INFO - main - lifespan - Database connections closed
2025-10-11 21:16:54 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-12 14:17:58 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-12 14:17:58 - main - INFO - main - lifespan - Logging configured
2025-10-12 14:17:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-12 14:17:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 14:17:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-12 14:17:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 14:17:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-12 14:17:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 14:17:59 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 14:17:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-12 14:17:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00037s] ()
2025-10-12 14:17:59 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-12 14:17:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 14:17:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00110s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 14:17:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 14:17:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03809s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 14:17:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 14:17:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05753s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 14:17:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 14:17:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07605s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 14:17:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 14:17:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09462s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 14:17:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 14:17:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1134s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 14:17:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 14:17:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1315s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 14:17:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 14:17:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.15s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 14:17:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 14:17:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1675s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 14:17:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 14:17:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1833s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 14:17:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 14:17:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1986s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 14:17:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 14:17:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.2152s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 14:17:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 14:17:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.2322s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 14:17:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 14:17:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00106s] ('userrole', 'pg_catalog')
2025-10-12 14:17:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 14:17:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0328s ago] ('conversationstatus', 'pg_catalog')
2025-10-12 14:17:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 14:17:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05061s ago] ('messagerole', 'pg_catalog')
2025-10-12 14:17:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 14:17:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06745s ago] ('jdstatus', 'pg_catalog')
2025-10-12 14:17:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 14:17:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08409s ago] ('scoringstatus', 'pg_catalog')
2025-10-12 14:17:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 14:17:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1042s ago] ('resumestatus', 'pg_catalog')
2025-10-12 14:17:59 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 14:17:59 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-12 14:17:59 - main - INFO - main - lifespan - Database initialized successfully
2025-10-12 14:17:59 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-12 17:20:45 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/list
2025-10-12 17:20:45 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-12 17:20:45 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-12 17:20:45 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 17:20:45 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 17:20:45 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 17:20:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-12 17:20:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00095s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-12 17:20:54 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/list
2025-10-12 17:20:54 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-12 17:20:54 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-12 17:20:54 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 17:20:54 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 17:20:54 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 17:20:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-12 17:20:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 9.001s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-12 17:20:54 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-12 17:20:54 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-12 17:20:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT count(exams.id) AS count_1 
FROM exams
2025-10-12 17:20:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00062s] ()
2025-10-12 17:20:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams ORDER BY exams.created_at DESC 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-10-12 17:20:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00109s] (20, 0)
2025-10-12 17:20:54 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.4435s
2025-10-12 17:20:54 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 17:21:04 - app.services.user_service - ERROR - user_service - get_user - Error getting user 663c3a32-596c-4fec-955e-6eace86eb281: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-12 17:21:04 - app.api.deps - ERROR - deps - get_current_user - ❌ Error in get_current_user: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-12 17:21:04 - app.core.exception_handlers - ERROR - exception_handlers - sqlalchemy_exception_handler - Database Error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\asyncio\selector_events.py", line 862, in _read_ready__data_received
    data = self._sock.recv(self.max_size)
ConnectionResetError: [WinError 10054] 远程主机强迫关闭了一个现有的连接。

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 859, in _start_transaction
    await self._transaction.start()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\asyncpg\transaction.py", line 146, in start
    await self._connection.execute(query)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\asyncpg\connection.py", line 350, in execute
    result = await self._protocol.query(query, timeout)
  File "asyncpg\protocol\protocol.pyx", line 374, in query
asyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 527, in _prepare_and_execute
    await adapt_connection._start_transaction()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 861, in _start_transaction
    self._handle_exception(error)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.Error: <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 20, in __call__
    raise e
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 66, in app
    response = await func(request)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\routing.py", line 264, in app
    solved_result = await solve_dependencies(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\dependencies\utils.py", line 592, in solve_dependencies
    solved = await call(**sub_values)
  File "E:\workspace-py\hr-agent\backend\app\api\deps.py", line 56, in get_current_user
    user = await user_service.get_user(user_uuid)
  File "E:\workspace-py\hr-agent\backend\app\services\user_service.py", line 112, in get_user
    result = await self.db.execute(query)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 455, in execute
    result = await greenlet_spawn(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 190, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\orm\session.py", line 2308, in execute
    return self._execute_internal(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\orm\session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 527, in _prepare_and_execute
    await adapt_connection._start_transaction()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 861, in _start_transaction
    self._handle_exception(error)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.DBAPIError: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-12 17:21:04 - app.core.middleware - INFO - middleware - dispatch - Response: 500 - Processing time: 19.2680s
2025-10-12 17:21:36 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-12 17:21:36 - main - INFO - main - lifespan - Logging configured
2025-10-12 17:21:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-12 17:21:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 17:21:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-12 17:21:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 17:21:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-12 17:21:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 17:21:36 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 17:21:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-12 17:21:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00082s] ()
2025-10-12 17:21:36 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-12 17:21:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 17:21:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00086s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 17:21:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 17:21:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03494s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 17:21:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 17:21:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05517s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 17:21:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 17:21:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07247s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 17:21:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 17:21:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08956s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 17:21:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 17:21:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1077s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 17:21:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 17:21:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1263s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 17:21:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 17:21:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1437s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 17:21:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 17:21:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1593s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 17:21:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 17:21:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1748s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 17:21:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 17:21:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1888s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 17:21:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 17:21:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.2033s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 17:21:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 17:21:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.2179s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 17:21:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 17:21:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00091s] ('userrole', 'pg_catalog')
2025-10-12 17:21:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 17:21:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02835s ago] ('conversationstatus', 'pg_catalog')
2025-10-12 17:21:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 17:21:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04318s ago] ('messagerole', 'pg_catalog')
2025-10-12 17:21:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 17:21:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05897s ago] ('jdstatus', 'pg_catalog')
2025-10-12 17:21:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 17:21:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07479s ago] ('scoringstatus', 'pg_catalog')
2025-10-12 17:21:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 17:21:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09002s ago] ('resumestatus', 'pg_catalog')
2025-10-12 17:21:37 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 17:21:37 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-12 17:21:37 - main - INFO - main - lifespan - Database initialized successfully
2025-10-12 17:21:37 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-12 17:52:00 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/hr-workflows/exam/generate
2025-10-12 17:52:00 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-12 17:52:00 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-12 17:52:00 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 17:52:00 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 17:52:00 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 17:52:00 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-12 17:52:00 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00132s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-12 17:52:19 - app.services.user_service - ERROR - user_service - get_user - Error getting user 663c3a32-596c-4fec-955e-6eace86eb281: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-12 17:52:19 - app.api.deps - ERROR - deps - get_current_user - ❌ Error in get_current_user: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-12 17:52:19 - app.core.exception_handlers - ERROR - exception_handlers - sqlalchemy_exception_handler - Database Error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\asyncio\selector_events.py", line 862, in _read_ready__data_received
    data = self._sock.recv(self.max_size)
ConnectionResetError: [WinError 10054] 远程主机强迫关闭了一个现有的连接。

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 859, in _start_transaction
    await self._transaction.start()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\asyncpg\transaction.py", line 146, in start
    await self._connection.execute(query)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\asyncpg\connection.py", line 350, in execute
    result = await self._protocol.query(query, timeout)
  File "asyncpg\protocol\protocol.pyx", line 374, in query
asyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 527, in _prepare_and_execute
    await adapt_connection._start_transaction()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 861, in _start_transaction
    self._handle_exception(error)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.Error: <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 20, in __call__
    raise e
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 66, in app
    response = await func(request)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\routing.py", line 264, in app
    solved_result = await solve_dependencies(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\dependencies\utils.py", line 592, in solve_dependencies
    solved = await call(**sub_values)
  File "E:\workspace-py\hr-agent\backend\app\api\deps.py", line 56, in get_current_user
    user = await user_service.get_user(user_uuid)
  File "E:\workspace-py\hr-agent\backend\app\services\user_service.py", line 112, in get_user
    result = await self.db.execute(query)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 455, in execute
    result = await greenlet_spawn(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 190, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\orm\session.py", line 2308, in execute
    return self._execute_internal(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\orm\session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 527, in _prepare_and_execute
    await adapt_connection._start_transaction()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 861, in _start_transaction
    self._handle_exception(error)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.DBAPIError: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-12 17:52:19 - app.core.middleware - INFO - middleware - dispatch - Response: 500 - Processing time: 19.3381s
2025-10-12 17:52:26 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/hr-workflows/exam/generate
2025-10-12 17:52:26 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-12 17:52:26 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-12 17:52:26 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 17:52:26 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 17:52:26 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 17:52:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-12 17:52:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 26.39s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-12 17:52:27 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-12 17:52:27 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-12 17:52:27 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 17:52:27 - app.core.exception_handlers - WARNING - exception_handlers - validation_exception_handler - Validation Error: [{'type': 'string_type', 'loc': ('body', 'knowledge_files', 0), 'msg': 'Input should be a valid string', 'input': {'id': '610c9fe3-e738-4e44-a2d0-21fb130aecb0', 'fileName': '湖南省水文条例_20250731.docx'}, 'url': 'https://errors.pydantic.dev/2.11/v/string_type'}]
2025-10-12 17:52:27 - app.core.middleware - INFO - middleware - dispatch - Response: 422 - Processing time: 0.3253s
2025-10-12 17:53:53 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/list
2025-10-12 17:53:53 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-12 17:53:53 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-12 17:53:53 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 17:53:53 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 17:53:53 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 17:53:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-12 17:53:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 112.6s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-12 17:53:53 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-12 17:53:53 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-12 17:53:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT count(exams.id) AS count_1 
FROM exams
2025-10-12 17:53:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00207s] ()
2025-10-12 17:53:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams ORDER BY exams.created_at DESC 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-10-12 17:53:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00124s] (20, 0)
2025-10-12 17:53:53 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1175s
2025-10-12 17:53:53 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 17:54:09 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-12 17:54:09 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-12 17:54:09 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-12 17:54:09 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 17:54:09 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 17:54:09 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 17:54:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-12 17:54:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 128.9s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-12 17:54:09 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-12 17:54:09 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-12 17:54:09 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-12 17:54:09 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-12 17:54:09 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-12 17:54:09 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-12 17:54:09 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0328s
2025-10-12 17:54:09 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 17:54:09 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-12 17:54:09 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-12 17:54:09 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-12 17:54:09 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 17:54:09 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 17:54:09 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 17:54:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-12 17:54:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 129.1s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-12 17:54:09 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-12 17:54:09 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-12 17:54:09 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-12 17:54:09 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-12 17:54:09 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-12 17:54:09 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-12 17:54:09 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.2409s
2025-10-12 17:54:09 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 17:55:09 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-base/?skip=0&limit=100
2025-10-12 17:55:09 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-12 17:55:09 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-12 17:55:09 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 17:55:09 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 17:55:09 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 17:55:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-12 17:55:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 189.1s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-12 17:55:09 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-12 17:55:09 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-12 17:55:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT knowledge_bases.name, knowledge_bases.description, knowledge_bases.is_public, knowledge_bases.is_searchable, knowledge_bases.meta_data, knowledge_bases.document_count, knowledge_bases.category, knowledge_bases.tags, knowledge_bases.id, knowledge_bases.created_at, knowledge_bases.updated_at, knowledge_bases.is_active, knowledge_bases.created_by, knowledge_bases.updated_by 
FROM knowledge_bases 
WHERE knowledge_bases.is_public = true ORDER BY knowledge_bases.created_at DESC 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-10-12 17:55:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00111s] (100, 0)
2025-10-12 17:55:09 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0681s
2025-10-12 17:55:09 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 17:55:21 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-base/?skip=0&limit=100
2025-10-12 17:55:21 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-12 17:55:21 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-12 17:55:21 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 17:55:21 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 17:55:21 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 17:55:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-12 17:55:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 200.4s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-12 17:55:21 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-12 17:55:21 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-12 17:55:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT knowledge_bases.name, knowledge_bases.description, knowledge_bases.is_public, knowledge_bases.is_searchable, knowledge_bases.meta_data, knowledge_bases.document_count, knowledge_bases.category, knowledge_bases.tags, knowledge_bases.id, knowledge_bases.created_at, knowledge_bases.updated_at, knowledge_bases.is_active, knowledge_bases.created_by, knowledge_bases.updated_by 
FROM knowledge_bases 
WHERE knowledge_bases.is_public = true ORDER BY knowledge_bases.created_at DESC 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-10-12 17:55:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 11.37s ago] (100, 0)
2025-10-12 17:55:21 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0594s
2025-10-12 17:55:21 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 17:55:22 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-assistant/documents?knowledge_base_id=f9716623-6e0d-4fc1-8032-33dcbd7948b1&skip=0&limit=20
2025-10-12 17:55:22 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-12 17:55:22 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-12 17:55:22 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 17:55:22 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 17:55:22 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 17:55:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-12 17:55:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 202.2s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-12 17:55:22 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-12 17:55:22 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-12 17:55:22 - app.services.lightweight_document_service - INFO - lightweight_document_service - __init__ - Lightweight document service initialized
2025-10-12 17:55:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT documents.filename, documents.original_filename, documents.file_path, documents.file_size, documents.file_hash, documents.mime_type, documents.extracted_content, documents.summary, documents.meta_data, documents.embedding, documents.category, documents.tags, documents.user_id, documents.knowledge_base_id, documents.id, documents.created_at, documents.updated_at, documents.is_active, documents.created_by, documents.updated_by 
FROM documents 
WHERE documents.user_id = $1::UUID AND documents.knowledge_base_id = $2::UUID ORDER BY documents.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-12 17:55:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00167s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('f9716623-6e0d-4fc1-8032-33dcbd7948b1'), 20, 0)
2025-10-12 17:55:22 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0874s
2025-10-12 17:55:22 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 17:55:25 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/hr-workflows/exam/generate
2025-10-12 17:55:25 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-12 17:55:25 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-12 17:55:25 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 17:55:25 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 17:55:25 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 17:55:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-12 17:55:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 205.2s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-12 17:55:25 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-12 17:55:25 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-12 17:55:26 - app.services.llm_service - INFO - llm_service - __init__ - Settings EMBEDDING_API_KEY: ***
2025-10-12 17:55:26 - app.services.llm_service - INFO - llm_service - __init__ - Settings EMBEDDING_BASE_URL: https://open.bigmodel.cn/api/paas/v4
2025-10-12 17:55:26 - app.services.llm_service - INFO - llm_service - __init__ - Settings EMBEDDING_MODEL: embedding-3
2025-10-12 17:55:26 - app.services.llm_service - INFO - llm_service - __init__ - Embedding config - API Key: ***
2025-10-12 17:55:26 - app.services.llm_service - INFO - llm_service - __init__ - Embedding config - Base URL: https://open.bigmodel.cn/api/paas/v4
2025-10-12 17:55:26 - app.services.llm_service - INFO - llm_service - __init__ - Embedding config - Model: embedding-3
2025-10-12 17:55:27 - app.services.compatible_embeddings - INFO - compatible_embeddings - __init__ - ZhipuOpenAI Embeddings initialized with model: embedding-3
2025-10-12 17:55:27 - app.services.embedding_service - INFO - embedding_service - _initialize - EmbeddingService initialized successfully with OpenAI embeddings
2025-10-12 17:55:27 - app.services.enhanced_document_service - INFO - enhanced_document_service - __init__ - Enhanced document service initialized with shared embedding service
2025-10-12 17:55:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT documents.filename, documents.original_filename, documents.file_path, documents.file_size, documents.file_hash, documents.mime_type, documents.extracted_content, documents.summary, documents.meta_data, documents.embedding, documents.category, documents.tags, documents.user_id, documents.knowledge_base_id, documents.id, documents.created_at, documents.updated_at, documents.is_active, documents.created_by, documents.updated_by 
FROM documents 
WHERE documents.id = $1::UUID AND documents.user_id = $2::UUID
2025-10-12 17:55:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00143s] (UUID('610c9fe3-e738-4e44-a2d0-21fb130aecb0'), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-12 17:55:27 - app.core.logging - INFO - dify_service - call_workflow_stream - Calling Dify workflow type 5 with query: 请基于以下文档内容生成一份试卷2试卷
试卷标题：试卷2
难度等级：中等
考试时长：90分钟
题目类型：单选题、多选题
题目数量：single_choice：1题, multiple_choice：1题...
2025-10-12 17:55:27 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 2.1569s
2025-10-12 17:55:28 - httpx - INFO - _client - _send_single_request - HTTP Request: POST http://218.78.133.209:85/v1/chat-messages "HTTP/1.1 200 OK"
2025-10-12 17:55:33 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 17:55:41 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/hr-workflows/exam/save
2025-10-12 17:55:41 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-12 17:55:41 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-12 17:55:41 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 17:55:41 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 17:55:41 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 17:55:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-12 17:55:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 220.7s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-12 17:55:41 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-12 17:55:41 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-12 17:55:41 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 17:55:41 - app.core.exception_handlers - WARNING - exception_handlers - validation_exception_handler - Validation Error: [{'type': 'string_type', 'loc': ('body', 'knowledge_files', 0), 'msg': 'Input should be a valid string', 'input': {'id': '610c9fe3-e738-4e44-a2d0-21fb130aecb0', 'fileName': '湖南省水文条例_20250731.docx'}, 'url': 'https://errors.pydantic.dev/2.11/v/string_type'}]
2025-10-12 17:55:41 - app.core.middleware - INFO - middleware - dispatch - Response: 422 - Processing time: 0.0412s
2025-10-12 17:56:16 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/list
2025-10-12 17:56:16 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-12 17:56:16 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-12 17:56:16 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 17:56:16 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 17:56:16 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 17:56:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-12 17:56:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 255.9s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-12 17:56:16 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-12 17:56:16 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-12 17:56:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT count(exams.id) AS count_1 
FROM exams
2025-10-12 17:56:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 143.3s ago] ()
2025-10-12 17:56:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams ORDER BY exams.created_at DESC 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-10-12 17:56:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 143.2s ago] (20, 0)
2025-10-12 17:56:16 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0953s
2025-10-12 17:56:16 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 17:57:01 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-12 17:57:01 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-12 17:57:01 - main - INFO - main - lifespan - Database connections closed
2025-10-12 17:57:01 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-12 17:57:05 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-12 17:57:05 - main - INFO - main - lifespan - Logging configured
2025-10-12 17:57:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-12 17:57:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 17:57:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-12 17:57:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 17:57:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-12 17:57:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 17:57:06 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 17:57:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-12 17:57:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00033s] ()
2025-10-12 17:57:06 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-12 17:57:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 17:57:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00103s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 17:57:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 17:57:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02789s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 17:57:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 17:57:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04378s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 17:57:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 17:57:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05828s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 17:57:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 17:57:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07173s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 17:57:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 17:57:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08574s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 17:57:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 17:57:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1021s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 17:57:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 17:57:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1192s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 17:57:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 17:57:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1347s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 17:57:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 17:57:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1542s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 17:57:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 17:57:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1691s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 17:57:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 17:57:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.185s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 17:57:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 17:57:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.198s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 17:57:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 17:57:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00098s] ('userrole', 'pg_catalog')
2025-10-12 17:57:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 17:57:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03288s ago] ('conversationstatus', 'pg_catalog')
2025-10-12 17:57:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 17:57:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04636s ago] ('messagerole', 'pg_catalog')
2025-10-12 17:57:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 17:57:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05848s ago] ('jdstatus', 'pg_catalog')
2025-10-12 17:57:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 17:57:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07052s ago] ('scoringstatus', 'pg_catalog')
2025-10-12 17:57:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 17:57:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08339s ago] ('resumestatus', 'pg_catalog')
2025-10-12 17:57:06 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 17:57:06 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-12 17:57:06 - main - INFO - main - lifespan - Database initialized successfully
2025-10-12 17:57:06 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-12 17:57:10 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-12 17:57:10 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-12 17:57:10 - main - INFO - main - lifespan - Database connections closed
2025-10-12 17:57:10 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-12 17:57:14 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-12 17:57:14 - main - INFO - main - lifespan - Logging configured
2025-10-12 17:57:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-12 17:57:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 17:57:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-12 17:57:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 17:57:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-12 17:57:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 17:57:14 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 17:57:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-12 17:57:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00028s] ()
2025-10-12 17:57:14 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-12 17:57:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 17:57:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00034s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 17:57:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 17:57:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02286s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 17:57:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 17:57:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03401s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 17:57:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 17:57:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04442s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 17:57:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 17:57:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05485s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 17:57:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 17:57:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06512s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 17:57:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 17:57:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07542s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 17:57:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 17:57:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08621s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 17:57:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 17:57:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09706s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 17:57:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 17:57:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1067s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 17:57:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 17:57:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1157s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 17:57:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 17:57:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1246s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 17:57:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 17:57:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1345s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 17:57:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 17:57:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00036s] ('userrole', 'pg_catalog')
2025-10-12 17:57:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 17:57:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02326s ago] ('conversationstatus', 'pg_catalog')
2025-10-12 17:57:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 17:57:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0373s ago] ('messagerole', 'pg_catalog')
2025-10-12 17:57:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 17:57:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05025s ago] ('jdstatus', 'pg_catalog')
2025-10-12 17:57:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 17:57:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06569s ago] ('scoringstatus', 'pg_catalog')
2025-10-12 17:57:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 17:57:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07918s ago] ('resumestatus', 'pg_catalog')
2025-10-12 17:57:14 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 17:57:15 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-12 17:57:15 - main - INFO - main - lifespan - Database initialized successfully
2025-10-12 17:57:15 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-12 17:57:23 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-12 17:57:23 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-12 17:57:23 - main - INFO - main - lifespan - Database connections closed
2025-10-12 17:57:23 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-12 17:57:27 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-12 17:57:27 - main - INFO - main - lifespan - Logging configured
2025-10-12 17:57:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-12 17:57:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 17:57:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-12 17:57:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 17:57:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-12 17:57:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 17:57:27 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 17:57:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-12 17:57:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00039s] ()
2025-10-12 17:57:27 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-12 17:57:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 17:57:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00045s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 17:57:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 17:57:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0199s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 17:57:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 17:57:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03711s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 17:57:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 17:57:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04744s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 17:57:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 17:57:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05747s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 17:57:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 17:57:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06738s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 17:57:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 17:57:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07717s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 17:57:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 17:57:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08652s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 17:57:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 17:57:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09603s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 17:57:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 17:57:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1042s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 17:57:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 17:57:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1126s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 17:57:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 17:57:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1318s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 17:57:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 17:57:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.14s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 17:57:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 17:57:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00059s] ('userrole', 'pg_catalog')
2025-10-12 17:57:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 17:57:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.01718s ago] ('conversationstatus', 'pg_catalog')
2025-10-12 17:57:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 17:57:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02674s ago] ('messagerole', 'pg_catalog')
2025-10-12 17:57:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 17:57:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03547s ago] ('jdstatus', 'pg_catalog')
2025-10-12 17:57:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 17:57:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04473s ago] ('scoringstatus', 'pg_catalog')
2025-10-12 17:57:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 17:57:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05429s ago] ('resumestatus', 'pg_catalog')
2025-10-12 17:57:28 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 17:57:28 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-12 17:57:28 - main - INFO - main - lifespan - Database initialized successfully
2025-10-12 17:57:28 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-12 17:57:31 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/list
2025-10-12 17:57:31 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-12 17:57:31 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-12 17:57:31 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 17:57:31 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 17:57:31 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 17:57:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-12 17:57:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00103s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-12 17:57:31 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-12 17:57:31 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-12 17:57:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT count(exams.id) AS count_1 
FROM exams
2025-10-12 17:57:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00088s] ()
2025-10-12 17:57:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams ORDER BY exams.created_at DESC 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-10-12 17:57:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00066s] (20, 0)
2025-10-12 17:57:31 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1902s
2025-10-12 17:57:31 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 17:57:38 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/list
2025-10-12 17:57:38 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-12 17:57:38 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-12 17:57:38 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 17:57:38 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 17:57:38 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 17:57:38 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-12 17:57:38 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 7.55s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-12 17:57:38 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-12 17:57:38 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-12 17:57:38 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT count(exams.id) AS count_1 
FROM exams
2025-10-12 17:57:38 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 7.508s ago] ()
2025-10-12 17:57:38 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams ORDER BY exams.created_at DESC 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-10-12 17:57:38 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 7.495s ago] (20, 0)
2025-10-12 17:57:39 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0712s
2025-10-12 17:57:39 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 17:57:45 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/list
2025-10-12 17:57:45 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-12 17:57:45 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-12 17:57:45 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 17:57:45 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 17:57:45 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 17:57:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-12 17:57:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 14.1s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-12 17:57:45 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-12 17:57:45 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-12 17:57:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT count(exams.id) AS count_1 
FROM exams
2025-10-12 17:57:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 14.03s ago] ()
2025-10-12 17:57:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams ORDER BY exams.created_at DESC 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-10-12 17:57:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 14.02s ago] (20, 0)
2025-10-12 17:57:45 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0476s
2025-10-12 17:57:45 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 17:58:03 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/list
2025-10-12 17:58:03 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-12 17:58:03 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-12 17:58:03 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 17:58:03 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 17:58:03 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 17:58:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-12 17:58:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 32.5s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-12 17:58:03 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-12 17:58:03 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-12 17:58:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT count(exams.id) AS count_1 
FROM exams
2025-10-12 17:58:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 32.44s ago] ()
2025-10-12 17:58:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams ORDER BY exams.created_at DESC 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-10-12 17:58:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 32.43s ago] (20, 0)
2025-10-12 17:58:03 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0426s
2025-10-12 17:58:03 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 17:58:15 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-12 17:58:15 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-12 17:58:15 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-12 17:58:15 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 17:58:15 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 17:58:15 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 17:58:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-12 17:58:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 44.1s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-12 17:58:15 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-12 17:58:15 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-12 17:58:15 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-12 17:58:15 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-12 17:58:15 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-12 17:58:15 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-12 17:58:15 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0319s
2025-10-12 17:58:15 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 17:58:15 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-12 17:58:15 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-12 17:58:15 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-12 17:58:15 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 17:58:15 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 17:58:15 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 17:58:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-12 17:58:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 44.32s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-12 17:58:15 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-12 17:58:15 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-12 17:58:15 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-12 17:58:15 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-12 17:58:15 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-12 17:58:15 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-12 17:58:15 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.3282s
2025-10-12 17:58:15 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 18:02:51 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/a9c0c6f0-5f09-4757-8bc4-ef2f35ca3430
2025-10-12 18:02:51 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-12 18:02:51 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-12 18:02:51 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 18:02:51 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 18:02:51 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 18:02:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-12 18:02:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 320.1s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-12 18:03:00 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-base/?skip=0&limit=100
2025-10-12 18:03:00 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-12 18:03:00 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-12 18:03:00 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 18:03:00 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 18:03:00 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 18:03:00 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-12 18:03:00 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 328.7s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-12 18:03:04 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-12 18:03:04 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-12 18:03:04 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-12 18:03:04 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 18:03:04 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 18:03:04 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-12 18:03:04 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-12 18:03:04 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-12 18:03:04 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 18:03:04 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 18:03:04 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 18:03:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-12 18:03:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 333.3s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-12 18:03:04 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 18:03:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-12 18:03:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 333.3s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-12 18:03:04 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-12 18:03:04 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-12 18:03:04 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-12 18:03:04 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-12 18:03:04 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-12 18:03:04 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-12 18:03:04 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.2303s
2025-10-12 18:03:04 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 18:03:04 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-12 18:03:04 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-12 18:03:04 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-12 18:03:04 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-12 18:03:04 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-12 18:03:04 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-12 18:03:04 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.3042s
2025-10-12 18:03:04 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 18:03:05 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/list
2025-10-12 18:03:05 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-12 18:03:05 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-12 18:03:05 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 18:03:05 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 18:03:05 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 18:03:05 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-12 18:03:05 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 333.7s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-12 18:03:05 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-12 18:03:05 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-12 18:03:05 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT count(exams.id) AS count_1 
FROM exams
2025-10-12 18:03:05 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 333.6s ago] ()
2025-10-12 18:03:05 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams ORDER BY exams.created_at DESC 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-10-12 18:03:05 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 333.6s ago] (20, 0)
2025-10-12 18:03:05 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0676s
2025-10-12 18:03:05 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 18:03:06 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/a9c0c6f0-5f09-4757-8bc4-ef2f35ca3430
2025-10-12 18:03:06 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-12 18:03:06 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-12 18:03:06 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 18:03:06 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 18:03:06 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 18:03:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-12 18:03:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 335.4s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-12 18:03:06 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-12 18:03:06 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-12 18:03:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 18:03:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00068s] ('a9c0c6f0-5f09-4757-8bc4-ef2f35ca3430',)
2025-10-12 18:03:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 18:03:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00231s] (UUID('a9c0c6f0-5f09-4757-8bc4-ef2f35ca3430'),)
2025-10-12 18:03:06 - app.core.logging - INFO - hr_workflows - get_exam_detail - Exam detail retrieved successfully: a9c0c6f0-5f09-4757-8bc4-ef2f35ca3430
2025-10-12 18:03:06 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1198s
2025-10-12 18:03:06 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 18:03:10 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-base/?skip=0&limit=100
2025-10-12 18:03:10 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-12 18:03:10 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-12 18:03:10 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 18:03:10 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 18:03:10 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 18:03:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-12 18:03:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 339.2s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-12 18:03:10 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-12 18:03:10 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-12 18:03:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT knowledge_bases.name, knowledge_bases.description, knowledge_bases.is_public, knowledge_bases.is_searchable, knowledge_bases.meta_data, knowledge_bases.document_count, knowledge_bases.category, knowledge_bases.tags, knowledge_bases.id, knowledge_bases.created_at, knowledge_bases.updated_at, knowledge_bases.is_active, knowledge_bases.created_by, knowledge_bases.updated_by 
FROM knowledge_bases 
WHERE knowledge_bases.is_public = true ORDER BY knowledge_bases.created_at DESC 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-10-12 18:03:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00239s] (100, 0)
2025-10-12 18:03:10 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0644s
2025-10-12 18:03:10 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 18:03:10 - app.services.user_service - ERROR - user_service - get_user - Error getting user 663c3a32-596c-4fec-955e-6eace86eb281: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-12 18:03:10 - app.api.deps - ERROR - deps - get_current_user - ❌ Error in get_current_user: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-12 18:03:10 - app.core.exception_handlers - ERROR - exception_handlers - sqlalchemy_exception_handler - Database Error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\asyncio\selector_events.py", line 862, in _read_ready__data_received
    data = self._sock.recv(self.max_size)
ConnectionResetError: [WinError 10054] 远程主机强迫关闭了一个现有的连接。

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 859, in _start_transaction
    await self._transaction.start()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\asyncpg\transaction.py", line 146, in start
    await self._connection.execute(query)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\asyncpg\connection.py", line 350, in execute
    result = await self._protocol.query(query, timeout)
  File "asyncpg\protocol\protocol.pyx", line 374, in query
asyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 527, in _prepare_and_execute
    await adapt_connection._start_transaction()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 861, in _start_transaction
    self._handle_exception(error)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.Error: <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 20, in __call__
    raise e
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 66, in app
    response = await func(request)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\routing.py", line 264, in app
    solved_result = await solve_dependencies(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\dependencies\utils.py", line 592, in solve_dependencies
    solved = await call(**sub_values)
  File "E:\workspace-py\hr-agent\backend\app\api\deps.py", line 56, in get_current_user
    user = await user_service.get_user(user_uuid)
  File "E:\workspace-py\hr-agent\backend\app\services\user_service.py", line 112, in get_user
    result = await self.db.execute(query)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 455, in execute
    result = await greenlet_spawn(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 190, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\orm\session.py", line 2308, in execute
    return self._execute_internal(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\orm\session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 527, in _prepare_and_execute
    await adapt_connection._start_transaction()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 861, in _start_transaction
    self._handle_exception(error)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.DBAPIError: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-12 18:03:10 - app.core.middleware - INFO - middleware - dispatch - Response: 500 - Processing time: 19.2043s
2025-10-12 18:03:17 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-base/?skip=0&limit=100
2025-10-12 18:03:17 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-12 18:03:17 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-12 18:03:17 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 18:03:17 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 18:03:18 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 18:03:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-12 18:03:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 346.8s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-12 18:03:18 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-12 18:03:18 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-12 18:03:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT knowledge_bases.name, knowledge_bases.description, knowledge_bases.is_public, knowledge_bases.is_searchable, knowledge_bases.meta_data, knowledge_bases.document_count, knowledge_bases.category, knowledge_bases.tags, knowledge_bases.id, knowledge_bases.created_at, knowledge_bases.updated_at, knowledge_bases.is_active, knowledge_bases.created_by, knowledge_bases.updated_by 
FROM knowledge_bases 
WHERE knowledge_bases.is_public = true ORDER BY knowledge_bases.created_at DESC 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-10-12 18:03:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 7.827s ago] (100, 0)
2025-10-12 18:03:18 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.6543s
2025-10-12 18:03:18 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 18:03:19 - app.services.user_service - ERROR - user_service - get_user - Error getting user 663c3a32-596c-4fec-955e-6eace86eb281: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-12 18:03:19 - app.api.deps - ERROR - deps - get_current_user - ❌ Error in get_current_user: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-12 18:03:19 - app.core.exception_handlers - ERROR - exception_handlers - sqlalchemy_exception_handler - Database Error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\asyncio\selector_events.py", line 862, in _read_ready__data_received
    data = self._sock.recv(self.max_size)
ConnectionResetError: [WinError 10054] 远程主机强迫关闭了一个现有的连接。

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 859, in _start_transaction
    await self._transaction.start()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\asyncpg\transaction.py", line 146, in start
    await self._connection.execute(query)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\asyncpg\connection.py", line 350, in execute
    result = await self._protocol.query(query, timeout)
  File "asyncpg\protocol\protocol.pyx", line 374, in query
asyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 527, in _prepare_and_execute
    await adapt_connection._start_transaction()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 861, in _start_transaction
    self._handle_exception(error)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.Error: <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 20, in __call__
    raise e
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 66, in app
    response = await func(request)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\routing.py", line 264, in app
    solved_result = await solve_dependencies(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\dependencies\utils.py", line 592, in solve_dependencies
    solved = await call(**sub_values)
  File "E:\workspace-py\hr-agent\backend\app\api\deps.py", line 56, in get_current_user
    user = await user_service.get_user(user_uuid)
  File "E:\workspace-py\hr-agent\backend\app\services\user_service.py", line 112, in get_user
    result = await self.db.execute(query)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 455, in execute
    result = await greenlet_spawn(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 190, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\orm\session.py", line 2308, in execute
    return self._execute_internal(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\orm\session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 527, in _prepare_and_execute
    await adapt_connection._start_transaction()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 861, in _start_transaction
    self._handle_exception(error)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.DBAPIError: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-12 18:03:19 - app.core.middleware - INFO - middleware - dispatch - Response: 500 - Processing time: 19.1966s
2025-10-12 18:03:19 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/knowledge-assistant/documents?knowledge_base_id=f9716623-6e0d-4fc1-8032-33dcbd7948b1&skip=0&limit=20
2025-10-12 18:03:19 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-12 18:03:19 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-12 18:03:19 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 18:03:19 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 18:03:20 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 18:03:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-12 18:03:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 348.7s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-12 18:03:20 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-12 18:03:20 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-12 18:03:20 - app.services.lightweight_document_service - INFO - lightweight_document_service - __init__ - Lightweight document service initialized
2025-10-12 18:03:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT documents.filename, documents.original_filename, documents.file_path, documents.file_size, documents.file_hash, documents.mime_type, documents.extracted_content, documents.summary, documents.meta_data, documents.embedding, documents.category, documents.tags, documents.user_id, documents.knowledge_base_id, documents.id, documents.created_at, documents.updated_at, documents.is_active, documents.created_by, documents.updated_by 
FROM documents 
WHERE documents.user_id = $1::UUID AND documents.knowledge_base_id = $2::UUID ORDER BY documents.created_at DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-10-12 18:03:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00109s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'), UUID('f9716623-6e0d-4fc1-8032-33dcbd7948b1'), 20, 0)
2025-10-12 18:03:20 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.6506s
2025-10-12 18:03:20 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 18:03:23 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/hr-workflows/exam/generate
2025-10-12 18:03:23 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-12 18:03:23 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-12 18:03:23 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 18:03:23 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 18:03:23 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 18:03:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-12 18:03:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 352.6s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-12 18:03:24 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-12 18:03:24 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-12 18:03:24 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 18:03:24 - app.core.exception_handlers - WARNING - exception_handlers - validation_exception_handler - Validation Error: [{'type': 'string_type', 'loc': ('body', 'knowledge_files', 0), 'msg': 'Input should be a valid string', 'input': {'id': '610c9fe3-e738-4e44-a2d0-21fb130aecb0', 'fileName': '湖南省水文条例_20250731.docx'}, 'url': 'https://errors.pydantic.dev/2.11/v/string_type'}]
2025-10-12 18:03:24 - app.core.middleware - INFO - middleware - dispatch - Response: 422 - Processing time: 0.3436s
2025-10-12 18:05:36 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/hr-workflows/exam/generate
2025-10-12 18:05:36 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-12 18:05:36 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-12 18:05:36 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 18:05:36 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 18:05:36 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 18:05:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-12 18:05:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 485s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-12 18:05:36 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-12 18:05:36 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-12 18:05:36 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 18:05:36 - app.core.exception_handlers - WARNING - exception_handlers - validation_exception_handler - Validation Error: [{'type': 'string_type', 'loc': ('body', 'knowledge_files', 0), 'msg': 'Input should be a valid string', 'input': {'id': '610c9fe3-e738-4e44-a2d0-21fb130aecb0', 'fileName': '湖南省水文条例_20250731.docx'}, 'url': 'https://errors.pydantic.dev/2.11/v/string_type'}]
2025-10-12 18:05:36 - app.core.middleware - INFO - middleware - dispatch - Response: 422 - Processing time: 0.0723s
2025-10-12 18:05:58 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-12 18:05:58 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-12 18:05:58 - main - INFO - main - lifespan - Database connections closed
2025-10-12 18:05:58 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-12 18:07:46 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-12 18:07:46 - main - INFO - main - lifespan - Logging configured
2025-10-12 18:07:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-12 18:07:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 18:07:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-12 18:07:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 18:07:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-12 18:07:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 18:07:47 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 18:07:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-12 18:07:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00043s] ()
2025-10-12 18:07:47 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-12 18:07:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 18:07:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00137s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 18:07:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 18:07:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04701s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 18:07:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 18:07:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0676s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 18:07:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 18:07:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08849s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 18:07:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 18:07:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1103s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 18:07:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 18:07:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1299s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 18:07:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 18:07:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1487s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 18:07:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 18:07:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1675s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 18:07:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 18:07:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1989s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 18:07:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 18:07:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.2167s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 18:07:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 18:07:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.2345s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 18:07:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 18:07:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.2524s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 18:07:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 18:07:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.2714s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 18:07:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 18:07:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00088s] ('userrole', 'pg_catalog')
2025-10-12 18:07:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 18:07:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04359s ago] ('conversationstatus', 'pg_catalog')
2025-10-12 18:07:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 18:07:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06386s ago] ('messagerole', 'pg_catalog')
2025-10-12 18:07:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 18:07:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08386s ago] ('jdstatus', 'pg_catalog')
2025-10-12 18:07:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 18:07:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1052s ago] ('scoringstatus', 'pg_catalog')
2025-10-12 18:07:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 18:07:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1244s ago] ('resumestatus', 'pg_catalog')
2025-10-12 18:07:47 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 18:07:47 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-12 18:07:47 - main - INFO - main - lifespan - Database initialized successfully
2025-10-12 18:07:47 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-12 18:24:20 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-12 18:24:39 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-12 18:24:39 - main - INFO - main - lifespan - Database connections closed
2025-10-12 18:24:39 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-12 18:24:45 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-12 18:24:45 - main - INFO - main - lifespan - Logging configured
2025-10-12 18:24:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-12 18:24:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 18:24:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-12 18:24:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 18:24:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-12 18:24:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 18:24:45 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 18:24:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-12 18:24:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00058s] ()
2025-10-12 18:24:45 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-12 18:24:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 18:24:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00115s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 18:24:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 18:24:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02376s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 18:24:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 18:24:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03546s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 18:24:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 18:24:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04657s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 18:24:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 18:24:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05858s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 18:24:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 18:24:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07097s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 18:24:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 18:24:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08476s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 18:24:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 18:24:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09948s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 18:24:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 18:24:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1139s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 18:24:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 18:24:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1279s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 18:24:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 18:24:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1413s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 18:24:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 18:24:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1551s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 18:24:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 18:24:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.169s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 18:24:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 18:24:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00105s] ('userrole', 'pg_catalog')
2025-10-12 18:24:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 18:24:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02964s ago] ('conversationstatus', 'pg_catalog')
2025-10-12 18:24:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 18:24:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04544s ago] ('messagerole', 'pg_catalog')
2025-10-12 18:24:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 18:24:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05942s ago] ('jdstatus', 'pg_catalog')
2025-10-12 18:24:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 18:24:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07422s ago] ('scoringstatus', 'pg_catalog')
2025-10-12 18:24:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 18:24:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08857s ago] ('resumestatus', 'pg_catalog')
2025-10-12 18:24:46 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 18:24:46 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-12 18:24:46 - main - INFO - main - lifespan - Database initialized successfully
2025-10-12 18:24:46 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-12 18:28:24 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-12 18:28:24 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-12 18:28:24 - main - INFO - main - lifespan - Database connections closed
2025-10-12 18:28:24 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-12 18:28:28 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-12 18:28:28 - main - INFO - main - lifespan - Logging configured
2025-10-12 18:28:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-12 18:28:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 18:28:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-12 18:28:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 18:28:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-12 18:28:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 18:28:28 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 18:28:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-12 18:28:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00050s] ()
2025-10-12 18:28:28 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-12 18:28:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 18:28:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00050s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 18:28:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 18:28:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02612s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 18:28:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 18:28:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03851s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 18:28:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 18:28:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05105s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 18:28:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 18:28:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06359s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 18:28:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 18:28:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07574s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 18:28:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 18:28:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08809s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 18:28:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 18:28:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09998s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 18:28:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 18:28:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1114s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 18:28:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 18:28:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.122s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 18:28:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 18:28:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.133s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 18:28:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 18:28:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1438s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 18:28:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 18:28:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1549s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 18:28:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 18:28:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00056s] ('userrole', 'pg_catalog')
2025-10-12 18:28:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 18:28:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02412s ago] ('conversationstatus', 'pg_catalog')
2025-10-12 18:28:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 18:28:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03578s ago] ('messagerole', 'pg_catalog')
2025-10-12 18:28:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 18:28:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04805s ago] ('jdstatus', 'pg_catalog')
2025-10-12 18:28:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 18:28:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05929s ago] ('scoringstatus', 'pg_catalog')
2025-10-12 18:28:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 18:28:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0703s ago] ('resumestatus', 'pg_catalog')
2025-10-12 18:28:29 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 18:28:29 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-12 18:28:29 - main - INFO - main - lifespan - Database initialized successfully
2025-10-12 18:28:29 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-12 18:28:31 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-12 18:28:31 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-12 18:28:31 - main - INFO - main - lifespan - Database connections closed
2025-10-12 18:28:31 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-12 18:28:35 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-12 18:28:35 - main - INFO - main - lifespan - Logging configured
2025-10-12 18:28:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-12 18:28:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 18:28:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-12 18:28:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 18:28:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-12 18:28:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 18:28:35 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 18:28:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-12 18:28:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00038s] ()
2025-10-12 18:28:35 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-12 18:28:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 18:28:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00045s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 18:28:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 18:28:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02073s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 18:28:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 18:28:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03115s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 18:28:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 18:28:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04103s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 18:28:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 18:28:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05111s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 18:28:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 18:28:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.061s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 18:28:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 18:28:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07047s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 18:28:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 18:28:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08588s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 18:28:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 18:28:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09554s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 18:28:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 18:28:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1043s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 18:28:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 18:28:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1134s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 18:28:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 18:28:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1219s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 18:28:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 18:28:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1302s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 18:28:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 18:28:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00047s] ('userrole', 'pg_catalog')
2025-10-12 18:28:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 18:28:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.01742s ago] ('conversationstatus', 'pg_catalog')
2025-10-12 18:28:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 18:28:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02666s ago] ('messagerole', 'pg_catalog')
2025-10-12 18:28:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 18:28:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03549s ago] ('jdstatus', 'pg_catalog')
2025-10-12 18:28:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 18:28:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04442s ago] ('scoringstatus', 'pg_catalog')
2025-10-12 18:28:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 18:28:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05298s ago] ('resumestatus', 'pg_catalog')
2025-10-12 18:28:35 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 18:28:35 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-12 18:28:35 - main - INFO - main - lifespan - Database initialized successfully
2025-10-12 18:28:35 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-12 18:30:13 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-12 18:30:13 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-12 18:30:13 - main - INFO - main - lifespan - Database connections closed
2025-10-12 18:30:13 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-12 19:13:34 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-12 19:13:34 - main - INFO - main - lifespan - Logging configured
2025-10-12 19:13:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-12 19:13:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 19:13:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-12 19:13:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 19:13:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-12 19:13:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 19:13:34 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 19:13:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-12 19:13:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00077s] ()
2025-10-12 19:13:34 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-12 19:13:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 19:13:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00032s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 19:13:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 19:13:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03594s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 19:13:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 19:13:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05339s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 19:13:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 19:13:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0718s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 19:13:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 19:13:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09106s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 19:13:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 19:13:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.108s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 19:13:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 19:13:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1231s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 19:13:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 19:13:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1378s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 19:13:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 19:13:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.152s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 19:13:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 19:13:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1658s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 19:13:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 19:13:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1822s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 19:13:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 19:13:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1998s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 19:13:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 19:13:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.2178s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 19:13:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 19:13:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00106s] ('userrole', 'pg_catalog')
2025-10-12 19:13:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 19:13:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03037s ago] ('conversationstatus', 'pg_catalog')
2025-10-12 19:13:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 19:13:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04479s ago] ('messagerole', 'pg_catalog')
2025-10-12 19:13:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 19:13:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06245s ago] ('jdstatus', 'pg_catalog')
2025-10-12 19:13:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 19:13:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08147s ago] ('scoringstatus', 'pg_catalog')
2025-10-12 19:13:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 19:13:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09793s ago] ('resumestatus', 'pg_catalog')
2025-10-12 19:13:34 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 19:13:34 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-12 19:13:34 - main - INFO - main - lifespan - Database initialized successfully
2025-10-12 19:13:34 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-12 19:14:48 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-12 19:14:48 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-12 19:14:48 - main - INFO - main - lifespan - Database connections closed
2025-10-12 19:14:48 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-12 19:14:52 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-12 19:14:52 - main - INFO - main - lifespan - Logging configured
2025-10-12 19:14:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-12 19:14:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 19:14:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-12 19:14:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 19:14:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-12 19:14:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 19:14:52 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 19:14:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-12 19:14:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00097s] ()
2025-10-12 19:14:52 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-12 19:14:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 19:14:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00041s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 19:14:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 19:14:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02684s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 19:14:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 19:14:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04027s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 19:14:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 19:14:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05276s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 19:14:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 19:14:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06768s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 19:14:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 19:14:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0839s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 19:14:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 19:14:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09902s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 19:14:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 19:14:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1129s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 19:14:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 19:14:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1261s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 19:14:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 19:14:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1382s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 19:14:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 19:14:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1515s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 19:14:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 19:14:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.165s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 19:14:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 19:14:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1784s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 19:14:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 19:14:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00125s] ('userrole', 'pg_catalog')
2025-10-12 19:14:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 19:14:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02908s ago] ('conversationstatus', 'pg_catalog')
2025-10-12 19:14:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 19:14:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04431s ago] ('messagerole', 'pg_catalog')
2025-10-12 19:14:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 19:14:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05826s ago] ('jdstatus', 'pg_catalog')
2025-10-12 19:14:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 19:14:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.073s ago] ('scoringstatus', 'pg_catalog')
2025-10-12 19:14:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 19:14:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08819s ago] ('resumestatus', 'pg_catalog')
2025-10-12 19:14:52 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 19:14:52 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-12 19:14:52 - main - INFO - main - lifespan - Database initialized successfully
2025-10-12 19:14:52 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-12 20:14:42 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-12 20:15:01 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-12 20:15:01 - main - INFO - main - lifespan - Database connections closed
2025-10-12 20:15:01 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-12 20:55:03 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-12 20:55:03 - main - INFO - main - lifespan - Logging configured
2025-10-12 20:55:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-12 20:55:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 20:55:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-12 20:55:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 20:55:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-12 20:55:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 20:55:04 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 20:55:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-12 20:55:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00037s] ()
2025-10-12 20:55:04 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-12 20:55:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 20:55:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00047s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 20:55:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 20:55:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02485s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 20:55:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 20:55:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03725s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 20:55:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 20:55:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04944s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 20:55:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 20:55:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06145s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 20:55:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 20:55:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07373s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 20:55:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 20:55:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08536s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 20:55:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 20:55:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09711s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 20:55:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 20:55:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1086s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 20:55:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 20:55:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1189s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 20:55:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 20:55:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1295s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 20:55:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 20:55:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1397s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 20:55:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 20:55:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1501s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 20:55:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 20:55:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00049s] ('userrole', 'pg_catalog')
2025-10-12 20:55:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 20:55:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.022s ago] ('conversationstatus', 'pg_catalog')
2025-10-12 20:55:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 20:55:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03405s ago] ('messagerole', 'pg_catalog')
2025-10-12 20:55:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 20:55:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04582s ago] ('jdstatus', 'pg_catalog')
2025-10-12 20:55:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 20:55:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05644s ago] ('scoringstatus', 'pg_catalog')
2025-10-12 20:55:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 20:55:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06718s ago] ('resumestatus', 'pg_catalog')
2025-10-12 20:55:04 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 20:55:04 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-12 20:55:04 - main - INFO - main - lifespan - Database initialized successfully
2025-10-12 20:55:04 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-12 20:59:07 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-12 20:59:27 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-12 20:59:27 - main - INFO - main - lifespan - Database connections closed
2025-10-12 20:59:27 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-12 20:59:30 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-12 20:59:30 - main - INFO - main - lifespan - Logging configured
2025-10-12 20:59:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-12 20:59:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 20:59:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-12 20:59:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 20:59:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-12 20:59:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 20:59:30 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 20:59:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-12 20:59:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00046s] ()
2025-10-12 20:59:30 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-12 20:59:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 20:59:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00043s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 20:59:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 20:59:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03162s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 20:59:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 20:59:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04711s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 20:59:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 20:59:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06327s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 20:59:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 20:59:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07876s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 20:59:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 20:59:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09318s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 20:59:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 20:59:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1085s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 20:59:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 20:59:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1225s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 20:59:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 20:59:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1363s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 20:59:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 20:59:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1518s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 20:59:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 20:59:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.166s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 20:59:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 20:59:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1782s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 20:59:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 20:59:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1918s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 20:59:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 20:59:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00042s] ('userrole', 'pg_catalog')
2025-10-12 20:59:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 20:59:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02849s ago] ('conversationstatus', 'pg_catalog')
2025-10-12 20:59:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 20:59:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04333s ago] ('messagerole', 'pg_catalog')
2025-10-12 20:59:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 20:59:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05778s ago] ('jdstatus', 'pg_catalog')
2025-10-12 20:59:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 20:59:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07196s ago] ('scoringstatus', 'pg_catalog')
2025-10-12 20:59:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 20:59:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08599s ago] ('resumestatus', 'pg_catalog')
2025-10-12 20:59:31 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 20:59:31 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-12 20:59:31 - main - INFO - main - lifespan - Database initialized successfully
2025-10-12 20:59:31 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-12 21:01:25 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-12 21:01:25 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-12 21:01:25 - main - INFO - main - lifespan - Database connections closed
2025-10-12 21:01:25 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-12 21:01:33 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-12 21:01:33 - main - INFO - main - lifespan - Logging configured
2025-10-12 21:01:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-12 21:01:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 21:01:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-12 21:01:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 21:01:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-12 21:01:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 21:01:34 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 21:01:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-12 21:01:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00032s] ()
2025-10-12 21:01:34 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-12 21:01:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 21:01:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00032s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 21:01:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 21:01:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02518s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 21:01:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 21:01:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03764s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 21:01:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 21:01:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04982s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 21:01:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 21:01:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0618s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 21:01:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 21:01:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07334s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 21:01:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 21:01:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08515s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 21:01:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 21:01:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09658s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 21:01:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 21:01:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1102s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 21:01:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 21:01:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1232s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 21:01:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 21:01:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1416s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 21:01:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 21:01:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1568s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 21:01:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 21:01:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1695s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 21:01:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 21:01:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00052s] ('userrole', 'pg_catalog')
2025-10-12 21:01:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 21:01:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02347s ago] ('conversationstatus', 'pg_catalog')
2025-10-12 21:01:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 21:01:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03557s ago] ('messagerole', 'pg_catalog')
2025-10-12 21:01:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 21:01:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04629s ago] ('jdstatus', 'pg_catalog')
2025-10-12 21:01:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 21:01:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05693s ago] ('scoringstatus', 'pg_catalog')
2025-10-12 21:01:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 21:01:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06804s ago] ('resumestatus', 'pg_catalog')
2025-10-12 21:01:34 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 21:01:34 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-12 21:01:34 - main - INFO - main - lifespan - Database initialized successfully
2025-10-12 21:01:34 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-12 21:02:01 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/hr-workflows/exam/submit
2025-10-12 21:02:01 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 21:02:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 21:02:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00066s] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 21:02:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 21:02:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00060s] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'),)
2025-10-12 21:02:01 - app.core.logging - INFO - dify_service - call_workflow_sync - Calling Dify workflow type 6 (sync) with query: 考生姓名：11
部门：11
试卷标题：试卷2
试卷总分：100.0
详细题目信息（包含标准答案、解析和考生答案）：
第1题：
  题目类型：单选
  题目内容：湖南省《湖南省水文条例》是在哪一年修订的...
2025-10-12 21:02:08 - httpx - INFO - _client - _send_single_request - HTTP Request: POST http://218.78.133.209:85/v1/chat-messages "HTTP/1.1 200 OK"
2025-10-12 21:02:08 - app.core.logging - INFO - hr_workflows - submit_exam - Exam submitted successfully for student: 11
2025-10-12 21:02:08 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 6.3093s
2025-10-12 21:02:08 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 21:04:36 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/hr-workflows/exam/submit
2025-10-12 21:04:36 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 21:04:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 21:04:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 154.9s ago] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 21:04:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 21:04:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 154.9s ago] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'),)
2025-10-12 21:04:36 - app.core.logging - INFO - dify_service - call_workflow_sync - Calling Dify workflow type 6 (sync) with query: 考生姓名：11
部门：11
试卷标题：试卷2
试卷总分：100.0
详细题目信息（包含标准答案、解析和考生答案）：
第1题：
  题目类型：单选
  题目内容：湖南省《湖南省水文条例》是在哪一年修订的...
2025-10-12 21:04:43 - httpx - INFO - _client - _send_single_request - HTTP Request: POST http://218.78.133.209:85/v1/chat-messages "HTTP/1.1 200 OK"
2025-10-12 21:04:43 - app.core.logging - INFO - hr_workflows - submit_exam - Exam submitted successfully for student: 11
2025-10-12 21:04:43 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 7.0438s
2025-10-12 21:04:43 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 21:13:07 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-12 21:13:07 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-12 21:13:07 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-12 21:13:07 - app.api.deps - ERROR - deps - get_current_user - ❌ JWT decode error: Signature has expired.
2025-10-12 21:13:07 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: Could not validate credentials
2025-10-12 21:13:07 - app.core.middleware - INFO - middleware - dispatch - Response: 401 - Processing time: 0.0070s
2025-10-12 21:13:07 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-12 21:13:07 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-12 21:13:07 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-12 21:13:07 - app.api.deps - ERROR - deps - get_current_user - ❌ JWT decode error: Signature has expired.
2025-10-12 21:13:07 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: Could not validate credentials
2025-10-12 21:13:07 - app.core.middleware - INFO - middleware - dispatch - Response: 401 - Processing time: 0.0060s
2025-10-12 21:15:17 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-12 21:15:36 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-12 21:15:36 - main - INFO - main - lifespan - Database connections closed
2025-10-12 21:15:36 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-12 21:15:40 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-12 21:15:40 - main - INFO - main - lifespan - Logging configured
2025-10-12 21:15:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-12 21:15:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 21:15:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-12 21:15:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 21:15:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-12 21:15:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 21:15:40 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 21:15:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-12 21:15:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00045s] ()
2025-10-12 21:15:40 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-12 21:15:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 21:15:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00046s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 21:15:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 21:15:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0232s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 21:15:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 21:15:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03445s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 21:15:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 21:15:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04532s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 21:15:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 21:15:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0564s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 21:15:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 21:15:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06731s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 21:15:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 21:15:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07826s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 21:15:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 21:15:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08915s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 21:15:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 21:15:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09961s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 21:15:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 21:15:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1093s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 21:15:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 21:15:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1193s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 21:15:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 21:15:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1288s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 21:15:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 21:15:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1384s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 21:15:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 21:15:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00045s] ('userrole', 'pg_catalog')
2025-10-12 21:15:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 21:15:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02018s ago] ('conversationstatus', 'pg_catalog')
2025-10-12 21:15:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 21:15:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03061s ago] ('messagerole', 'pg_catalog')
2025-10-12 21:15:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 21:15:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04092s ago] ('jdstatus', 'pg_catalog')
2025-10-12 21:15:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 21:15:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05205s ago] ('scoringstatus', 'pg_catalog')
2025-10-12 21:15:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 21:15:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06624s ago] ('resumestatus', 'pg_catalog')
2025-10-12 21:15:40 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 21:15:40 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-12 21:15:40 - main - INFO - main - lifespan - Database initialized successfully
2025-10-12 21:15:40 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-12 21:19:18 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/hr-workflows/exam/submit
2025-10-12 21:19:18 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 21:19:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 21:19:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00068s] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 21:19:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 21:19:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00174s] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'),)
2025-10-12 21:19:18 - app.core.logging - INFO - dify_service - call_workflow_sync - Calling Dify workflow type 6 (sync) with query: 考生姓名：11
部门：11
试卷标题：试卷2
试卷总分：100.0
详细题目信息（包含标准答案、解析和考生答案）：
第1题：
  题目类型：单选
  题目内容：湖南省《湖南省水文条例》是在哪一年修订的...
2025-10-12 21:19:27 - httpx - INFO - _client - _send_single_request - HTTP Request: POST http://218.78.133.209:85/v1/chat-messages "HTTP/1.1 200 OK"
2025-10-12 21:19:27 - app.core.logging - INFO - hr_workflows - submit_exam - Exam submitted successfully for student: 11
2025-10-12 21:19:27 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 9.3859s
2025-10-12 21:19:27 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 21:25:17 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/7c30f896-0dcd-498a-8c0b-2ad2fc4f886b/share
2025-10-12 21:25:17 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 21:25:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 21:25:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 359s ago] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 21:25:36 - app.core.logging - ERROR - hr_workflows - get_exam_for_share - Error getting exam: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID]
[parameters: ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-12 21:25:36 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: 获取试卷失败: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID]
[parameters: ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-12 21:25:36 - app.core.middleware - INFO - middleware - dispatch - Response: 500 - Processing time: 19.1812s
2025-10-12 21:27:00 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-12 21:27:00 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-12 21:27:00 - main - INFO - main - lifespan - Database connections closed
2025-10-12 21:27:00 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-12 21:27:03 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-12 21:27:03 - main - INFO - main - lifespan - Logging configured
2025-10-12 21:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-12 21:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 21:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-12 21:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 21:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-12 21:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 21:27:03 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 21:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-12 21:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00096s] ()
2025-10-12 21:27:03 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-12 21:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 21:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00043s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 21:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 21:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.01991s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 21:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 21:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0293s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 21:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 21:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03861s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 21:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 21:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04937s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 21:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 21:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06062s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 21:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 21:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07015s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 21:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 21:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07931s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 21:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 21:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08782s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 21:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 21:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09581s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 21:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 21:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1039s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 21:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 21:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1124s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 21:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 21:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1203s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 21:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 21:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00035s] ('userrole', 'pg_catalog')
2025-10-12 21:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 21:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.01799s ago] ('conversationstatus', 'pg_catalog')
2025-10-12 21:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 21:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02682s ago] ('messagerole', 'pg_catalog')
2025-10-12 21:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 21:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03521s ago] ('jdstatus', 'pg_catalog')
2025-10-12 21:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 21:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04372s ago] ('scoringstatus', 'pg_catalog')
2025-10-12 21:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 21:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05185s ago] ('resumestatus', 'pg_catalog')
2025-10-12 21:27:03 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 21:27:03 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-12 21:27:03 - main - INFO - main - lifespan - Database initialized successfully
2025-10-12 21:27:03 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-12 21:27:47 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/7c30f896-0dcd-498a-8c0b-2ad2fc4f886b/share
2025-10-12 21:27:48 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 21:27:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 21:27:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00443s] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 21:27:48 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/7c30f896-0dcd-498a-8c0b-2ad2fc4f886b/share
2025-10-12 21:27:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 21:27:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00127s] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'),)
2025-10-12 21:27:48 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1857s
2025-10-12 21:27:48 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 21:27:48 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 21:27:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 21:27:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.2092s ago] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 21:27:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 21:27:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.2023s ago] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'),)
2025-10-12 21:27:48 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.2810s
2025-10-12 21:27:48 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 21:28:00 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/7c30f896-0dcd-498a-8c0b-2ad2fc4f886b/share
2025-10-12 21:28:00 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 21:28:00 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 21:28:00 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 12.87s ago] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 21:28:00 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 21:28:00 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 12.83s ago] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'),)
2025-10-12 21:28:00 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/7c30f896-0dcd-498a-8c0b-2ad2fc4f886b/share
2025-10-12 21:28:00 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 21:28:00 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 21:28:00 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 12.93s ago] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 21:28:00 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0687s
2025-10-12 21:28:00 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 21:28:00 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 21:28:00 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 12.9s ago] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'),)
2025-10-12 21:28:01 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0700s
2025-10-12 21:28:01 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 21:30:55 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-12 21:30:55 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-12 21:30:55 - main - INFO - main - lifespan - Database connections closed
2025-10-12 21:30:55 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-12 21:31:03 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-12 21:31:03 - main - INFO - main - lifespan - Logging configured
2025-10-12 21:31:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-12 21:31:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 21:31:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-12 21:31:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 21:31:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-12 21:31:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 21:31:03 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 21:31:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-12 21:31:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00100s] ()
2025-10-12 21:31:03 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-12 21:31:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 21:31:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00032s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 21:31:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 21:31:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0215s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 21:31:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 21:31:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03032s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 21:31:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 21:31:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03933s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 21:31:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 21:31:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04887s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 21:31:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 21:31:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05853s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 21:31:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 21:31:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06798s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 21:31:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 21:31:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0767s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 21:31:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 21:31:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.085s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 21:31:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 21:31:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09291s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 21:31:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 21:31:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1008s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 21:31:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 21:31:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1089s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 21:31:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 21:31:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1164s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 21:31:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 21:31:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00037s] ('userrole', 'pg_catalog')
2025-10-12 21:31:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 21:31:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.01549s ago] ('conversationstatus', 'pg_catalog')
2025-10-12 21:31:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 21:31:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0233s ago] ('messagerole', 'pg_catalog')
2025-10-12 21:31:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 21:31:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03178s ago] ('jdstatus', 'pg_catalog')
2025-10-12 21:31:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 21:31:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03993s ago] ('scoringstatus', 'pg_catalog')
2025-10-12 21:31:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 21:31:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0473s ago] ('resumestatus', 'pg_catalog')
2025-10-12 21:31:03 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 21:31:03 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-12 21:31:03 - main - INFO - main - lifespan - Database initialized successfully
2025-10-12 21:31:03 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-12 21:37:21 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/7c30f896-0dcd-498a-8c0b-2ad2fc4f886b/share
2025-10-12 21:37:21 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 21:37:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 21:37:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00060s] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 21:37:36 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/7c30f896-0dcd-498a-8c0b-2ad2fc4f886b/share
2025-10-12 21:37:36 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 21:37:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 21:37:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 14.5s ago] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 21:37:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 21:37:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00093s] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'),)
2025-10-12 21:37:36 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.3072s
2025-10-12 21:37:36 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 21:37:41 - app.core.logging - ERROR - hr_workflows - get_exam_for_share - Error getting exam: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID]
[parameters: ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-12 21:37:41 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: 获取试卷失败: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID]
[parameters: ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-12 21:37:41 - app.core.middleware - INFO - middleware - dispatch - Response: 500 - Processing time: 19.2268s
2025-10-12 21:37:50 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/hr-workflows/exam/submit
2025-10-12 21:37:50 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 21:37:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 21:37:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 28.41s ago] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 21:37:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 21:37:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 13.91s ago] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'),)
2025-10-12 21:37:50 - app.core.logging - INFO - dify_service - call_workflow_sync - Calling Dify workflow type 6 (sync) with query: 考生姓名：11
部门：12
试卷标题：试卷2
试卷总分：100.0
详细题目信息（包含标准答案、解析和考生答案）：
第1题：
  题目类型：单选
  题目内容：湖南省《湖南省水文条例》是在哪一年修订的...
2025-10-12 21:37:52 - httpx - INFO - _client - _send_single_request - HTTP Request: POST http://218.78.133.209:85/v1/chat-messages "HTTP/1.1 200 OK"
2025-10-12 21:37:52 - app.core.logging - INFO - hr_workflows - submit_exam - Exam submitted successfully for student: 11
2025-10-12 21:37:52 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 2.4170s
2025-10-12 21:37:52 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 21:39:59 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/7c30f896-0dcd-498a-8c0b-2ad2fc4f886b/share
2025-10-12 21:39:59 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 21:39:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 21:39:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 157.8s ago] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 21:39:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 21:39:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 143.3s ago] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'),)
2025-10-12 21:39:59 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.2602s
2025-10-12 21:39:59 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 21:40:28 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/7c30f896-0dcd-498a-8c0b-2ad2fc4f886b/share
2025-10-12 21:40:28 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 21:40:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 21:40:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 186.6s ago] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 21:40:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 21:40:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 172.1s ago] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'),)
2025-10-12 21:40:28 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0468s
2025-10-12 21:40:28 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 21:40:35 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/7c30f896-0dcd-498a-8c0b-2ad2fc4f886b/share
2025-10-12 21:40:35 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 21:40:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 21:40:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 193.6s ago] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 21:40:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 21:40:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 179s ago] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'),)
2025-10-12 21:40:35 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0440s
2025-10-12 21:40:35 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 21:46:40 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/auth/login
2025-10-12 21:46:40 - app.api.v1.endpoints.auth - INFO - auth - login - Login attempt for username: testuser
2025-10-12 21:46:40 - app.api.v1.endpoints.auth - INFO - auth - login - UserService created successfully
2025-10-12 21:46:40 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 21:46:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.username = $1::VARCHAR AND users.is_active = true
2025-10-12 21:46:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00042s] ('testuser',)
2025-10-12 21:46:59 - app.services.user_service - ERROR - user_service - get_user_by_username - Error getting user by username testuser: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.username = $1::VARCHAR AND users.is_active = true]
[parameters: ('testuser',)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-12 21:46:59 - app.services.user_service - ERROR - user_service - authenticate - Error authenticating user: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.username = $1::VARCHAR AND users.is_active = true]
[parameters: ('testuser',)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-12 21:46:59 - app.api.v1.endpoints.auth - INFO - auth - login - Authentication result: False
2025-10-12 21:46:59 - app.api.v1.endpoints.auth - WARNING - auth - login - Authentication failed for username: testuser
2025-10-12 21:46:59 - app.api.v1.endpoints.auth - ERROR - auth - login - Login error: 
Traceback (most recent call last):
  File "E:\workspace-py\hr-agent\backend\app\api\v1\endpoints\auth.py", line 73, in login
    raise HTTPException(
fastapi.exceptions.HTTPException
2025-10-12 21:46:59 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: Incorrect username or password
2025-10-12 21:46:59 - app.core.middleware - INFO - middleware - dispatch - Response: 401 - Processing time: 19.1946s
2025-10-12 21:48:30 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/auth/login
2025-10-12 21:48:30 - app.api.v1.endpoints.auth - INFO - auth - login - Login attempt for username: testuser
2025-10-12 21:48:30 - app.api.v1.endpoints.auth - INFO - auth - login - UserService created successfully
2025-10-12 21:48:31 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 21:48:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.username = $1::VARCHAR AND users.is_active = true
2025-10-12 21:48:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 110.9s ago] ('testuser',)
2025-10-12 21:48:31 - passlib.handlers.bcrypt - WARNING - bcrypt - _load_backend_mixin - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\passlib\handlers\bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-10-12 21:48:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - UPDATE users SET last_login=now(), updated_at=$1::TIMESTAMP WITHOUT TIME ZONE WHERE users.id = $2::UUID
2025-10-12 21:48:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00080s] (datetime.datetime(2025, 10, 12, 13, 48, 31, 572756), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-12 21:48:31 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 21:48:31 - app.api.v1.endpoints.auth - INFO - auth - login - Authentication result: True
2025-10-12 21:48:31 - app.api.v1.endpoints.auth - INFO - auth - login - Creating access token for user: testuser
2025-10-12 21:48:31 - app.api.v1.endpoints.auth - INFO - auth - login - Login successful for user: testuser
2025-10-12 21:48:31 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.6555s
2025-10-12 21:48:31 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-12 21:48:31 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-12 21:48:31 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-12 21:48:31 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 21:48:31 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 21:48:31 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 21:48:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-12 21:48:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00069s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-12 21:48:31 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-12 21:48:31 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-12 21:48:31 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-12 21:48:31 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-12 21:48:31 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-12 21:48:31 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-12 21:48:31 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.2683s
2025-10-12 21:48:31 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 21:48:38 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/list
2025-10-12 21:48:38 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-12 21:48:38 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-12 21:48:38 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 21:48:38 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 21:48:38 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 21:48:38 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-12 21:48:38 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 7.205s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-12 21:48:39 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-12 21:48:39 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-12 21:48:39 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT count(exams.id) AS count_1 
FROM exams
2025-10-12 21:48:39 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00123s] ()
2025-10-12 21:48:39 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams ORDER BY exams.created_at DESC 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-10-12 21:48:39 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00192s] (20, 0)
2025-10-12 21:48:39 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1356s
2025-10-12 21:48:39 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 21:48:40 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/7c30f896-0dcd-498a-8c0b-2ad2fc4f886b
2025-10-12 21:48:40 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-12 21:48:40 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-12 21:48:40 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 21:48:40 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 21:48:40 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 21:48:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-12 21:48:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 8.624s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-12 21:48:40 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-12 21:48:40 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-12 21:48:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 21:48:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 678.5s ago] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 21:48:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 21:48:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 664s ago] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'),)
2025-10-12 21:48:40 - app.core.logging - INFO - hr_workflows - get_exam_detail - Exam detail retrieved successfully: 7c30f896-0dcd-498a-8c0b-2ad2fc4f886b
2025-10-12 21:48:40 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0864s
2025-10-12 21:48:40 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 21:48:46 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-12 21:48:46 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-12 21:48:46 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-12 21:48:46 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 21:48:46 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 21:48:46 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 21:48:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-12 21:48:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 14.37s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-12 21:48:46 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-12 21:48:46 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-12 21:48:46 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-12 21:48:46 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-12 21:48:46 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-12 21:48:46 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-12 21:48:46 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0353s
2025-10-12 21:48:46 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 21:48:46 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/7c30f896-0dcd-498a-8c0b-2ad2fc4f886b/share
2025-10-12 21:48:46 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 21:48:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 21:48:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 684.3s ago] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 21:48:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 21:48:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 669.7s ago] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'),)
2025-10-12 21:48:46 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0623s
2025-10-12 21:48:46 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 21:48:57 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/hr-workflows/exam/submit
2025-10-12 21:48:57 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 21:48:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 21:48:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 695.6s ago] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 21:48:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 21:48:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 681.2s ago] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'),)
2025-10-12 21:48:57 - app.core.logging - INFO - dify_service - call_workflow_sync - Calling Dify workflow type 6 (sync) with query: 考生姓名：11
部门：11
试卷标题：试卷2
试卷总分：100.0
详细题目信息（包含标准答案、解析和考生答案）：
第1题：
  题目类型：单选
  题目内容：湖南省《湖南省水文条例》是在哪一年修订的...
2025-10-12 21:48:59 - httpx - INFO - _client - _send_single_request - HTTP Request: POST http://218.78.133.209:85/v1/chat-messages "HTTP/1.1 200 OK"
2025-10-12 21:48:59 - app.core.logging - INFO - hr_workflows - submit_exam - Exam submitted successfully for student: 11
2025-10-12 21:48:59 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 2.4088s
2025-10-12 21:48:59 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 21:50:23 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/7c30f896-0dcd-498a-8c0b-2ad2fc4f886b/share
2025-10-12 21:50:23 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 21:50:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 21:50:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 781.5s ago] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 21:50:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 21:50:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 767s ago] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'),)
2025-10-12 21:50:23 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0356s
2025-10-12 21:50:23 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 21:50:35 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/hr-workflows/exam/submit
2025-10-12 21:50:35 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 21:50:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 21:50:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 793.2s ago] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 21:50:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 21:50:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 778.7s ago] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'),)
2025-10-12 21:50:35 - app.core.logging - INFO - dify_service - call_workflow_sync - Calling Dify workflow type 6 (sync) with query: 考生姓名：11
部门：11
试卷标题：试卷2
试卷总分：100.0
详细题目信息（包含标准答案、解析和考生答案）：
第1题：
  题目类型：单选
  题目内容：湖南省《湖南省水文条例》是在哪一年修订的...
2025-10-12 21:50:38 - httpx - INFO - _client - _send_single_request - HTTP Request: POST http://218.78.133.209:85/v1/chat-messages "HTTP/1.1 200 OK"
2025-10-12 21:50:38 - app.core.logging - INFO - hr_workflows - submit_exam - Exam submitted successfully for student: 11
2025-10-12 21:50:38 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 2.9061s
2025-10-12 21:50:38 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 21:51:16 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/7c30f896-0dcd-498a-8c0b-2ad2fc4f886b/share
2025-10-12 21:51:16 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 21:51:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 21:51:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 834.6s ago] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 21:51:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 21:51:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 820.2s ago] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'),)
2025-10-12 21:51:16 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1222s
2025-10-12 21:51:16 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 21:52:13 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/hr-workflows/exam/submit
2025-10-12 21:52:13 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 21:52:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 21:52:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 891.9s ago] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 21:52:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 21:52:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 877.4s ago] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'),)
2025-10-12 21:52:13 - app.core.logging - INFO - dify_service - call_workflow_sync - Calling Dify workflow type 6 (sync) with query: 考生姓名：11
部门：11
试卷标题：试卷2
试卷总分：100.0
详细题目信息（包含标准答案、解析和考生答案）：
第1题：
  题目类型：单选
  题目内容：湖南省《湖南省水文条例》是在哪一年修订的...
2025-10-12 21:52:20 - httpx - INFO - _client - _send_single_request - HTTP Request: POST http://218.78.133.209:85/v1/chat-messages "HTTP/1.1 200 OK"
2025-10-12 21:52:20 - app.core.logging - INFO - hr_workflows - submit_exam - Exam submitted successfully for student: 11
2025-10-12 21:52:20 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 6.8839s
2025-10-12 21:52:20 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 21:53:14 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/7c30f896-0dcd-498a-8c0b-2ad2fc4f886b/share
2025-10-12 21:53:14 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 21:53:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 21:53:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 953.1s ago] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 21:53:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 21:53:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 938.5s ago] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'),)
2025-10-12 21:53:15 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0322s
2025-10-12 21:53:15 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 21:53:43 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/7c30f896-0dcd-498a-8c0b-2ad2fc4f886b/share
2025-10-12 21:53:43 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 21:53:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 21:53:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 982s ago] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 21:53:43 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/7c30f896-0dcd-498a-8c0b-2ad2fc4f886b/share
2025-10-12 21:53:43 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 21:53:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 21:53:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 982s ago] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 21:53:43 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/7c30f896-0dcd-498a-8c0b-2ad2fc4f886b/share
2025-10-12 21:53:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 21:53:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 967.5s ago] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'),)
2025-10-12 21:53:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 21:53:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 967.5s ago] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'),)
2025-10-12 21:53:44 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0586s
2025-10-12 21:53:44 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0843s
2025-10-12 21:53:44 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 21:53:44 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 21:53:44 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 21:53:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 21:53:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 982.3s ago] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 21:53:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 21:53:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 967.8s ago] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'),)
2025-10-12 21:53:44 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.3118s
2025-10-12 21:53:44 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 21:53:52 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/7c30f896-0dcd-498a-8c0b-2ad2fc4f886b/share
2025-10-12 21:53:52 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 21:53:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 21:53:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 990.9s ago] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 21:53:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 21:53:52 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 976.3s ago] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'),)
2025-10-12 21:53:52 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0326s
2025-10-12 21:53:52 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 21:54:03 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/7c30f896-0dcd-498a-8c0b-2ad2fc4f886b/share
2025-10-12 21:54:03 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 21:54:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 21:54:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1002s ago] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 21:54:03 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/7c30f896-0dcd-498a-8c0b-2ad2fc4f886b/share
2025-10-12 21:54:03 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 21:54:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 21:54:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1002s ago] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 21:54:03 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/7c30f896-0dcd-498a-8c0b-2ad2fc4f886b/share
2025-10-12 21:54:03 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 21:54:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 21:54:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1002s ago] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 21:54:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 21:54:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 987.3s ago] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'),)
2025-10-12 21:54:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 21:54:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 987.4s ago] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'),)
2025-10-12 21:54:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 21:54:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 987.4s ago] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'),)
2025-10-12 21:54:03 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1892s
2025-10-12 21:54:03 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 21:54:03 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1659s
2025-10-12 21:54:03 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 21:54:03 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1904s
2025-10-12 21:54:03 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 21:54:26 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/7c30f896-0dcd-498a-8c0b-2ad2fc4f886b/share
2025-10-12 21:54:26 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 21:54:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 21:54:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1025s ago] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 21:54:26 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/7c30f896-0dcd-498a-8c0b-2ad2fc4f886b/share
2025-10-12 21:54:26 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 21:54:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 21:54:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1025s ago] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 21:54:26 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/7c30f896-0dcd-498a-8c0b-2ad2fc4f886b/share
2025-10-12 21:54:26 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 21:54:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 21:54:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1025s ago] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 21:54:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 21:54:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1010s ago] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'),)
2025-10-12 21:54:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 21:54:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1010s ago] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'),)
2025-10-12 21:54:26 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0547s
2025-10-12 21:54:26 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 21:54:26 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0601s
2025-10-12 21:54:26 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 21:54:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 21:54:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1010s ago] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'),)
2025-10-12 21:54:26 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0721s
2025-10-12 21:54:26 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 21:54:32 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/7c30f896-0dcd-498a-8c0b-2ad2fc4f886b/share
2025-10-12 21:54:32 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 21:54:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 21:54:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1030s ago] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 21:54:32 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/7c30f896-0dcd-498a-8c0b-2ad2fc4f886b/share
2025-10-12 21:54:32 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 21:54:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 21:54:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1030s ago] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 21:54:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 21:54:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1016s ago] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'),)
2025-10-12 21:54:32 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/7c30f896-0dcd-498a-8c0b-2ad2fc4f886b/share
2025-10-12 21:54:32 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 21:54:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 21:54:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1030s ago] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 21:54:32 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0493s
2025-10-12 21:54:32 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 21:54:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 21:54:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1016s ago] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'),)
2025-10-12 21:54:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 21:54:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1016s ago] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'),)
2025-10-12 21:54:32 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0651s
2025-10-12 21:54:32 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 21:54:32 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0566s
2025-10-12 21:54:32 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 21:54:40 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/7c30f896-0dcd-498a-8c0b-2ad2fc4f886b/share
2025-10-12 21:54:40 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 21:54:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 21:54:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1039s ago] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 21:54:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 21:54:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1024s ago] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'),)
2025-10-12 21:54:40 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0620s
2025-10-12 21:54:40 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 21:55:31 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/hr-workflows/exam/submit
2025-10-12 21:55:31 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 21:55:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 21:55:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1089s ago] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 21:55:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 21:55:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1075s ago] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'),)
2025-10-12 21:55:31 - app.core.logging - INFO - dify_service - call_workflow_sync - Calling Dify workflow type 6 (sync) with query: 考生姓名：11
部门：11
试卷标题：试卷2
试卷总分：100.0
详细题目信息（包含标准答案、解析和考生答案）：
第1题：
  题目类型：单选
  题目内容：湖南省《湖南省水文条例》是在哪一年修订的...
2025-10-12 21:55:32 - httpx - INFO - _client - _send_single_request - HTTP Request: POST http://218.78.133.209:85/v1/chat-messages "HTTP/1.1 200 OK"
2025-10-12 21:55:32 - app.core.logging - INFO - hr_workflows - submit_exam - Exam submitted successfully for student: 11
2025-10-12 21:55:32 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 1.8465s
2025-10-12 21:55:32 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 21:56:08 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/7c30f896-0dcd-498a-8c0b-2ad2fc4f886b/share
2025-10-12 21:56:08 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 21:56:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 21:56:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1127s ago] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 21:56:08 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/7c30f896-0dcd-498a-8c0b-2ad2fc4f886b/share
2025-10-12 21:56:08 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 21:56:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 21:56:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1127s ago] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 21:56:08 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/7c30f896-0dcd-498a-8c0b-2ad2fc4f886b/share
2025-10-12 21:56:08 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 21:56:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 21:56:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1127s ago] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 21:56:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 21:56:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1112s ago] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'),)
2025-10-12 21:56:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 21:56:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1112s ago] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'),)
2025-10-12 21:56:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 21:56:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1112s ago] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'),)
2025-10-12 21:56:08 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0482s
2025-10-12 21:56:08 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0752s
2025-10-12 21:56:08 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 21:56:08 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 21:56:08 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0450s
2025-10-12 21:56:08 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 21:56:17 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/7c30f896-0dcd-498a-8c0b-2ad2fc4f886b/share
2025-10-12 21:56:17 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 21:56:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 21:56:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1136s ago] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 21:56:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 21:56:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1121s ago] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'),)
2025-10-12 21:56:17 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/7c30f896-0dcd-498a-8c0b-2ad2fc4f886b/share
2025-10-12 21:56:17 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 21:56:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 21:56:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1136s ago] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 21:56:18 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0712s
2025-10-12 21:56:18 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/7c30f896-0dcd-498a-8c0b-2ad2fc4f886b/share
2025-10-12 21:56:18 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 21:56:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 21:56:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1136s ago] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 21:56:18 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 21:56:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 21:56:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1122s ago] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'),)
2025-10-12 21:56:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 21:56:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1122s ago] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'),)
2025-10-12 21:56:18 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0733s
2025-10-12 21:56:18 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0579s
2025-10-12 21:56:18 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 21:56:18 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 21:56:24 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/7c30f896-0dcd-498a-8c0b-2ad2fc4f886b/share
2025-10-12 21:56:24 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 21:56:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 21:56:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1142s ago] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 21:56:24 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/7c30f896-0dcd-498a-8c0b-2ad2fc4f886b/share
2025-10-12 21:56:24 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 21:56:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 21:56:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1142s ago] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 21:56:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 21:56:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1128s ago] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'),)
2025-10-12 21:56:24 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/7c30f896-0dcd-498a-8c0b-2ad2fc4f886b/share
2025-10-12 21:56:24 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 21:56:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 21:56:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1142s ago] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 21:56:24 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0445s
2025-10-12 21:56:24 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 21:56:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 21:56:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1128s ago] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'),)
2025-10-12 21:56:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 21:56:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1128s ago] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'),)
2025-10-12 21:56:24 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0504s
2025-10-12 21:56:24 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 21:56:24 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0551s
2025-10-12 21:56:24 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 21:56:38 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/7c30f896-0dcd-498a-8c0b-2ad2fc4f886b/share
2025-10-12 21:56:38 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 21:56:38 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 21:56:38 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1156s ago] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 21:56:38 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 21:56:38 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1142s ago] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'),)
2025-10-12 21:56:38 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0314s
2025-10-12 21:56:38 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 21:57:48 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/hr-workflows/exam/submit
2025-10-12 21:57:48 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 21:57:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 21:57:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1226s ago] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 21:57:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 21:57:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1212s ago] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'),)
2025-10-12 21:57:48 - app.core.logging - INFO - dify_service - call_workflow_sync - Calling Dify workflow type 6 (sync) with query: 考生姓名：11
部门：11
试卷标题：试卷2
试卷总分：100.0
详细题目信息（包含标准答案、解析和考生答案）：
第1题：
  题目类型：单选
  题目内容：湖南省《湖南省水文条例》是在哪一年修订的...
2025-10-12 21:57:50 - httpx - INFO - _client - _send_single_request - HTTP Request: POST http://218.78.133.209:85/v1/chat-messages "HTTP/1.1 200 OK"
2025-10-12 21:57:50 - app.core.logging - INFO - hr_workflows - submit_exam - Exam submitted successfully for student: 11
2025-10-12 21:57:50 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 2.4013s
2025-10-12 21:57:50 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 21:58:47 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/7c30f896-0dcd-498a-8c0b-2ad2fc4f886b/share
2025-10-12 21:58:47 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 21:58:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 21:58:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1286s ago] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 21:58:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 21:58:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1271s ago] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'),)
2025-10-12 21:58:47 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/7c30f896-0dcd-498a-8c0b-2ad2fc4f886b/share
2025-10-12 21:58:47 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/7c30f896-0dcd-498a-8c0b-2ad2fc4f886b/share
2025-10-12 21:58:47 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 21:58:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 21:58:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1286s ago] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 21:58:47 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 21:58:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 21:58:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1286s ago] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 21:58:47 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0788s
2025-10-12 21:58:47 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 21:58:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 21:58:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1271s ago] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'),)
2025-10-12 21:58:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 21:58:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1271s ago] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'),)
2025-10-12 21:58:47 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0598s
2025-10-12 21:58:47 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 21:58:47 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0721s
2025-10-12 21:58:47 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 21:58:56 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/7c30f896-0dcd-498a-8c0b-2ad2fc4f886b/share
2025-10-12 21:58:56 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 21:58:56 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 21:58:56 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1294s ago] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 21:58:56 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 21:58:56 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1280s ago] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'),)
2025-10-12 21:58:56 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0466s
2025-10-12 21:58:56 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 22:00:26 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/7c30f896-0dcd-498a-8c0b-2ad2fc4f886b/share
2025-10-12 22:00:26 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:00:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 22:00:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1384s ago] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 22:00:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 22:00:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1370s ago] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'),)
2025-10-12 22:00:26 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0354s
2025-10-12 22:00:26 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 22:04:12 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/hr-workflows/exam/submit
2025-10-12 22:04:12 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:04:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 22:04:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1611s ago] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 22:04:31 - app.core.logging - ERROR - hr_workflows - submit_exam - Error submitting exam: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID]
[parameters: ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-12 22:04:31 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: 提交考试失败: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID]
[parameters: ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-12 22:04:31 - app.core.middleware - INFO - middleware - dispatch - Response: 500 - Processing time: 19.1986s
2025-10-12 22:04:35 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-12 22:04:35 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-12 22:04:35 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-12 22:04:35 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 22:04:35 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 22:04:35 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/7c30f896-0dcd-498a-8c0b-2ad2fc4f886b/share
2025-10-12 22:04:35 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:04:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-12 22:04:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 963.4s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-12 22:04:35 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:04:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 22:04:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1633s ago] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 22:04:35 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-12 22:04:35 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-12 22:04:35 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-12 22:04:35 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-12 22:04:35 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-12 22:04:35 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-12 22:04:35 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.2565s
2025-10-12 22:04:35 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 22:04:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 22:04:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1619s ago] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'),)
2025-10-12 22:04:35 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1722s
2025-10-12 22:04:35 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 22:04:45 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/hr-workflows/exam/submit
2025-10-12 22:04:45 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:04:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 22:04:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1644s ago] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 22:04:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 22:04:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1629s ago] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'),)
2025-10-12 22:04:45 - app.core.logging - INFO - dify_service - call_workflow_sync - Calling Dify workflow type 6 (sync) with query: 考生姓名：11
部门：11
试卷标题：试卷2
试卷总分：100.0
详细题目信息（包含标准答案、解析和考生答案）：
第1题：
  题目类型：单选
  题目内容：湖南省《湖南省水文条例》是在哪一年修订的...
2025-10-12 22:04:47 - httpx - INFO - _client - _send_single_request - HTTP Request: POST http://218.78.133.209:85/v1/chat-messages "HTTP/1.1 200 OK"
2025-10-12 22:04:47 - app.core.logging - INFO - hr_workflows - submit_exam - Exam submitted successfully for student: 11
2025-10-12 22:04:47 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 2.4877s
2025-10-12 22:04:47 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 22:08:12 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-12 22:08:12 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-12 22:08:12 - main - INFO - main - lifespan - Database connections closed
2025-10-12 22:08:12 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-12 22:08:16 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-12 22:08:16 - main - INFO - main - lifespan - Logging configured
2025-10-12 22:08:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-12 22:08:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:08:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-12 22:08:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:08:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-12 22:08:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:08:17 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:08:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-12 22:08:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00042s] ()
2025-10-12 22:08:17 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-12 22:08:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:08:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00082s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:08:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:08:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.027s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:08:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:08:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04002s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:08:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:08:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05318s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:08:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:08:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06642s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:08:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:08:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07962s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:08:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:08:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09276s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:08:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:08:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1046s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:08:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:08:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1169s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:08:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:08:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1284s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:08:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:08:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1406s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:08:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:08:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1525s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:08:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:08:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1647s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:08:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:08:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00064s] ('userrole', 'pg_catalog')
2025-10-12 22:08:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:08:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02435s ago] ('conversationstatus', 'pg_catalog')
2025-10-12 22:08:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:08:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03833s ago] ('messagerole', 'pg_catalog')
2025-10-12 22:08:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:08:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05075s ago] ('jdstatus', 'pg_catalog')
2025-10-12 22:08:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:08:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06378s ago] ('scoringstatus', 'pg_catalog')
2025-10-12 22:08:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:08:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08016s ago] ('resumestatus', 'pg_catalog')
2025-10-12 22:08:17 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 22:08:17 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-12 22:08:17 - main - INFO - main - lifespan - Database initialized successfully
2025-10-12 22:08:17 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-12 22:08:27 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-12 22:08:27 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-12 22:08:27 - main - INFO - main - lifespan - Database connections closed
2025-10-12 22:08:27 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-12 22:08:30 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-12 22:08:30 - main - INFO - main - lifespan - Logging configured
2025-10-12 22:08:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-12 22:08:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:08:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-12 22:08:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:08:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-12 22:08:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:08:30 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:08:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-12 22:08:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00032s] ()
2025-10-12 22:08:30 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-12 22:08:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:08:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00037s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:08:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:08:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.01659s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:08:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:08:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02419s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:08:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:08:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03234s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:08:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:08:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04049s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:08:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:08:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04821s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:08:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:08:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05583s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:08:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:08:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06418s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:08:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:08:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07174s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:08:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:08:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07817s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:08:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:08:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08434s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:08:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:08:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09042s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:08:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:08:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09656s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:08:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:08:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00039s] ('userrole', 'pg_catalog')
2025-10-12 22:08:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:08:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.01305s ago] ('conversationstatus', 'pg_catalog')
2025-10-12 22:08:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:08:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02045s ago] ('messagerole', 'pg_catalog')
2025-10-12 22:08:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:08:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02729s ago] ('jdstatus', 'pg_catalog')
2025-10-12 22:08:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:08:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03387s ago] ('scoringstatus', 'pg_catalog')
2025-10-12 22:08:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:08:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04047s ago] ('resumestatus', 'pg_catalog')
2025-10-12 22:08:30 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 22:08:30 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-12 22:08:30 - main - INFO - main - lifespan - Database initialized successfully
2025-10-12 22:08:30 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-12 22:08:37 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-12 22:08:37 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-12 22:08:37 - main - INFO - main - lifespan - Database connections closed
2025-10-12 22:08:37 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-12 22:08:40 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-12 22:08:40 - main - INFO - main - lifespan - Logging configured
2025-10-12 22:08:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-12 22:08:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:08:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-12 22:08:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:08:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-12 22:08:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:08:40 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:08:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-12 22:08:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00039s] ()
2025-10-12 22:08:40 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-12 22:08:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:08:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00051s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:08:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:08:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.01651s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:08:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:08:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02428s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:08:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:08:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03154s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:08:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:08:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03985s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:08:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:08:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04703s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:08:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:08:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05575s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:08:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:08:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0629s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:08:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:08:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06958s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:08:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:08:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07543s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:08:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:08:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08339s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:08:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:08:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09053s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:08:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:08:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09645s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:08:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:08:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1033s ago] ('exam_results', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:08:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:08:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1097s ago] ('exam_answer_details', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:08:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:08:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00068s] ('userrole', 'pg_catalog')
2025-10-12 22:08:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:08:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.01663s ago] ('conversationstatus', 'pg_catalog')
2025-10-12 22:08:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:08:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02681s ago] ('messagerole', 'pg_catalog')
2025-10-12 22:08:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:08:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03526s ago] ('jdstatus', 'pg_catalog')
2025-10-12 22:08:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:08:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04208s ago] ('scoringstatus', 'pg_catalog')
2025-10-12 22:08:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:08:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04833s ago] ('resumestatus', 'pg_catalog')
2025-10-12 22:08:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - 
CREATE TABLE exam_results (
	exam_id UUID NOT NULL, 
	student_name VARCHAR(100) NOT NULL, 
	department VARCHAR(100), 
	total_possible_score FLOAT NOT NULL, 
	total_actual_score FLOAT NOT NULL, 
	score_percentage FLOAT, 
	start_time TIMESTAMP WITHOUT TIME ZONE, 
	submit_time TIMESTAMP WITHOUT TIME ZONE, 
	duration_minutes INTEGER, 
	student_answers JSON, 
	scoring_result JSON, 
	status VARCHAR(20) NOT NULL, 
	id UUID NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	is_active BOOLEAN NOT NULL, 
	created_by UUID, 
	updated_by UUID, 
	PRIMARY KEY (id), 
	FOREIGN KEY(exam_id) REFERENCES exams (id)
)


2025-10-12 22:08:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00030s] ()
2025-10-12 22:08:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE INDEX ix_exam_results_id ON exam_results (id)
2025-10-12 22:08:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00029s] ()
2025-10-12 22:08:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - COMMENT ON COLUMN exam_results.exam_id IS '试卷ID'
2025-10-12 22:08:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00033s] ()
2025-10-12 22:08:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - COMMENT ON COLUMN exam_results.student_name IS '考生姓名'
2025-10-12 22:08:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00032s] ()
2025-10-12 22:08:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - COMMENT ON COLUMN exam_results.department IS '考生部门'
2025-10-12 22:08:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00030s] ()
2025-10-12 22:08:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - COMMENT ON COLUMN exam_results.total_possible_score IS '试卷总分'
2025-10-12 22:08:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00045s] ()
2025-10-12 22:08:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - COMMENT ON COLUMN exam_results.total_actual_score IS '实际得分'
2025-10-12 22:08:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00100s] ()
2025-10-12 22:08:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - COMMENT ON COLUMN exam_results.score_percentage IS '得分率'
2025-10-12 22:08:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00156s] ()
2025-10-12 22:08:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - COMMENT ON COLUMN exam_results.start_time IS '开始考试时间'
2025-10-12 22:08:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00163s] ()
2025-10-12 22:08:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - COMMENT ON COLUMN exam_results.submit_time IS '提交时间'
2025-10-12 22:08:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00047s] ()
2025-10-12 22:08:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - COMMENT ON COLUMN exam_results.duration_minutes IS '实际考试时长(分钟)'
2025-10-12 22:08:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00106s] ()
2025-10-12 22:08:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - COMMENT ON COLUMN exam_results.student_answers IS '学生原始答案JSON'
2025-10-12 22:08:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00035s] ()
2025-10-12 22:08:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - COMMENT ON COLUMN exam_results.scoring_result IS 'Dify评分原始结果'
2025-10-12 22:08:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00041s] ()
2025-10-12 22:08:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - COMMENT ON COLUMN exam_results.status IS '考试状态'
2025-10-12 22:08:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00029s] ()
2025-10-12 22:08:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - 
CREATE TABLE exam_answer_details (
	exam_result_id UUID NOT NULL, 
	question_id UUID NOT NULL, 
	question_number INTEGER NOT NULL, 
	question_type VARCHAR(50) NOT NULL, 
	question_text TEXT NOT NULL, 
	question_options JSON, 
	correct_answer TEXT, 
	question_explanation TEXT, 
	question_score FLOAT NOT NULL, 
	student_answer TEXT, 
	actual_score FLOAT NOT NULL, 
	is_correct VARCHAR(20), 
	id UUID NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	is_active BOOLEAN NOT NULL, 
	created_by UUID, 
	updated_by UUID, 
	PRIMARY KEY (id), 
	FOREIGN KEY(exam_result_id) REFERENCES exam_results (id), 
	FOREIGN KEY(question_id) REFERENCES questions (id)
)


2025-10-12 22:08:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00142s] ()
2025-10-12 22:08:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE INDEX ix_exam_answer_details_id ON exam_answer_details (id)
2025-10-12 22:08:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00036s] ()
2025-10-12 22:08:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - COMMENT ON COLUMN exam_answer_details.exam_result_id IS '考试结果ID'
2025-10-12 22:08:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00049s] ()
2025-10-12 22:08:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - COMMENT ON COLUMN exam_answer_details.question_id IS '题目ID'
2025-10-12 22:08:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00096s] ()
2025-10-12 22:08:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - COMMENT ON COLUMN exam_answer_details.question_number IS '题目编号'
2025-10-12 22:08:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00144s] ()
2025-10-12 22:08:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - COMMENT ON COLUMN exam_answer_details.question_type IS '题目类型'
2025-10-12 22:08:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00161s] ()
2025-10-12 22:08:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - COMMENT ON COLUMN exam_answer_details.question_text IS '题目内容'
2025-10-12 22:08:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00050s] ()
2025-10-12 22:08:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - COMMENT ON COLUMN exam_answer_details.question_options IS '题目选项'
2025-10-12 22:08:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00143s] ()
2025-10-12 22:08:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - COMMENT ON COLUMN exam_answer_details.correct_answer IS '标准答案'
2025-10-12 22:08:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00130s] ()
2025-10-12 22:08:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - COMMENT ON COLUMN exam_answer_details.question_explanation IS '题目解析'
2025-10-12 22:08:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00054s] ()
2025-10-12 22:08:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - COMMENT ON COLUMN exam_answer_details.question_score IS '题目分值'
2025-10-12 22:08:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00132s] ()
2025-10-12 22:08:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - COMMENT ON COLUMN exam_answer_details.student_answer IS '学生答案'
2025-10-12 22:08:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00154s] ()
2025-10-12 22:08:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - COMMENT ON COLUMN exam_answer_details.actual_score IS '实际得分'
2025-10-12 22:08:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00049s] ()
2025-10-12 22:08:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - COMMENT ON COLUMN exam_answer_details.is_correct IS '答题正确性'
2025-10-12 22:08:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00079s] ()
2025-10-12 22:08:41 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 22:08:41 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-12 22:08:41 - main - INFO - main - lifespan - Database initialized successfully
2025-10-12 22:08:41 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-12 22:08:55 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-12 22:08:55 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-12 22:08:55 - main - INFO - main - lifespan - Database connections closed
2025-10-12 22:08:55 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-12 22:14:56 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-12 22:14:56 - main - INFO - main - lifespan - Logging configured
2025-10-12 22:14:56 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-12 22:14:56 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:14:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-12 22:14:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:14:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-12 22:14:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:14:57 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:14:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-12 22:14:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00026s] ()
2025-10-12 22:14:57 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-12 22:14:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:14:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00037s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:14:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:14:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02063s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:14:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:14:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03072s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:14:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:14:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03991s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:14:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:14:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04908s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:14:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:14:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05861s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:14:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:14:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06786s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:14:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:14:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07789s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:14:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:14:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08652s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:14:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:14:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09504s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:14:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:14:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1031s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:14:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:14:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1109s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:14:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:14:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1191s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:14:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:14:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1267s ago] ('exam_results', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:14:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:14:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1348s ago] ('exam_answer_details', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:14:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:14:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00032s] ('userrole', 'pg_catalog')
2025-10-12 22:14:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:14:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0158s ago] ('conversationstatus', 'pg_catalog')
2025-10-12 22:14:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:14:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02374s ago] ('messagerole', 'pg_catalog')
2025-10-12 22:14:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:14:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03166s ago] ('jdstatus', 'pg_catalog')
2025-10-12 22:14:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:14:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04s ago] ('scoringstatus', 'pg_catalog')
2025-10-12 22:14:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:14:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04775s ago] ('resumestatus', 'pg_catalog')
2025-10-12 22:14:57 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 22:14:57 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-12 22:14:57 - main - INFO - main - lifespan - Database initialized successfully
2025-10-12 22:14:57 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-12 22:16:01 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-12 22:16:01 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-12 22:16:01 - main - INFO - main - lifespan - Database connections closed
2025-10-12 22:16:01 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-12 22:16:06 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-12 22:16:06 - main - INFO - main - lifespan - Logging configured
2025-10-12 22:16:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-12 22:16:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:16:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-12 22:16:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:16:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-12 22:16:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:16:06 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:16:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-12 22:16:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00056s] ()
2025-10-12 22:16:06 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-12 22:16:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:16:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00053s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:16:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:16:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03482s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:16:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:16:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0519s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:16:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:16:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0698s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:16:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:16:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08698s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:16:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:16:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1039s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:16:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:16:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1208s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:16:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:16:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1368s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:16:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:16:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1529s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:16:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:16:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1751s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:16:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:16:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.19s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:16:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:16:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.2061s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:16:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:16:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.2212s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:16:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:16:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.2384s ago] ('exam_results', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:16:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:16:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.2545s ago] ('exam_answer_details', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:16:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:16:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00086s] ('userrole', 'pg_catalog')
2025-10-12 22:16:07 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:16:07 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03101s ago] ('conversationstatus', 'pg_catalog')
2025-10-12 22:16:07 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:16:07 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04614s ago] ('messagerole', 'pg_catalog')
2025-10-12 22:16:07 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:16:07 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06226s ago] ('jdstatus', 'pg_catalog')
2025-10-12 22:16:07 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:16:07 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0778s ago] ('scoringstatus', 'pg_catalog')
2025-10-12 22:16:07 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:16:07 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09402s ago] ('resumestatus', 'pg_catalog')
2025-10-12 22:16:07 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 22:16:07 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-12 22:16:07 - main - INFO - main - lifespan - Database initialized successfully
2025-10-12 22:16:07 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-12 22:16:28 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-12 22:16:28 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-12 22:16:28 - main - INFO - main - lifespan - Database connections closed
2025-10-12 22:16:28 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-12 22:16:32 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-12 22:16:32 - main - INFO - main - lifespan - Logging configured
2025-10-12 22:16:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-12 22:16:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:16:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-12 22:16:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:16:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-12 22:16:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:16:32 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:16:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-12 22:16:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00035s] ()
2025-10-12 22:16:32 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-12 22:16:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:16:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00035s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:16:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:16:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02205s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:16:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:16:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03242s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:16:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:16:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04329s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:16:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:16:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05483s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:16:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:16:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06494s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:16:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:16:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07567s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:16:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:16:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08584s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:16:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:16:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09564s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:16:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:16:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1044s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:16:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:16:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1131s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:16:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:16:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1218s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:16:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:16:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1305s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:16:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:16:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1392s ago] ('exam_results', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:16:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:16:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1482s ago] ('exam_answer_details', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:16:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:16:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00045s] ('userrole', 'pg_catalog')
2025-10-12 22:16:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:16:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.01862s ago] ('conversationstatus', 'pg_catalog')
2025-10-12 22:16:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:16:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02836s ago] ('messagerole', 'pg_catalog')
2025-10-12 22:16:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:16:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03808s ago] ('jdstatus', 'pg_catalog')
2025-10-12 22:16:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:16:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04929s ago] ('scoringstatus', 'pg_catalog')
2025-10-12 22:16:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:16:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06076s ago] ('resumestatus', 'pg_catalog')
2025-10-12 22:16:32 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 22:16:32 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-12 22:16:32 - main - INFO - main - lifespan - Database initialized successfully
2025-10-12 22:16:32 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-12 22:16:34 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-12 22:16:34 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-12 22:16:34 - main - INFO - main - lifespan - Database connections closed
2025-10-12 22:16:34 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-12 22:16:38 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-12 22:16:38 - main - INFO - main - lifespan - Logging configured
2025-10-12 22:16:39 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-12 22:16:39 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:16:39 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-12 22:16:39 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:16:39 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-12 22:16:39 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:16:39 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:16:39 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-12 22:16:39 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00038s] ()
2025-10-12 22:16:39 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-12 22:16:39 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:16:39 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00045s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:16:39 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:16:39 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03529s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:16:39 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:16:39 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05215s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:16:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:16:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06833s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:16:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:16:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08522s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:16:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:16:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1013s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:16:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:16:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1176s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:16:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:16:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1339s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:16:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:16:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1497s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:16:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:16:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1655s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:16:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:16:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1814s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:16:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:16:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1976s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:16:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:16:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.2134s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:16:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:16:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.2286s ago] ('exam_results', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:16:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:16:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.2439s ago] ('exam_answer_details', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:16:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:16:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00053s] ('userrole', 'pg_catalog')
2025-10-12 22:16:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:16:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03292s ago] ('conversationstatus', 'pg_catalog')
2025-10-12 22:16:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:16:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0488s ago] ('messagerole', 'pg_catalog')
2025-10-12 22:16:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:16:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06478s ago] ('jdstatus', 'pg_catalog')
2025-10-12 22:16:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:16:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08038s ago] ('scoringstatus', 'pg_catalog')
2025-10-12 22:16:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:16:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09569s ago] ('resumestatus', 'pg_catalog')
2025-10-12 22:16:40 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 22:16:40 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-12 22:16:40 - main - INFO - main - lifespan - Database initialized successfully
2025-10-12 22:16:40 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-12 22:16:41 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-12 22:16:41 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-12 22:16:41 - main - INFO - main - lifespan - Database connections closed
2025-10-12 22:16:41 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-12 22:16:44 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-12 22:16:44 - main - INFO - main - lifespan - Logging configured
2025-10-12 22:16:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-12 22:16:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:16:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-12 22:16:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:16:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-12 22:16:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:16:44 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:16:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-12 22:16:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00040s] ()
2025-10-12 22:16:44 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-12 22:16:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:16:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00054s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:16:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:16:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02262s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:16:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:16:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03324s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:16:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:16:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04414s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:16:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:16:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0551s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:16:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:16:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06591s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:16:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:16:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07655s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:16:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:16:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08714s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:16:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:16:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09748s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:16:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:16:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1074s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:16:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:16:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1177s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:16:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:16:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1283s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:16:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:16:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1387s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:16:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:16:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1491s ago] ('exam_results', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:16:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:16:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1594s ago] ('exam_answer_details', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:16:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:16:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00065s] ('userrole', 'pg_catalog')
2025-10-12 22:16:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:16:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0209s ago] ('conversationstatus', 'pg_catalog')
2025-10-12 22:16:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:16:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03165s ago] ('messagerole', 'pg_catalog')
2025-10-12 22:16:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:16:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04202s ago] ('jdstatus', 'pg_catalog')
2025-10-12 22:16:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:16:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05158s ago] ('scoringstatus', 'pg_catalog')
2025-10-12 22:16:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:16:45 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06157s ago] ('resumestatus', 'pg_catalog')
2025-10-12 22:16:45 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 22:16:45 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-12 22:16:45 - main - INFO - main - lifespan - Database initialized successfully
2025-10-12 22:16:45 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-12 22:17:05 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-12 22:17:05 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-12 22:17:05 - main - INFO - main - lifespan - Database connections closed
2025-10-12 22:17:05 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-12 22:17:09 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-12 22:17:09 - main - INFO - main - lifespan - Logging configured
2025-10-12 22:17:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-12 22:17:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:17:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-12 22:17:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:17:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-12 22:17:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:17:10 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:17:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-12 22:17:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00037s] ()
2025-10-12 22:17:10 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-12 22:17:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:17:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00061s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:17:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:17:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02461s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:17:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:17:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03618s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:17:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:17:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04888s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:17:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:17:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06142s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:17:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:17:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07398s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:17:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:17:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08613s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:17:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:17:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09825s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:17:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:17:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1095s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:17:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:17:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.12s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:17:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:17:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1303s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:17:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:17:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1407s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:17:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:17:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1506s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:17:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:17:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1611s ago] ('exam_results', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:17:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:17:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1713s ago] ('exam_answer_details', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:17:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:17:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00053s] ('userrole', 'pg_catalog')
2025-10-12 22:17:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:17:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02061s ago] ('conversationstatus', 'pg_catalog')
2025-10-12 22:17:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:17:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03178s ago] ('messagerole', 'pg_catalog')
2025-10-12 22:17:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:17:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04293s ago] ('jdstatus', 'pg_catalog')
2025-10-12 22:17:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:17:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05387s ago] ('scoringstatus', 'pg_catalog')
2025-10-12 22:17:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:17:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06493s ago] ('resumestatus', 'pg_catalog')
2025-10-12 22:17:10 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 22:17:10 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-12 22:17:10 - main - INFO - main - lifespan - Database initialized successfully
2025-10-12 22:17:10 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-12 22:17:27 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-12 22:17:27 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-12 22:17:27 - main - INFO - main - lifespan - Database connections closed
2025-10-12 22:17:27 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-12 22:17:31 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-12 22:17:31 - main - INFO - main - lifespan - Logging configured
2025-10-12 22:17:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-12 22:17:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:17:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-12 22:17:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:17:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-12 22:17:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:17:31 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:17:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-12 22:17:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00036s] ()
2025-10-12 22:17:31 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-12 22:17:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:17:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00045s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:17:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:17:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02476s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:17:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:17:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0365s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:17:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:17:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04768s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:17:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:17:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05955s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:17:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:17:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07054s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:17:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:17:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08169s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:17:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:17:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0935s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:17:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:17:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1041s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:17:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:17:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1185s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:17:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:17:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1293s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:17:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:17:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.14s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:17:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:17:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1496s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:17:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:17:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1592s ago] ('exam_results', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:17:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:17:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1687s ago] ('exam_answer_details', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:17:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:17:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00035s] ('userrole', 'pg_catalog')
2025-10-12 22:17:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:17:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.01934s ago] ('conversationstatus', 'pg_catalog')
2025-10-12 22:17:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:17:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02911s ago] ('messagerole', 'pg_catalog')
2025-10-12 22:17:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:17:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03925s ago] ('jdstatus', 'pg_catalog')
2025-10-12 22:17:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:17:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04919s ago] ('scoringstatus', 'pg_catalog')
2025-10-12 22:17:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:17:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05904s ago] ('resumestatus', 'pg_catalog')
2025-10-12 22:17:32 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 22:17:32 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-12 22:17:32 - main - INFO - main - lifespan - Database initialized successfully
2025-10-12 22:17:32 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-12 22:18:05 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-12 22:18:05 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-12 22:18:05 - main - INFO - main - lifespan - Database connections closed
2025-10-12 22:18:05 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-12 22:18:10 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-12 22:18:10 - main - INFO - main - lifespan - Logging configured
2025-10-12 22:18:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-12 22:18:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:18:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-12 22:18:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:18:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-12 22:18:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:18:10 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:18:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-12 22:18:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00034s] ()
2025-10-12 22:18:10 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-12 22:18:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:18:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00048s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:18:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:18:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03059s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:18:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:18:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04448s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:18:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:18:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0588s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:18:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:18:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0725s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:18:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:18:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08695s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:18:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:18:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1004s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:18:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:18:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.114s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:18:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:18:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1274s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:18:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:18:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1399s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:18:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:18:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1524s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:18:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:18:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1644s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:18:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:18:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1765s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:18:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:18:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1888s ago] ('exam_results', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:18:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:18:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.2004s ago] ('exam_answer_details', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:18:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:18:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00041s] ('userrole', 'pg_catalog')
2025-10-12 22:18:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:18:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02443s ago] ('conversationstatus', 'pg_catalog')
2025-10-12 22:18:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:18:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03671s ago] ('messagerole', 'pg_catalog')
2025-10-12 22:18:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:18:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05093s ago] ('jdstatus', 'pg_catalog')
2025-10-12 22:18:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:18:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06391s ago] ('scoringstatus', 'pg_catalog')
2025-10-12 22:18:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:18:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07717s ago] ('resumestatus', 'pg_catalog')
2025-10-12 22:18:10 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 22:18:10 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-12 22:18:10 - main - INFO - main - lifespan - Database initialized successfully
2025-10-12 22:18:10 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-12 22:18:56 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/hr-workflows/exam/submit
2025-10-12 22:18:56 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:18:56 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 22:18:56 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00105s] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 22:18:56 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 22:18:56 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00075s] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'),)
2025-10-12 22:18:56 - app.core.logging - INFO - dify_service - call_workflow_sync - Calling Dify workflow type 6 (sync) with query: 考生姓名：11
部门：11
试卷标题：试卷2
试卷总分：100.0
详细题目信息（包含标准答案、解析和考生答案）：
第1题：
  题目类型：单选
  题目内容：湖南省《湖南省水文条例》是在哪一年修订的...
2025-10-12 22:19:02 - httpx - INFO - _client - _send_single_request - HTTP Request: POST http://218.78.133.209:85/v1/chat-messages "HTTP/1.1 200 OK"
2025-10-12 22:19:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - INSERT INTO exam_results (exam_id, student_name, department, total_possible_score, total_actual_score, score_percentage, start_time, submit_time, duration_minutes, student_answers, scoring_result, status, id, created_at, updated_at, is_active, created_by, updated_by) VALUES ($1::UUID, $2::VARCHAR, $3::VARCHAR, $4::FLOAT, $5::FLOAT, $6::FLOAT, $7::TIMESTAMP WITHOUT TIME ZONE, $8::TIMESTAMP WITHOUT TIME ZONE, $9::INTEGER, $10::JSON, $11::JSON, $12::VARCHAR, $13::UUID, $14::TIMESTAMP WITHOUT TIME ZONE, $15::TIMESTAMP WITHOUT TIME ZONE, $16::BOOLEAN, $17::UUID, $18::UUID)
2025-10-12 22:19:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00080s] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'), '11', '11', 100.0, 4.0, 4.0, datetime.datetime(2025, 10, 12, 14, 19, 2, 172180), datetime.datetime(2025, 10, 12, 14, 19, 2, 172180), 0, '{"d8f8e768-2ea4-421a-bc82-9c5dd3260307": "C", "7567fe0e-4659-4c23-9ced-5761ea8845bb": ["A", "B"], "a41e48e4-12e1-4c9a-bd2a-2fa8562bbacf": "11"}', '{"event": "message", "task_id": "335e80a6-92f8-4770-8be7-6ab5e1fe0412", "id": "1db9ec17-7637-4acb-96cf-4f3b1b631f6e", "message_id": "1db9ec17-7637-4a ... (321 characters truncated) ... : "0", "completion_price": "0", "total_tokens": 973, "total_price": "0", "currency": "USD", "latency": 4.956627689301968}}, "created_at": 1760278737}', 'completed', UUID('5519c9e6-b2ba-4572-a0aa-4c3808157f70'), datetime.datetime(2025, 10, 12, 14, 19, 2, 175166), datetime.datetime(2025, 10, 12, 14, 19, 2, 175166), True, None, None)
2025-10-12 22:19:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - INSERT INTO exam_answer_details (exam_result_id, question_id, question_number, question_type, question_text, question_options, correct_answer, question_explanation, question_score, student_answer, actual_score, is_correct, id, created_at, updated_at, is_active, created_by, updated_by) VALUES ($1::UUID, $2::UUID, $3::INTEGER, $4::VARCHAR, $5::VARCHAR, $6::JSON, $7::VARCHAR, $8::VARCHAR, $9::FLOAT, $10::VARCHAR, $11::FLOAT, $12::VARCHAR, $13::UUID, $14::TIMESTAMP WITHOUT TIME ZONE, $15::TIMESTAMP WITHOUT TIME ZONE, $16::BOOLEAN, $17::UUID, $18::UUID)
2025-10-12 22:19:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00194s] [(UUID('5519c9e6-b2ba-4572-a0aa-4c3808157f70'), UUID('d8f8e768-2ea4-421a-bc82-9c5dd3260307'), 1, '单选', '湖南省《湖南省水文条例》是在哪一年修订的？', '[{"id": "A", "text": "2006\\u5e74"}, {"id": "B", "text": "2021\\u5e74"}, {"id": "C", "text": "2025\\u5e74"}, {"id": "D", "text": "2023\\u5e74"}]', '2025年', '根据文档内容“2025年7月31日湖南省第十四届人民代表大会常务委员会第十七次会议修订”，可知答案为2025年。', 2.0, 'C', 2.0, 'correct', UUID('500ff422-f2b3-4d67-bb91-b04c01f9c4ff'), datetime.datetime(2025, 10, 12, 14, 19, 2, 211023), datetime.datetime(2025, 10, 12, 14, 19, 2, 211023), True, None, None), (UUID('5519c9e6-b2ba-4572-a0aa-4c3808157f70'), UUID('7567fe0e-4659-4c23-9ced-5761ea8845bb'), 2, '多选', '县级以上人民政府哪些部门需要按照各自职责做好水文工作？', '[{"id": "A", "text": "\\u53d1\\u5c55\\u548c\\u6539\\u9769\\u90e8\\u95e8"}, {"id": "B", "text": "\\u8d22\\u653f\\u90e8\\u95e8"}, {"id": "C", "text": "\\u4f4f\\u623f\\u548c\\u57ce\\u4e61\\u5efa\\u8bbe\\u90e8\\u95e8"}, {"id": "D", "text": "\\u6559\\u80b2\\u90e8\\u95e8"}]', '发展和改革部门；财政部门；住房和城乡建设部门', '文档中提到“县级以上人民政府发展和改革、财政、住房和城乡建设、应急管理、自然资源、生态环境、农业农村、交通运输、林业以及气象等部门按照各自职责做好水文工作”，不包含教育部门，所以正确答案是发展和改革部门、财政部门、住房和城乡建设部门。', 3.0, ['A', 'B'], 2.0, 'incorrect', UUID('46c6d021-7bfd-47cb-bb02-d5b2db7d3049'), datetime.datetime(2025, 10, 12, 14, 19, 2, 211023), datetime.datetime(2025, 10, 12, 14, 19, 2, 211023), True, None, None), (UUID('5519c9e6-b2ba-4572-a0aa-4c3808157f70'), UUID('a41e48e4-12e1-4c9a-bd2a-2fa8562bbacf'), 3, '简答', '新建、改建、扩建水利工程配套水文设施建设有哪些要求？', '[]', '新建、改建、扩建水库工程、蓄滞洪区工程、山洪灾害防治工程、引调水工程等水利工程应当按照国家规定配套水文设施建设，与主体工程同步规划、同步设计、同步施工、同步验收；配套水文设施建设和运行管理经费，分别纳入水利工程建设概算和运行管理经费。水利工程配套水文设施建设的，水行政主管部门在立项审查环节应当有省或者派驻设区的市、自治州的水文机构参加审查并出具技术意见。已建和在建水利工程按照要求配套水文设施建设的，由水利工程管理单位或者项目建设单位组织编制配套水文设施设计文件，履行水文测站设立和调整程序。', '答案依据文档中第十条的相关内容。', 5.0, '11', 0.0, 'incorrect', UUID('fc7148fd-458e-4039-a8bf-7755b9357fa0'), datetime.datetime(2025, 10, 12, 14, 19, 2, 211023), datetime.datetime(2025, 10, 12, 14, 19, 2, 211023), True, None, None)]
2025-10-12 22:19:02 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 22:19:02 - app.core.logging - ERROR - hr_workflows - submit_exam - Error submitting exam: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $10 in element #1 of executemany() sequence: ['A', 'B'] (expected str, got list)
[SQL: INSERT INTO exam_answer_details (exam_result_id, question_id, question_number, question_type, question_text, question_options, correct_answer, question_explanation, question_score, student_answer, actual_score, is_correct, id, created_at, updated_at, is_active, created_by, updated_by) VALUES ($1::UUID, $2::UUID, $3::INTEGER, $4::VARCHAR, $5::VARCHAR, $6::JSON, $7::VARCHAR, $8::VARCHAR, $9::FLOAT, $10::VARCHAR, $11::FLOAT, $12::VARCHAR, $13::UUID, $14::TIMESTAMP WITHOUT TIME ZONE, $15::TIMESTAMP WITHOUT TIME ZONE, $16::BOOLEAN, $17::UUID, $18::UUID)]
[parameters: [(UUID('5519c9e6-b2ba-4572-a0aa-4c3808157f70'), UUID('d8f8e768-2ea4-421a-bc82-9c5dd3260307'), 1, '单选', '湖南省《湖南省水文条例》是在哪一年修订的？', '[{"id": "A", "text": "2006\\u5e74"}, {"id": "B", "text": "2021\\u5e74"}, {"id": "C", "text": "2025\\u5e74"}, {"id": "D", "text": "2023\\u5e74"}]', '2025年', '根据文档内容“2025年7月31日湖南省第十四届人民代表大会常务委员会第十七次会议修订”，可知答案为2025年。', 2.0, 'C', 2.0, 'correct', UUID('500ff422-f2b3-4d67-bb91-b04c01f9c4ff'), datetime.datetime(2025, 10, 12, 14, 19, 2, 211023), datetime.datetime(2025, 10, 12, 14, 19, 2, 211023), True, None, None), (UUID('5519c9e6-b2ba-4572-a0aa-4c3808157f70'), UUID('7567fe0e-4659-4c23-9ced-5761ea8845bb'), 2, '多选', '县级以上人民政府哪些部门需要按照各自职责做好水文工作？', '[{"id": "A", "text": "\\u53d1\\u5c55\\u548c\\u6539\\u9769\\u90e8\\u95e8"}, {"id": "B", "text": "\\u8d22\\u653f\\u90e8\\u95e8"}, {"id": "C", "text": "\\u4f4f\\u623f\\u548c\\u57ce\\u4e61\\u5efa\\u8bbe\\u90e8\\u95e8"}, {"id": "D", "text": "\\u6559\\u80b2\\u90e8\\u95e8"}]', '发展和改革部门；财政部门；住房和城乡建设部门', '文档中提到“县级以上人民政府发展和改革、财政、住房和城乡建设、应急管理、自然资源、生态环境、农业农村、交通运输、林业以及气象等部门按照各自职责做好水文工作”，不包含教育部门，所以正确答案是发展和改革部门、财政部门、住房和城乡建设部门。', 3.0, ['A', 'B'], 2.0, 'incorrect', UUID('46c6d021-7bfd-47cb-bb02-d5b2db7d3049'), datetime.datetime(2025, 10, 12, 14, 19, 2, 211023), datetime.datetime(2025, 10, 12, 14, 19, 2, 211023), True, None, None), (UUID('5519c9e6-b2ba-4572-a0aa-4c3808157f70'), UUID('a41e48e4-12e1-4c9a-bd2a-2fa8562bbacf'), 3, '简答', '新建、改建、扩建水利工程配套水文设施建设有哪些要求？', '[]', '新建、改建、扩建水库工程、蓄滞洪区工程、山洪灾害防治工程、引调水工程等水利工程应当按照国家规定配套水文设施建设，与主体工程同步规划、同步设计、同步施工、同步验收；配套水文设施建设和运行管理经费，分别纳入水利工程建设概算和运行管理经费。水利工程配套水文设施建设的，水行政主管部门在立项审查环节应当有省或者派驻设区的市、自治州的水文机构参加审查并出具技术意见。已建和在建水利工程按照要求配套水文设施建设的，由水利工程管理单位或者项目建设单位组织编制配套水文设施设计文件，履行水文测站设立和调整程序。', '答案依据文档中第十条的相关内容。', 5.0, '11', 0.0, 'incorrect', UUID('fc7148fd-458e-4039-a8bf-7755b9357fa0'), datetime.datetime(2025, 10, 12, 14, 19, 2, 211023), datetime.datetime(2025, 10, 12, 14, 19, 2, 211023), True, None, None)]]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-12 22:19:02 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: 提交考试失败: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $10 in element #1 of executemany() sequence: ['A', 'B'] (expected str, got list)
[SQL: INSERT INTO exam_answer_details (exam_result_id, question_id, question_number, question_type, question_text, question_options, correct_answer, question_explanation, question_score, student_answer, actual_score, is_correct, id, created_at, updated_at, is_active, created_by, updated_by) VALUES ($1::UUID, $2::UUID, $3::INTEGER, $4::VARCHAR, $5::VARCHAR, $6::JSON, $7::VARCHAR, $8::VARCHAR, $9::FLOAT, $10::VARCHAR, $11::FLOAT, $12::VARCHAR, $13::UUID, $14::TIMESTAMP WITHOUT TIME ZONE, $15::TIMESTAMP WITHOUT TIME ZONE, $16::BOOLEAN, $17::UUID, $18::UUID)]
[parameters: [(UUID('5519c9e6-b2ba-4572-a0aa-4c3808157f70'), UUID('d8f8e768-2ea4-421a-bc82-9c5dd3260307'), 1, '单选', '湖南省《湖南省水文条例》是在哪一年修订的？', '[{"id": "A", "text": "2006\\u5e74"}, {"id": "B", "text": "2021\\u5e74"}, {"id": "C", "text": "2025\\u5e74"}, {"id": "D", "text": "2023\\u5e74"}]', '2025年', '根据文档内容“2025年7月31日湖南省第十四届人民代表大会常务委员会第十七次会议修订”，可知答案为2025年。', 2.0, 'C', 2.0, 'correct', UUID('500ff422-f2b3-4d67-bb91-b04c01f9c4ff'), datetime.datetime(2025, 10, 12, 14, 19, 2, 211023), datetime.datetime(2025, 10, 12, 14, 19, 2, 211023), True, None, None), (UUID('5519c9e6-b2ba-4572-a0aa-4c3808157f70'), UUID('7567fe0e-4659-4c23-9ced-5761ea8845bb'), 2, '多选', '县级以上人民政府哪些部门需要按照各自职责做好水文工作？', '[{"id": "A", "text": "\\u53d1\\u5c55\\u548c\\u6539\\u9769\\u90e8\\u95e8"}, {"id": "B", "text": "\\u8d22\\u653f\\u90e8\\u95e8"}, {"id": "C", "text": "\\u4f4f\\u623f\\u548c\\u57ce\\u4e61\\u5efa\\u8bbe\\u90e8\\u95e8"}, {"id": "D", "text": "\\u6559\\u80b2\\u90e8\\u95e8"}]', '发展和改革部门；财政部门；住房和城乡建设部门', '文档中提到“县级以上人民政府发展和改革、财政、住房和城乡建设、应急管理、自然资源、生态环境、农业农村、交通运输、林业以及气象等部门按照各自职责做好水文工作”，不包含教育部门，所以正确答案是发展和改革部门、财政部门、住房和城乡建设部门。', 3.0, ['A', 'B'], 2.0, 'incorrect', UUID('46c6d021-7bfd-47cb-bb02-d5b2db7d3049'), datetime.datetime(2025, 10, 12, 14, 19, 2, 211023), datetime.datetime(2025, 10, 12, 14, 19, 2, 211023), True, None, None), (UUID('5519c9e6-b2ba-4572-a0aa-4c3808157f70'), UUID('a41e48e4-12e1-4c9a-bd2a-2fa8562bbacf'), 3, '简答', '新建、改建、扩建水利工程配套水文设施建设有哪些要求？', '[]', '新建、改建、扩建水库工程、蓄滞洪区工程、山洪灾害防治工程、引调水工程等水利工程应当按照国家规定配套水文设施建设，与主体工程同步规划、同步设计、同步施工、同步验收；配套水文设施建设和运行管理经费，分别纳入水利工程建设概算和运行管理经费。水利工程配套水文设施建设的，水行政主管部门在立项审查环节应当有省或者派驻设区的市、自治州的水文机构参加审查并出具技术意见。已建和在建水利工程按照要求配套水文设施建设的，由水利工程管理单位或者项目建设单位组织编制配套水文设施设计文件，履行水文测站设立和调整程序。', '答案依据文档中第十条的相关内容。', 5.0, '11', 0.0, 'incorrect', UUID('fc7148fd-458e-4039-a8bf-7755b9357fa0'), datetime.datetime(2025, 10, 12, 14, 19, 2, 211023), datetime.datetime(2025, 10, 12, 14, 19, 2, 211023), True, None, None)]]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-12 22:19:02 - app.core.middleware - INFO - middleware - dispatch - Response: 500 - Processing time: 6.1385s
2025-10-12 22:19:20 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/hr-workflows/exam/submit
2025-10-12 22:19:20 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:19:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 22:19:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 24.48s ago] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 22:19:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 22:19:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 24.46s ago] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'),)
2025-10-12 22:19:20 - app.core.logging - INFO - dify_service - call_workflow_sync - Calling Dify workflow type 6 (sync) with query: 考生姓名：11
部门：11
试卷标题：试卷2
试卷总分：100.0
详细题目信息（包含标准答案、解析和考生答案）：
第1题：
  题目类型：单选
  题目内容：湖南省《湖南省水文条例》是在哪一年修订的...
2025-10-12 22:19:23 - httpx - INFO - _client - _send_single_request - HTTP Request: POST http://218.78.133.209:85/v1/chat-messages "HTTP/1.1 200 OK"
2025-10-12 22:19:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - INSERT INTO exam_results (exam_id, student_name, department, total_possible_score, total_actual_score, score_percentage, start_time, submit_time, duration_minutes, student_answers, scoring_result, status, id, created_at, updated_at, is_active, created_by, updated_by) VALUES ($1::UUID, $2::VARCHAR, $3::VARCHAR, $4::FLOAT, $5::FLOAT, $6::FLOAT, $7::TIMESTAMP WITHOUT TIME ZONE, $8::TIMESTAMP WITHOUT TIME ZONE, $9::INTEGER, $10::JSON, $11::JSON, $12::VARCHAR, $13::UUID, $14::TIMESTAMP WITHOUT TIME ZONE, $15::TIMESTAMP WITHOUT TIME ZONE, $16::BOOLEAN, $17::UUID, $18::UUID)
2025-10-12 22:19:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 20.99s ago] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'), '11', '11', 100.0, 4.0, 4.0, datetime.datetime(2025, 10, 12, 14, 19, 23, 160689), datetime.datetime(2025, 10, 12, 14, 19, 23, 160689), 0, '{"d8f8e768-2ea4-421a-bc82-9c5dd3260307": "C", "7567fe0e-4659-4c23-9ced-5761ea8845bb": ["A", "B"], "a41e48e4-12e1-4c9a-bd2a-2fa8562bbacf": "11"}', '{"event": "message", "task_id": "8504cf90-b4e3-4795-862f-c8aea8aea4c9", "id": "d10e86f3-9c62-4d2b-8e24-e7c3229c7d11", "message_id": "d10e86f3-9c62-4d ... (322 characters truncated) ...  "0", "completion_price": "0", "total_tokens": 973, "total_price": "0", "currency": "USD", "latency": 1.5842968225479126}}, "created_at": 1760278761}', 'completed', UUID('02ae8d16-dc62-49a1-bca2-665babdaa49a'), datetime.datetime(2025, 10, 12, 14, 19, 23, 163685), datetime.datetime(2025, 10, 12, 14, 19, 23, 163685), True, None, None)
2025-10-12 22:19:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - INSERT INTO exam_answer_details (exam_result_id, question_id, question_number, question_type, question_text, question_options, correct_answer, question_explanation, question_score, student_answer, actual_score, is_correct, id, created_at, updated_at, is_active, created_by, updated_by) VALUES ($1::UUID, $2::UUID, $3::INTEGER, $4::VARCHAR, $5::VARCHAR, $6::JSON, $7::VARCHAR, $8::VARCHAR, $9::FLOAT, $10::VARCHAR, $11::FLOAT, $12::VARCHAR, $13::UUID, $14::TIMESTAMP WITHOUT TIME ZONE, $15::TIMESTAMP WITHOUT TIME ZONE, $16::BOOLEAN, $17::UUID, $18::UUID)
2025-10-12 22:19:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 20.97s ago] [(UUID('02ae8d16-dc62-49a1-bca2-665babdaa49a'), UUID('d8f8e768-2ea4-421a-bc82-9c5dd3260307'), 1, '单选', '湖南省《湖南省水文条例》是在哪一年修订的？', '[{"id": "A", "text": "2006\\u5e74"}, {"id": "B", "text": "2021\\u5e74"}, {"id": "C", "text": "2025\\u5e74"}, {"id": "D", "text": "2023\\u5e74"}]', '2025年', '根据文档内容“2025年7月31日湖南省第十四届人民代表大会常务委员会第十七次会议修订”，可知答案为2025年。', 2.0, 'C', 2.0, 'correct', UUID('723c5a5a-70ea-41a5-982d-6315ba05d142'), datetime.datetime(2025, 10, 12, 14, 19, 23, 182952), datetime.datetime(2025, 10, 12, 14, 19, 23, 183949), True, None, None), (UUID('02ae8d16-dc62-49a1-bca2-665babdaa49a'), UUID('7567fe0e-4659-4c23-9ced-5761ea8845bb'), 2, '多选', '县级以上人民政府哪些部门需要按照各自职责做好水文工作？', '[{"id": "A", "text": "\\u53d1\\u5c55\\u548c\\u6539\\u9769\\u90e8\\u95e8"}, {"id": "B", "text": "\\u8d22\\u653f\\u90e8\\u95e8"}, {"id": "C", "text": "\\u4f4f\\u623f\\u548c\\u57ce\\u4e61\\u5efa\\u8bbe\\u90e8\\u95e8"}, {"id": "D", "text": "\\u6559\\u80b2\\u90e8\\u95e8"}]', '发展和改革部门；财政部门；住房和城乡建设部门', '文档中提到“县级以上人民政府发展和改革、财政、住房和城乡建设、应急管理、自然资源、生态环境、农业农村、交通运输、林业以及气象等部门按照各自职责做好水文工作”，不包含教育部门，所以正确答案是发展和改革部门、财政部门、住房和城乡建设部门。', 3.0, ['A', 'B'], 2.0, 'incorrect', UUID('9052dba4-9b32-4f3d-98dc-1a010777fd8e'), datetime.datetime(2025, 10, 12, 14, 19, 23, 183949), datetime.datetime(2025, 10, 12, 14, 19, 23, 183949), True, None, None), (UUID('02ae8d16-dc62-49a1-bca2-665babdaa49a'), UUID('a41e48e4-12e1-4c9a-bd2a-2fa8562bbacf'), 3, '简答', '新建、改建、扩建水利工程配套水文设施建设有哪些要求？', '[]', '新建、改建、扩建水库工程、蓄滞洪区工程、山洪灾害防治工程、引调水工程等水利工程应当按照国家规定配套水文设施建设，与主体工程同步规划、同步设计、同步施工、同步验收；配套水文设施建设和运行管理经费，分别纳入水利工程建设概算和运行管理经费。水利工程配套水文设施建设的，水行政主管部门在立项审查环节应当有省或者派驻设区的市、自治州的水文机构参加审查并出具技术意见。已建和在建水利工程按照要求配套水文设施建设的，由水利工程管理单位或者项目建设单位组织编制配套水文设施设计文件，履行水文测站设立和调整程序。', '答案依据文档中第十条的相关内容。', 5.0, '11', 0.0, 'incorrect', UUID('9fb6516c-49d6-4bbd-ac63-ef3488a59da1'), datetime.datetime(2025, 10, 12, 14, 19, 23, 183949), datetime.datetime(2025, 10, 12, 14, 19, 23, 183949), True, None, None)]
2025-10-12 22:19:23 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 22:19:23 - app.core.logging - ERROR - hr_workflows - submit_exam - Error submitting exam: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $10 in element #1 of executemany() sequence: ['A', 'B'] (expected str, got list)
[SQL: INSERT INTO exam_answer_details (exam_result_id, question_id, question_number, question_type, question_text, question_options, correct_answer, question_explanation, question_score, student_answer, actual_score, is_correct, id, created_at, updated_at, is_active, created_by, updated_by) VALUES ($1::UUID, $2::UUID, $3::INTEGER, $4::VARCHAR, $5::VARCHAR, $6::JSON, $7::VARCHAR, $8::VARCHAR, $9::FLOAT, $10::VARCHAR, $11::FLOAT, $12::VARCHAR, $13::UUID, $14::TIMESTAMP WITHOUT TIME ZONE, $15::TIMESTAMP WITHOUT TIME ZONE, $16::BOOLEAN, $17::UUID, $18::UUID)]
[parameters: [(UUID('02ae8d16-dc62-49a1-bca2-665babdaa49a'), UUID('d8f8e768-2ea4-421a-bc82-9c5dd3260307'), 1, '单选', '湖南省《湖南省水文条例》是在哪一年修订的？', '[{"id": "A", "text": "2006\\u5e74"}, {"id": "B", "text": "2021\\u5e74"}, {"id": "C", "text": "2025\\u5e74"}, {"id": "D", "text": "2023\\u5e74"}]', '2025年', '根据文档内容“2025年7月31日湖南省第十四届人民代表大会常务委员会第十七次会议修订”，可知答案为2025年。', 2.0, 'C', 2.0, 'correct', UUID('723c5a5a-70ea-41a5-982d-6315ba05d142'), datetime.datetime(2025, 10, 12, 14, 19, 23, 182952), datetime.datetime(2025, 10, 12, 14, 19, 23, 183949), True, None, None), (UUID('02ae8d16-dc62-49a1-bca2-665babdaa49a'), UUID('7567fe0e-4659-4c23-9ced-5761ea8845bb'), 2, '多选', '县级以上人民政府哪些部门需要按照各自职责做好水文工作？', '[{"id": "A", "text": "\\u53d1\\u5c55\\u548c\\u6539\\u9769\\u90e8\\u95e8"}, {"id": "B", "text": "\\u8d22\\u653f\\u90e8\\u95e8"}, {"id": "C", "text": "\\u4f4f\\u623f\\u548c\\u57ce\\u4e61\\u5efa\\u8bbe\\u90e8\\u95e8"}, {"id": "D", "text": "\\u6559\\u80b2\\u90e8\\u95e8"}]', '发展和改革部门；财政部门；住房和城乡建设部门', '文档中提到“县级以上人民政府发展和改革、财政、住房和城乡建设、应急管理、自然资源、生态环境、农业农村、交通运输、林业以及气象等部门按照各自职责做好水文工作”，不包含教育部门，所以正确答案是发展和改革部门、财政部门、住房和城乡建设部门。', 3.0, ['A', 'B'], 2.0, 'incorrect', UUID('9052dba4-9b32-4f3d-98dc-1a010777fd8e'), datetime.datetime(2025, 10, 12, 14, 19, 23, 183949), datetime.datetime(2025, 10, 12, 14, 19, 23, 183949), True, None, None), (UUID('02ae8d16-dc62-49a1-bca2-665babdaa49a'), UUID('a41e48e4-12e1-4c9a-bd2a-2fa8562bbacf'), 3, '简答', '新建、改建、扩建水利工程配套水文设施建设有哪些要求？', '[]', '新建、改建、扩建水库工程、蓄滞洪区工程、山洪灾害防治工程、引调水工程等水利工程应当按照国家规定配套水文设施建设，与主体工程同步规划、同步设计、同步施工、同步验收；配套水文设施建设和运行管理经费，分别纳入水利工程建设概算和运行管理经费。水利工程配套水文设施建设的，水行政主管部门在立项审查环节应当有省或者派驻设区的市、自治州的水文机构参加审查并出具技术意见。已建和在建水利工程按照要求配套水文设施建设的，由水利工程管理单位或者项目建设单位组织编制配套水文设施设计文件，履行水文测站设立和调整程序。', '答案依据文档中第十条的相关内容。', 5.0, '11', 0.0, 'incorrect', UUID('9fb6516c-49d6-4bbd-ac63-ef3488a59da1'), datetime.datetime(2025, 10, 12, 14, 19, 23, 183949), datetime.datetime(2025, 10, 12, 14, 19, 23, 183949), True, None, None)]]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-12 22:19:23 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: 提交考试失败: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $10 in element #1 of executemany() sequence: ['A', 'B'] (expected str, got list)
[SQL: INSERT INTO exam_answer_details (exam_result_id, question_id, question_number, question_type, question_text, question_options, correct_answer, question_explanation, question_score, student_answer, actual_score, is_correct, id, created_at, updated_at, is_active, created_by, updated_by) VALUES ($1::UUID, $2::UUID, $3::INTEGER, $4::VARCHAR, $5::VARCHAR, $6::JSON, $7::VARCHAR, $8::VARCHAR, $9::FLOAT, $10::VARCHAR, $11::FLOAT, $12::VARCHAR, $13::UUID, $14::TIMESTAMP WITHOUT TIME ZONE, $15::TIMESTAMP WITHOUT TIME ZONE, $16::BOOLEAN, $17::UUID, $18::UUID)]
[parameters: [(UUID('02ae8d16-dc62-49a1-bca2-665babdaa49a'), UUID('d8f8e768-2ea4-421a-bc82-9c5dd3260307'), 1, '单选', '湖南省《湖南省水文条例》是在哪一年修订的？', '[{"id": "A", "text": "2006\\u5e74"}, {"id": "B", "text": "2021\\u5e74"}, {"id": "C", "text": "2025\\u5e74"}, {"id": "D", "text": "2023\\u5e74"}]', '2025年', '根据文档内容“2025年7月31日湖南省第十四届人民代表大会常务委员会第十七次会议修订”，可知答案为2025年。', 2.0, 'C', 2.0, 'correct', UUID('723c5a5a-70ea-41a5-982d-6315ba05d142'), datetime.datetime(2025, 10, 12, 14, 19, 23, 182952), datetime.datetime(2025, 10, 12, 14, 19, 23, 183949), True, None, None), (UUID('02ae8d16-dc62-49a1-bca2-665babdaa49a'), UUID('7567fe0e-4659-4c23-9ced-5761ea8845bb'), 2, '多选', '县级以上人民政府哪些部门需要按照各自职责做好水文工作？', '[{"id": "A", "text": "\\u53d1\\u5c55\\u548c\\u6539\\u9769\\u90e8\\u95e8"}, {"id": "B", "text": "\\u8d22\\u653f\\u90e8\\u95e8"}, {"id": "C", "text": "\\u4f4f\\u623f\\u548c\\u57ce\\u4e61\\u5efa\\u8bbe\\u90e8\\u95e8"}, {"id": "D", "text": "\\u6559\\u80b2\\u90e8\\u95e8"}]', '发展和改革部门；财政部门；住房和城乡建设部门', '文档中提到“县级以上人民政府发展和改革、财政、住房和城乡建设、应急管理、自然资源、生态环境、农业农村、交通运输、林业以及气象等部门按照各自职责做好水文工作”，不包含教育部门，所以正确答案是发展和改革部门、财政部门、住房和城乡建设部门。', 3.0, ['A', 'B'], 2.0, 'incorrect', UUID('9052dba4-9b32-4f3d-98dc-1a010777fd8e'), datetime.datetime(2025, 10, 12, 14, 19, 23, 183949), datetime.datetime(2025, 10, 12, 14, 19, 23, 183949), True, None, None), (UUID('02ae8d16-dc62-49a1-bca2-665babdaa49a'), UUID('a41e48e4-12e1-4c9a-bd2a-2fa8562bbacf'), 3, '简答', '新建、改建、扩建水利工程配套水文设施建设有哪些要求？', '[]', '新建、改建、扩建水库工程、蓄滞洪区工程、山洪灾害防治工程、引调水工程等水利工程应当按照国家规定配套水文设施建设，与主体工程同步规划、同步设计、同步施工、同步验收；配套水文设施建设和运行管理经费，分别纳入水利工程建设概算和运行管理经费。水利工程配套水文设施建设的，水行政主管部门在立项审查环节应当有省或者派驻设区的市、自治州的水文机构参加审查并出具技术意见。已建和在建水利工程按照要求配套水文设施建设的，由水利工程管理单位或者项目建设单位组织编制配套水文设施设计文件，履行水文测站设立和调整程序。', '答案依据文档中第十条的相关内容。', 5.0, '11', 0.0, 'incorrect', UUID('9fb6516c-49d6-4bbd-ac63-ef3488a59da1'), datetime.datetime(2025, 10, 12, 14, 19, 23, 183949), datetime.datetime(2025, 10, 12, 14, 19, 23, 183949), True, None, None)]]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-12 22:19:23 - app.core.middleware - INFO - middleware - dispatch - Response: 500 - Processing time: 2.5316s
2025-10-12 22:20:36 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-12 22:20:36 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-12 22:20:36 - main - INFO - main - lifespan - Database connections closed
2025-10-12 22:20:36 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-12 22:20:40 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-12 22:20:40 - main - INFO - main - lifespan - Logging configured
2025-10-12 22:20:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-12 22:20:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:20:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-12 22:20:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:20:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-12 22:20:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:20:40 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:20:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-12 22:20:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00035s] ()
2025-10-12 22:20:41 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-12 22:20:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:20:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00041s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:20:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:20:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02557s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:20:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:20:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03838s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:20:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:20:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05054s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:20:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:20:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06337s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:20:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:20:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07521s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:20:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:20:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08785s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:20:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:20:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.101s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:20:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:20:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1129s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:20:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:20:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1239s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:20:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:20:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1349s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:20:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:20:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1462s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:20:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:20:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1576s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:20:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:20:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1684s ago] ('exam_results', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:20:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:20:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1796s ago] ('exam_answer_details', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:20:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:20:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00039s] ('userrole', 'pg_catalog')
2025-10-12 22:20:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:20:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02158s ago] ('conversationstatus', 'pg_catalog')
2025-10-12 22:20:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:20:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03245s ago] ('messagerole', 'pg_catalog')
2025-10-12 22:20:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:20:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04363s ago] ('jdstatus', 'pg_catalog')
2025-10-12 22:20:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:20:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05539s ago] ('scoringstatus', 'pg_catalog')
2025-10-12 22:20:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:20:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06604s ago] ('resumestatus', 'pg_catalog')
2025-10-12 22:20:41 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 22:20:41 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-12 22:20:41 - main - INFO - main - lifespan - Database initialized successfully
2025-10-12 22:20:41 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-12 22:22:46 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-12 22:22:46 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-12 22:22:46 - main - INFO - main - lifespan - Database connections closed
2025-10-12 22:22:46 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-12 22:22:49 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-12 22:22:49 - main - INFO - main - lifespan - Logging configured
2025-10-12 22:22:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-12 22:22:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:22:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-12 22:22:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:22:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-12 22:22:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:22:50 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:22:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-12 22:22:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00068s] ()
2025-10-12 22:22:50 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-12 22:22:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:22:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00040s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:22:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:22:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05031s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:22:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:22:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06507s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:22:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:22:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07946s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:22:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:22:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09434s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:22:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:22:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1101s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:22:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:22:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1277s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:22:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:22:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1463s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:22:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:22:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1642s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:22:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:22:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1784s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:22:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:22:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.191s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:22:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:22:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.204s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:22:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:22:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.2171s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:22:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:22:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.2308s ago] ('exam_results', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:22:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:22:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.2442s ago] ('exam_answer_details', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:22:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:22:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00065s] ('userrole', 'pg_catalog')
2025-10-12 22:22:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:22:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02763s ago] ('conversationstatus', 'pg_catalog')
2025-10-12 22:22:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:22:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04133s ago] ('messagerole', 'pg_catalog')
2025-10-12 22:22:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:22:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05457s ago] ('jdstatus', 'pg_catalog')
2025-10-12 22:22:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:22:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06876s ago] ('scoringstatus', 'pg_catalog')
2025-10-12 22:22:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:22:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08272s ago] ('resumestatus', 'pg_catalog')
2025-10-12 22:22:50 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 22:22:50 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-12 22:22:50 - main - INFO - main - lifespan - Database initialized successfully
2025-10-12 22:22:50 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-12 22:22:57 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-12 22:22:57 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-12 22:22:57 - main - INFO - main - lifespan - Database connections closed
2025-10-12 22:22:57 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-12 22:24:24 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-12 22:24:24 - main - INFO - main - lifespan - Logging configured
2025-10-12 22:24:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-12 22:24:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:24:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-12 22:24:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:24:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-12 22:24:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:24:24 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:24:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-12 22:24:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00044s] ()
2025-10-12 22:24:24 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-12 22:24:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:24:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00054s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:24:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:24:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03098s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:24:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:24:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04604s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:24:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:24:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06097s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:24:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:24:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07644s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:24:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:24:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09086s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:24:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:24:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1065s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:24:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:24:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1241s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:24:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:24:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1408s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:24:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:24:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1557s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:24:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:24:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1724s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:24:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:24:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1875s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:24:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:24:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.2028s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:24:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:24:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.2176s ago] ('exam_results', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:24:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:24:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00048s] ('userrole', 'pg_catalog')
2025-10-12 22:24:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:24:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02833s ago] ('conversationstatus', 'pg_catalog')
2025-10-12 22:24:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:24:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04457s ago] ('messagerole', 'pg_catalog')
2025-10-12 22:24:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:24:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06247s ago] ('jdstatus', 'pg_catalog')
2025-10-12 22:24:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:24:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08047s ago] ('scoringstatus', 'pg_catalog')
2025-10-12 22:24:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:24:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0987s ago] ('resumestatus', 'pg_catalog')
2025-10-12 22:24:25 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 22:24:25 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-12 22:24:25 - main - INFO - main - lifespan - Database initialized successfully
2025-10-12 22:24:25 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-12 22:24:32 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-12 22:24:32 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-12 22:24:32 - main - INFO - main - lifespan - Database connections closed
2025-10-12 22:24:32 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-12 22:24:36 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-12 22:24:36 - main - INFO - main - lifespan - Logging configured
2025-10-12 22:24:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-12 22:24:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:24:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-12 22:24:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:24:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-12 22:24:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:24:36 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:24:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-12 22:24:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00142s] ()
2025-10-12 22:24:37 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-12 22:24:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:24:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00048s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:24:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:24:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02499s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:24:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:24:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03759s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:24:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:24:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04824s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:24:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:24:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05902s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:24:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:24:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06884s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:24:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:24:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0803s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:24:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:24:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09122s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:24:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:24:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1002s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:24:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:24:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1085s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:24:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:24:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1167s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:24:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:24:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1251s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:24:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:24:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1333s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:24:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:24:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1414s ago] ('exam_results', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:24:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:24:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00038s] ('userrole', 'pg_catalog')
2025-10-12 22:24:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:24:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.01775s ago] ('conversationstatus', 'pg_catalog')
2025-10-12 22:24:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:24:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02751s ago] ('messagerole', 'pg_catalog')
2025-10-12 22:24:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:24:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03833s ago] ('jdstatus', 'pg_catalog')
2025-10-12 22:24:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:24:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05123s ago] ('scoringstatus', 'pg_catalog')
2025-10-12 22:24:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:24:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06446s ago] ('resumestatus', 'pg_catalog')
2025-10-12 22:24:37 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 22:24:37 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-12 22:24:37 - main - INFO - main - lifespan - Database initialized successfully
2025-10-12 22:24:37 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-12 22:25:43 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-12 22:25:43 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-12 22:25:43 - main - INFO - main - lifespan - Database connections closed
2025-10-12 22:25:43 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-12 22:25:47 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-12 22:25:47 - main - INFO - main - lifespan - Logging configured
2025-10-12 22:25:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-12 22:25:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:25:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-12 22:25:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:25:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-12 22:25:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:25:47 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:25:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-12 22:25:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00038s] ()
2025-10-12 22:25:47 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-12 22:25:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:25:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00042s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:25:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:25:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03354s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:25:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:25:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04967s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:25:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:25:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06693s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:25:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:25:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08676s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:25:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:25:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1063s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:25:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:25:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1243s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:25:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:25:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1407s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:25:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:25:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.158s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:25:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:25:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1755s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:25:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:25:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1916s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:25:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:25:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.2077s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:25:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:25:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.2253s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:25:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:25:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.2432s ago] ('exam_results', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:25:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:25:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00140s] ('userrole', 'pg_catalog')
2025-10-12 22:25:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:25:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03155s ago] ('conversationstatus', 'pg_catalog')
2025-10-12 22:25:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:25:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0463s ago] ('messagerole', 'pg_catalog')
2025-10-12 22:25:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:25:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06174s ago] ('jdstatus', 'pg_catalog')
2025-10-12 22:25:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:25:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0767s ago] ('scoringstatus', 'pg_catalog')
2025-10-12 22:25:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:25:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09119s ago] ('resumestatus', 'pg_catalog')
2025-10-12 22:25:47 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 22:25:47 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-12 22:25:47 - main - INFO - main - lifespan - Database initialized successfully
2025-10-12 22:25:47 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-12 22:26:58 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-12 22:26:59 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-12 22:26:59 - main - INFO - main - lifespan - Database connections closed
2025-10-12 22:26:59 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-12 22:27:02 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-12 22:27:02 - main - INFO - main - lifespan - Logging configured
2025-10-12 22:27:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-12 22:27:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:27:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-12 22:27:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:27:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-12 22:27:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:27:02 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:27:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-12 22:27:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00040s] ()
2025-10-12 22:27:02 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-12 22:27:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:27:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00053s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:27:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:27:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02354s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:27:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:27:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03633s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04824s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06085s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07347s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08519s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09724s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1084s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1188s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1291s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1392s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1487s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1588s ago] ('exam_results', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00042s] ('userrole', 'pg_catalog')
2025-10-12 22:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.01984s ago] ('conversationstatus', 'pg_catalog')
2025-10-12 22:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03039s ago] ('messagerole', 'pg_catalog')
2025-10-12 22:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0408s ago] ('jdstatus', 'pg_catalog')
2025-10-12 22:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05085s ago] ('scoringstatus', 'pg_catalog')
2025-10-12 22:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:27:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06097s ago] ('resumestatus', 'pg_catalog')
2025-10-12 22:27:03 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 22:27:03 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-12 22:27:03 - main - INFO - main - lifespan - Database initialized successfully
2025-10-12 22:27:03 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-12 22:27:11 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-12 22:27:11 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-12 22:27:11 - main - INFO - main - lifespan - Database connections closed
2025-10-12 22:27:11 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-12 22:27:15 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-12 22:27:15 - main - INFO - main - lifespan - Logging configured
2025-10-12 22:27:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-12 22:27:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:27:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-12 22:27:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:27:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-12 22:27:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:27:15 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:27:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-12 22:27:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00034s] ()
2025-10-12 22:27:15 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-12 22:27:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:27:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00041s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:27:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:27:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07451s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:27:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:27:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1113s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:27:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:27:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1648s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:27:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:27:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.2141s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:27:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:27:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.2574s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:27:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:27:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.298s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:27:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:27:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.3361s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:27:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:27:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.3715s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:27:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:27:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.4049s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:27:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:27:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.4376s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:27:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:27:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.4712s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:27:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:27:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.5053s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:27:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:27:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.5377s ago] ('exam_results', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:27:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:27:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00055s] ('userrole', 'pg_catalog')
2025-10-12 22:27:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:27:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06643s ago] ('conversationstatus', 'pg_catalog')
2025-10-12 22:27:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:27:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0987s ago] ('messagerole', 'pg_catalog')
2025-10-12 22:27:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:27:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1295s ago] ('jdstatus', 'pg_catalog')
2025-10-12 22:27:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:27:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1587s ago] ('scoringstatus', 'pg_catalog')
2025-10-12 22:27:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:27:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1878s ago] ('resumestatus', 'pg_catalog')
2025-10-12 22:27:16 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 22:27:16 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-12 22:27:16 - main - INFO - main - lifespan - Database initialized successfully
2025-10-12 22:27:16 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-12 22:27:35 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-12 22:27:35 - main - INFO - main - lifespan - Logging configured
2025-10-12 22:27:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-12 22:27:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:27:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-12 22:27:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:27:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-12 22:27:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:27:35 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:27:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-12 22:27:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00047s] ()
2025-10-12 22:27:36 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-12 22:27:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:27:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00099s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:27:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:27:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0267s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:27:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:27:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03902s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:27:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:27:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05167s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:27:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:27:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06346s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:27:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:27:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07559s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:27:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:27:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08766s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:27:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:27:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09893s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:27:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:27:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1097s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:27:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:27:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1203s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:27:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:27:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1314s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:27:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:27:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.142s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:27:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:27:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1523s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:27:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:27:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1629s ago] ('exam_results', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:27:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:27:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00070s] ('userrole', 'pg_catalog')
2025-10-12 22:27:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:27:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02441s ago] ('conversationstatus', 'pg_catalog')
2025-10-12 22:27:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:27:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03742s ago] ('messagerole', 'pg_catalog')
2025-10-12 22:27:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:27:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04981s ago] ('jdstatus', 'pg_catalog')
2025-10-12 22:27:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:27:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06398s ago] ('scoringstatus', 'pg_catalog')
2025-10-12 22:27:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:27:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07731s ago] ('resumestatus', 'pg_catalog')
2025-10-12 22:27:36 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 22:27:36 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-12 22:27:36 - main - INFO - main - lifespan - Database initialized successfully
2025-10-12 22:27:36 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-12 22:27:54 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/hr-workflows/exam/submit
2025-10-12 22:27:54 - app.core.logging - ERROR - hr_workflows - submit_exam - Error submitting exam: Could not determine join condition between parent/child tables on relationship Exam.exam_results - there are no foreign keys linking these tables.  Ensure that referencing columns are associated with a ForeignKey or ForeignKeyConstraint, or specify a 'primaryjoin' expression.
2025-10-12 22:27:54 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: 提交考试失败: Could not determine join condition between parent/child tables on relationship Exam.exam_results - there are no foreign keys linking these tables.  Ensure that referencing columns are associated with a ForeignKey or ForeignKeyConstraint, or specify a 'primaryjoin' expression.
2025-10-12 22:27:54 - app.core.middleware - INFO - middleware - dispatch - Response: 500 - Processing time: 0.0647s
2025-10-12 22:28:12 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/hr-workflows/exam/submit
2025-10-12 22:28:12 - app.core.logging - ERROR - hr_workflows - submit_exam - Error submitting exam: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[Exam(exams)]'. Original exception was: Could not determine join condition between parent/child tables on relationship Exam.exam_results - there are no foreign keys linking these tables.  Ensure that referencing columns are associated with a ForeignKey or ForeignKeyConstraint, or specify a 'primaryjoin' expression.
2025-10-12 22:28:12 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: 提交考试失败: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[Exam(exams)]'. Original exception was: Could not determine join condition between parent/child tables on relationship Exam.exam_results - there are no foreign keys linking these tables.  Ensure that referencing columns are associated with a ForeignKey or ForeignKeyConstraint, or specify a 'primaryjoin' expression.
2025-10-12 22:28:12 - app.core.middleware - INFO - middleware - dispatch - Response: 500 - Processing time: 0.0070s
2025-10-12 22:28:16 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/auth/login
2025-10-12 22:28:16 - app.api.v1.endpoints.auth - INFO - auth - login - Login attempt for username: testuser
2025-10-12 22:28:16 - app.api.v1.endpoints.auth - INFO - auth - login - UserService created successfully
2025-10-12 22:28:16 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:28:16 - app.services.user_service - ERROR - user_service - get_user_by_username - Error getting user by username testuser: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[Exam(exams)]'. Original exception was: Could not determine join condition between parent/child tables on relationship Exam.exam_results - there are no foreign keys linking these tables.  Ensure that referencing columns are associated with a ForeignKey or ForeignKeyConstraint, or specify a 'primaryjoin' expression.
2025-10-12 22:28:16 - app.services.user_service - ERROR - user_service - authenticate - Error authenticating user: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[Exam(exams)]'. Original exception was: Could not determine join condition between parent/child tables on relationship Exam.exam_results - there are no foreign keys linking these tables.  Ensure that referencing columns are associated with a ForeignKey or ForeignKeyConstraint, or specify a 'primaryjoin' expression.
2025-10-12 22:28:16 - app.api.v1.endpoints.auth - INFO - auth - login - Authentication result: False
2025-10-12 22:28:16 - app.api.v1.endpoints.auth - WARNING - auth - login - Authentication failed for username: testuser
2025-10-12 22:28:16 - app.api.v1.endpoints.auth - ERROR - auth - login - Login error: 
Traceback (most recent call last):
  File "E:\workspace-py\hr-agent\backend\app\api\v1\endpoints\auth.py", line 73, in login
    raise HTTPException(
fastapi.exceptions.HTTPException
2025-10-12 22:28:16 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 22:28:16 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: Incorrect username or password
2025-10-12 22:28:16 - app.core.middleware - INFO - middleware - dispatch - Response: 401 - Processing time: 0.0116s
2025-10-12 22:28:18 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/auth/login
2025-10-12 22:28:18 - app.api.v1.endpoints.auth - INFO - auth - login - Login attempt for username: testuser
2025-10-12 22:28:18 - app.api.v1.endpoints.auth - INFO - auth - login - UserService created successfully
2025-10-12 22:28:18 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:28:18 - app.services.user_service - ERROR - user_service - get_user_by_username - Error getting user by username testuser: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[Exam(exams)]'. Original exception was: Could not determine join condition between parent/child tables on relationship Exam.exam_results - there are no foreign keys linking these tables.  Ensure that referencing columns are associated with a ForeignKey or ForeignKeyConstraint, or specify a 'primaryjoin' expression.
2025-10-12 22:28:18 - app.services.user_service - ERROR - user_service - authenticate - Error authenticating user: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[Exam(exams)]'. Original exception was: Could not determine join condition between parent/child tables on relationship Exam.exam_results - there are no foreign keys linking these tables.  Ensure that referencing columns are associated with a ForeignKey or ForeignKeyConstraint, or specify a 'primaryjoin' expression.
2025-10-12 22:28:18 - app.api.v1.endpoints.auth - INFO - auth - login - Authentication result: False
2025-10-12 22:28:18 - app.api.v1.endpoints.auth - WARNING - auth - login - Authentication failed for username: testuser
2025-10-12 22:28:18 - app.api.v1.endpoints.auth - ERROR - auth - login - Login error: 
Traceback (most recent call last):
  File "E:\workspace-py\hr-agent\backend\app\api\v1\endpoints\auth.py", line 73, in login
    raise HTTPException(
fastapi.exceptions.HTTPException
2025-10-12 22:28:18 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 22:28:18 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: Incorrect username or password
2025-10-12 22:28:18 - app.core.middleware - INFO - middleware - dispatch - Response: 401 - Processing time: 0.0096s
2025-10-12 22:28:30 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-12 22:28:30 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-12 22:28:30 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-12 22:28:30 - app.api.deps - ERROR - deps - get_current_user - ❌ JWT decode error: Signature has expired.
2025-10-12 22:28:30 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: Could not validate credentials
2025-10-12 22:28:30 - app.core.middleware - INFO - middleware - dispatch - Response: 401 - Processing time: 0.0087s
2025-10-12 22:28:32 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/auth/login
2025-10-12 22:28:32 - app.api.v1.endpoints.auth - INFO - auth - login - Login attempt for username: testuser
2025-10-12 22:28:32 - app.api.v1.endpoints.auth - INFO - auth - login - UserService created successfully
2025-10-12 22:28:32 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:28:32 - app.services.user_service - ERROR - user_service - get_user_by_username - Error getting user by username testuser: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[Exam(exams)]'. Original exception was: Could not determine join condition between parent/child tables on relationship Exam.exam_results - there are no foreign keys linking these tables.  Ensure that referencing columns are associated with a ForeignKey or ForeignKeyConstraint, or specify a 'primaryjoin' expression.
2025-10-12 22:28:32 - app.services.user_service - ERROR - user_service - authenticate - Error authenticating user: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[Exam(exams)]'. Original exception was: Could not determine join condition between parent/child tables on relationship Exam.exam_results - there are no foreign keys linking these tables.  Ensure that referencing columns are associated with a ForeignKey or ForeignKeyConstraint, or specify a 'primaryjoin' expression.
2025-10-12 22:28:32 - app.api.v1.endpoints.auth - INFO - auth - login - Authentication result: False
2025-10-12 22:28:32 - app.api.v1.endpoints.auth - WARNING - auth - login - Authentication failed for username: testuser
2025-10-12 22:28:32 - app.api.v1.endpoints.auth - ERROR - auth - login - Login error: 
Traceback (most recent call last):
  File "E:\workspace-py\hr-agent\backend\app\api\v1\endpoints\auth.py", line 73, in login
    raise HTTPException(
fastapi.exceptions.HTTPException
2025-10-12 22:28:32 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 22:28:32 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: Incorrect username or password
2025-10-12 22:28:32 - app.core.middleware - INFO - middleware - dispatch - Response: 401 - Processing time: 0.0117s
2025-10-12 22:28:40 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/auth/login
2025-10-12 22:28:40 - app.api.v1.endpoints.auth - INFO - auth - login - Login attempt for username: testuser
2025-10-12 22:28:40 - app.api.v1.endpoints.auth - INFO - auth - login - UserService created successfully
2025-10-12 22:28:40 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:28:40 - app.services.user_service - ERROR - user_service - get_user_by_username - Error getting user by username testuser: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[Exam(exams)]'. Original exception was: Could not determine join condition between parent/child tables on relationship Exam.exam_results - there are no foreign keys linking these tables.  Ensure that referencing columns are associated with a ForeignKey or ForeignKeyConstraint, or specify a 'primaryjoin' expression.
2025-10-12 22:28:40 - app.services.user_service - ERROR - user_service - authenticate - Error authenticating user: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[Exam(exams)]'. Original exception was: Could not determine join condition between parent/child tables on relationship Exam.exam_results - there are no foreign keys linking these tables.  Ensure that referencing columns are associated with a ForeignKey or ForeignKeyConstraint, or specify a 'primaryjoin' expression.
2025-10-12 22:28:40 - app.api.v1.endpoints.auth - INFO - auth - login - Authentication result: False
2025-10-12 22:28:40 - app.api.v1.endpoints.auth - WARNING - auth - login - Authentication failed for username: testuser
2025-10-12 22:28:40 - app.api.v1.endpoints.auth - ERROR - auth - login - Login error: 
Traceback (most recent call last):
  File "E:\workspace-py\hr-agent\backend\app\api\v1\endpoints\auth.py", line 73, in login
    raise HTTPException(
fastapi.exceptions.HTTPException
2025-10-12 22:28:40 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 22:28:40 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: Incorrect username or password
2025-10-12 22:28:40 - app.core.middleware - INFO - middleware - dispatch - Response: 401 - Processing time: 0.0150s
2025-10-12 22:29:16 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-12 22:29:16 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-12 22:29:16 - main - INFO - main - lifespan - Database connections closed
2025-10-12 22:29:16 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-12 22:29:22 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-12 22:29:22 - main - INFO - main - lifespan - Logging configured
2025-10-12 22:29:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-12 22:29:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:29:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-12 22:29:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:29:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-12 22:29:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:29:23 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:29:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-12 22:29:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00102s] ()
2025-10-12 22:29:23 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-12 22:29:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:29:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00065s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:29:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:29:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0262s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:29:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:29:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04005s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:29:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:29:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0533s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:29:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:29:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06646s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:29:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:29:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08015s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:29:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:29:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09655s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:29:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:29:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1134s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:29:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:29:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1294s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:29:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:29:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1393s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:29:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:29:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1489s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:29:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:29:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1621s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:29:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:29:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1731s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:29:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:29:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1826s ago] ('exam_results', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:29:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:29:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00061s] ('userrole', 'pg_catalog')
2025-10-12 22:29:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:29:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02369s ago] ('conversationstatus', 'pg_catalog')
2025-10-12 22:29:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:29:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03689s ago] ('messagerole', 'pg_catalog')
2025-10-12 22:29:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:29:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05023s ago] ('jdstatus', 'pg_catalog')
2025-10-12 22:29:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:29:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06809s ago] ('scoringstatus', 'pg_catalog')
2025-10-12 22:29:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:29:23 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08318s ago] ('resumestatus', 'pg_catalog')
2025-10-12 22:29:23 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 22:29:23 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-12 22:29:23 - main - INFO - main - lifespan - Database initialized successfully
2025-10-12 22:29:23 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-12 22:30:25 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-12 22:30:25 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-12 22:30:25 - main - INFO - main - lifespan - Database connections closed
2025-10-12 22:30:25 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-12 22:30:30 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-12 22:30:30 - main - INFO - main - lifespan - Logging configured
2025-10-12 22:30:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-12 22:30:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:30:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-12 22:30:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:30:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-12 22:30:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:30:30 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:30:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-12 22:30:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00054s] ()
2025-10-12 22:30:30 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-12 22:30:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:30:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00101s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:30:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:30:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.01961s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:30:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:30:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02865s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:30:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:30:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03686s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:30:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:30:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04551s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:30:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:30:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05562s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:30:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:30:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0671s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:30:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:30:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0811s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:30:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:30:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09348s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:30:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:30:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1097s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:30:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:30:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1183s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:30:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:30:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1282s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:30:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:30:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1388s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:30:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:30:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1472s ago] ('exam_results', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:30:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:30:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00081s] ('userrole', 'pg_catalog')
2025-10-12 22:30:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:30:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02008s ago] ('conversationstatus', 'pg_catalog')
2025-10-12 22:30:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:30:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03194s ago] ('messagerole', 'pg_catalog')
2025-10-12 22:30:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:30:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04212s ago] ('jdstatus', 'pg_catalog')
2025-10-12 22:30:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:30:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05157s ago] ('scoringstatus', 'pg_catalog')
2025-10-12 22:30:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:30:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06234s ago] ('resumestatus', 'pg_catalog')
2025-10-12 22:30:30 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 22:30:30 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-12 22:30:30 - main - INFO - main - lifespan - Database initialized successfully
2025-10-12 22:30:30 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-12 22:30:44 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-12 22:30:44 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-12 22:30:44 - main - INFO - main - lifespan - Database connections closed
2025-10-12 22:30:44 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-12 22:30:50 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-12 22:30:50 - main - INFO - main - lifespan - Logging configured
2025-10-12 22:30:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-12 22:30:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:30:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-12 22:30:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:30:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-12 22:30:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:30:51 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:30:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-12 22:30:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00039s] ()
2025-10-12 22:30:51 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-12 22:30:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:30:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00113s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:30:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:30:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04259s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:30:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:30:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06689s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:30:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:30:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0905s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:30:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:30:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1109s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:30:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:30:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1293s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:30:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:30:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1466s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:30:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:30:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1634s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:30:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:30:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1802s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:30:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:30:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1961s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:30:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:30:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.2127s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:30:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:30:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.2292s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:30:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:30:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.2444s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:30:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:30:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.2608s ago] ('exam_results', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:30:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:30:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00130s] ('userrole', 'pg_catalog')
2025-10-12 22:30:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:30:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03317s ago] ('conversationstatus', 'pg_catalog')
2025-10-12 22:30:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:30:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.051s ago] ('messagerole', 'pg_catalog')
2025-10-12 22:30:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:30:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0672s ago] ('jdstatus', 'pg_catalog')
2025-10-12 22:30:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:30:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08254s ago] ('scoringstatus', 'pg_catalog')
2025-10-12 22:30:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:30:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09911s ago] ('resumestatus', 'pg_catalog')
2025-10-12 22:30:51 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 22:30:51 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-12 22:30:51 - main - INFO - main - lifespan - Database initialized successfully
2025-10-12 22:30:51 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-12 22:31:22 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-12 22:31:22 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-12 22:31:22 - main - INFO - main - lifespan - Database connections closed
2025-10-12 22:31:22 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-12 22:31:28 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-12 22:31:28 - main - INFO - main - lifespan - Logging configured
2025-10-12 22:31:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-12 22:31:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:31:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-12 22:31:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:31:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-12 22:31:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:31:28 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:31:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-12 22:31:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00037s] ()
2025-10-12 22:31:29 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-12 22:31:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:31:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00051s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:31:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:31:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03717s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:31:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:31:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05622s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:31:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:31:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07379s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:31:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:31:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09582s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:31:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:31:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1194s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:31:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:31:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1403s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:31:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:31:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1577s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:31:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:31:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1753s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:31:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:31:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1911s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:31:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:31:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.2077s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:31:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:31:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.2268s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:31:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:31:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.2446s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:31:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:31:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.2712s ago] ('exam_results', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:31:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:31:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00061s] ('userrole', 'pg_catalog')
2025-10-12 22:31:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:31:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03567s ago] ('conversationstatus', 'pg_catalog')
2025-10-12 22:31:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:31:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05287s ago] ('messagerole', 'pg_catalog')
2025-10-12 22:31:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:31:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07039s ago] ('jdstatus', 'pg_catalog')
2025-10-12 22:31:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:31:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09035s ago] ('scoringstatus', 'pg_catalog')
2025-10-12 22:31:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:31:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1082s ago] ('resumestatus', 'pg_catalog')
2025-10-12 22:31:29 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 22:31:29 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-12 22:31:29 - main - INFO - main - lifespan - Database initialized successfully
2025-10-12 22:31:29 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-12 22:31:32 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://127.0.0.1:8000/api/v1/auth/login
2025-10-12 22:31:32 - app.api.v1.endpoints.auth - INFO - auth - login - Login attempt for username: testuser
2025-10-12 22:31:32 - app.api.v1.endpoints.auth - INFO - auth - login - UserService created successfully
2025-10-12 22:31:32 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:31:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.username = $1::VARCHAR AND users.is_active = true
2025-10-12 22:31:32 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00056s] ('testuser',)
2025-10-12 22:31:32 - passlib.handlers.bcrypt - WARNING - bcrypt - _load_backend_mixin - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\passlib\handlers\bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-10-12 22:31:33 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - UPDATE users SET last_login=now(), updated_at=$1::TIMESTAMP WITHOUT TIME ZONE WHERE users.id = $2::UUID
2025-10-12 22:31:33 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00067s] (datetime.datetime(2025, 10, 12, 14, 31, 33, 7552), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-12 22:31:33 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 22:31:33 - app.api.v1.endpoints.auth - INFO - auth - login - Authentication result: True
2025-10-12 22:31:33 - app.api.v1.endpoints.auth - INFO - auth - login - Creating access token for user: testuser
2025-10-12 22:31:33 - app.api.v1.endpoints.auth - INFO - auth - login - Login successful for user: testuser
2025-10-12 22:31:33 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.4769s
2025-10-12 22:31:33 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://127.0.0.1:8000/api/v1/users/me
2025-10-12 22:31:33 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-12 22:31:33 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-12 22:31:33 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 22:31:33 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 22:31:33 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:31:33 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-12 22:31:33 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00035s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-12 22:31:33 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-12 22:31:33 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-12 22:31:33 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 22:31:33 - app.core.exception_handlers - ERROR - exception_handlers - generic_exception_handler - Unhandled Exception: 'UserService' object has no attribute 'get_by_id'
Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\anyio\streams\memory.py", line 98, in receive
    return self.receive_nowait()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\anyio\streams\memory.py", line 93, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 78, in call_next
    message = await recv_stream.receive()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\anyio\streams\memory.py", line 118, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
  File "E:\workspace-py\hr-agent\backend\app\core\middleware.py", line 48, in dispatch
    response = await call_next(request)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 84, in call_next
    raise app_exc
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
  File "E:\workspace-py\hr-agent\backend\app\core\middleware.py", line 25, in dispatch
    response = await call_next(request)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 84, in call_next
    raise app_exc
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\exceptions.py", line 79, in __call__
    raise exc
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 20, in __call__
    raise e
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 66, in app
    response = await func(request)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\routing.py", line 274, in app
    raw_response = await run_endpoint_function(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
  File "E:\workspace-py\hr-agent\backend\app\api\v1\endpoints\users.py", line 41, in get_user
    user = await user_service.get_by_id(user_id)
AttributeError: 'UserService' object has no attribute 'get_by_id'
2025-10-12 22:32:11 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-12 22:32:11 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-12 22:32:11 - main - INFO - main - lifespan - Database connections closed
2025-10-12 22:32:11 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-12 22:32:15 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-12 22:32:15 - main - INFO - main - lifespan - Logging configured
2025-10-12 22:32:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-12 22:32:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:32:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-12 22:32:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:32:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-12 22:32:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:32:16 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:32:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-12 22:32:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00035s] ()
2025-10-12 22:32:16 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-12 22:32:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:32:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00055s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:32:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:32:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02976s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:32:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:32:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04409s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:32:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:32:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05865s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:32:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:32:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0726s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:32:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:32:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08693s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:32:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:32:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1022s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:32:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:32:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.116s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:32:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:32:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1306s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:32:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:32:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.145s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:32:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:32:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1574s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:32:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:32:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1706s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:32:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:32:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.183s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:32:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:32:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1961s ago] ('exam_results', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:32:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:32:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00064s] ('userrole', 'pg_catalog')
2025-10-12 22:32:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:32:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02728s ago] ('conversationstatus', 'pg_catalog')
2025-10-12 22:32:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:32:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04123s ago] ('messagerole', 'pg_catalog')
2025-10-12 22:32:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:32:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05612s ago] ('jdstatus', 'pg_catalog')
2025-10-12 22:32:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:32:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06942s ago] ('scoringstatus', 'pg_catalog')
2025-10-12 22:32:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:32:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08268s ago] ('resumestatus', 'pg_catalog')
2025-10-12 22:32:16 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 22:32:16 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-12 22:32:16 - main - INFO - main - lifespan - Database initialized successfully
2025-10-12 22:32:16 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-12 22:32:25 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-12 22:32:25 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-12 22:32:25 - main - INFO - main - lifespan - Database connections closed
2025-10-12 22:32:25 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-12 22:32:30 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-12 22:32:30 - main - INFO - main - lifespan - Logging configured
2025-10-12 22:32:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-12 22:32:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:32:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-12 22:32:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:32:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-12 22:32:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:32:30 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:32:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-12 22:32:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00032s] ()
2025-10-12 22:32:30 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-12 22:32:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:32:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00045s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:32:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:32:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02391s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:32:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:32:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03501s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:32:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:32:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04582s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:32:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:32:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05846s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:32:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:32:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06899s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:32:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:32:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08212s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:32:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:32:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09364s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:32:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:32:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1033s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:32:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:32:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1129s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:32:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:32:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1213s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:32:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:32:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1307s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:32:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:32:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.139s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:32:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:32:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1486s ago] ('exam_results', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:32:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:32:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00091s] ('userrole', 'pg_catalog')
2025-10-12 22:32:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:32:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.01917s ago] ('conversationstatus', 'pg_catalog')
2025-10-12 22:32:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:32:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02899s ago] ('messagerole', 'pg_catalog')
2025-10-12 22:32:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:32:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03977s ago] ('jdstatus', 'pg_catalog')
2025-10-12 22:32:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:32:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05223s ago] ('scoringstatus', 'pg_catalog')
2025-10-12 22:32:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:32:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06461s ago] ('resumestatus', 'pg_catalog')
2025-10-12 22:32:30 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 22:32:30 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-12 22:32:30 - main - INFO - main - lifespan - Database initialized successfully
2025-10-12 22:32:30 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-12 22:32:35 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://127.0.0.1:8000/api/v1/auth/login
2025-10-12 22:32:35 - app.api.v1.endpoints.auth - INFO - auth - login - Login attempt for username: testuser
2025-10-12 22:32:35 - app.api.v1.endpoints.auth - INFO - auth - login - UserService created successfully
2025-10-12 22:32:35 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:32:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.username = $1::VARCHAR AND users.is_active = true
2025-10-12 22:32:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00095s] ('testuser',)
2025-10-12 22:32:35 - passlib.handlers.bcrypt - WARNING - bcrypt - _load_backend_mixin - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\passlib\handlers\bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-10-12 22:32:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - UPDATE users SET last_login=now(), updated_at=$1::TIMESTAMP WITHOUT TIME ZONE WHERE users.id = $2::UUID
2025-10-12 22:32:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00099s] (datetime.datetime(2025, 10, 12, 14, 32, 35, 837361), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-12 22:32:35 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 22:32:35 - app.api.v1.endpoints.auth - INFO - auth - login - Authentication result: True
2025-10-12 22:32:35 - app.api.v1.endpoints.auth - INFO - auth - login - Creating access token for user: testuser
2025-10-12 22:32:35 - app.api.v1.endpoints.auth - INFO - auth - login - Login successful for user: testuser
2025-10-12 22:32:35 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.4157s
2025-10-12 22:32:35 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://127.0.0.1:8000/api/v1/users/me
2025-10-12 22:32:35 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-12 22:32:35 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-12 22:32:35 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 22:32:35 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 22:32:35 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:32:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-12 22:32:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00032s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-12 22:32:35 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-12 22:32:35 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-12 22:32:35 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 22:32:35 - app.core.exception_handlers - ERROR - exception_handlers - generic_exception_handler - Unhandled Exception: badly formed hexadecimal UUID string
Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\anyio\streams\memory.py", line 98, in receive
    return self.receive_nowait()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\anyio\streams\memory.py", line 93, in receive_nowait
    raise WouldBlock
anyio.WouldBlock

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 78, in call_next
    message = await recv_stream.receive()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\anyio\streams\memory.py", line 118, in receive
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
  File "E:\workspace-py\hr-agent\backend\app\core\middleware.py", line 48, in dispatch
    response = await call_next(request)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 84, in call_next
    raise app_exc
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
  File "E:\workspace-py\hr-agent\backend\app\core\middleware.py", line 25, in dispatch
    response = await call_next(request)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 84, in call_next
    raise app_exc
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\exceptions.py", line 79, in __call__
    raise exc
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 20, in __call__
    raise e
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 66, in app
    response = await func(request)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\routing.py", line 274, in app
    raw_response = await run_endpoint_function(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
  File "E:\workspace-py\hr-agent\backend\app\api\v1\endpoints\users.py", line 42, in get_user
    user = await user_service.get_user(UUID(user_id))
  File "D:\ProgramData\Anaconda3\envs\python310\lib\uuid.py", line 177, in __init__
    raise ValueError('badly formed hexadecimal UUID string')
ValueError: badly formed hexadecimal UUID string
2025-10-12 22:33:09 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-12 22:33:09 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-12 22:33:09 - main - INFO - main - lifespan - Database connections closed
2025-10-12 22:33:09 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-12 22:33:14 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-12 22:33:14 - main - INFO - main - lifespan - Logging configured
2025-10-12 22:33:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-12 22:33:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:33:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-12 22:33:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:33:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-12 22:33:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:33:14 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:33:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-12 22:33:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00052s] ()
2025-10-12 22:33:14 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-12 22:33:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:33:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00106s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:33:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:33:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02671s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:33:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:33:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03968s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:33:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:33:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05232s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:33:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:33:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06574s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:33:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:33:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08007s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:33:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:33:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1022s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:33:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:33:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1219s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:33:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:33:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1416s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:33:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:33:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1585s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:33:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:33:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.17s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:33:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:33:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1815s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:33:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:33:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1927s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:33:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:33:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.2034s ago] ('exam_results', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:33:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:33:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00114s] ('userrole', 'pg_catalog')
2025-10-12 22:33:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:33:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04579s ago] ('conversationstatus', 'pg_catalog')
2025-10-12 22:33:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:33:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0594s ago] ('messagerole', 'pg_catalog')
2025-10-12 22:33:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:33:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07107s ago] ('jdstatus', 'pg_catalog')
2025-10-12 22:33:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:33:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08388s ago] ('scoringstatus', 'pg_catalog')
2025-10-12 22:33:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:33:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09696s ago] ('resumestatus', 'pg_catalog')
2025-10-12 22:33:14 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 22:33:15 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-12 22:33:15 - main - INFO - main - lifespan - Database initialized successfully
2025-10-12 22:33:15 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-12 22:33:19 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://127.0.0.1:8000/api/v1/auth/login
2025-10-12 22:33:19 - app.api.v1.endpoints.auth - INFO - auth - login - Login attempt for username: testuser
2025-10-12 22:33:19 - app.api.v1.endpoints.auth - INFO - auth - login - UserService created successfully
2025-10-12 22:33:19 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:33:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.username = $1::VARCHAR AND users.is_active = true
2025-10-12 22:33:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00062s] ('testuser',)
2025-10-12 22:33:19 - passlib.handlers.bcrypt - WARNING - bcrypt - _load_backend_mixin - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\passlib\handlers\bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-10-12 22:33:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - UPDATE users SET last_login=now(), updated_at=$1::TIMESTAMP WITHOUT TIME ZONE WHERE users.id = $2::UUID
2025-10-12 22:33:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00078s] (datetime.datetime(2025, 10, 12, 14, 33, 20, 81545), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-12 22:33:20 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 22:33:20 - app.api.v1.endpoints.auth - INFO - auth - login - Authentication result: True
2025-10-12 22:33:20 - app.api.v1.endpoints.auth - INFO - auth - login - Creating access token for user: testuser
2025-10-12 22:33:20 - app.api.v1.endpoints.auth - INFO - auth - login - Login successful for user: testuser
2025-10-12 22:33:20 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.4422s
2025-10-12 22:33:20 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://127.0.0.1:8000/api/v1/auth/me
2025-10-12 22:33:20 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-12 22:33:20 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-12 22:33:20 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 22:33:20 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 22:33:20 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:33:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-12 22:33:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00052s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-12 22:33:20 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-12 22:33:20 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-12 22:33:20 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-12 22:33:20 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-12 22:33:20 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-12 22:33:20 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-12 22:33:20 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0536s
2025-10-12 22:33:20 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 22:37:05 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/auth/login
2025-10-12 22:37:05 - app.api.v1.endpoints.auth - INFO - auth - login - Login attempt for username: testuser
2025-10-12 22:37:05 - app.api.v1.endpoints.auth - INFO - auth - login - UserService created successfully
2025-10-12 22:37:05 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:37:05 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.username = $1::VARCHAR AND users.is_active = true
2025-10-12 22:37:05 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 225.8s ago] ('testuser',)
2025-10-12 22:37:05 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - UPDATE users SET last_login=now(), updated_at=$1::TIMESTAMP WITHOUT TIME ZONE WHERE users.id = $2::UUID
2025-10-12 22:37:05 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 225.7s ago] (datetime.datetime(2025, 10, 12, 14, 37, 5, 765593), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-12 22:37:05 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 22:37:05 - app.api.v1.endpoints.auth - INFO - auth - login - Authentication result: True
2025-10-12 22:37:05 - app.api.v1.endpoints.auth - INFO - auth - login - Creating access token for user: testuser
2025-10-12 22:37:05 - app.api.v1.endpoints.auth - INFO - auth - login - Login successful for user: testuser
2025-10-12 22:37:05 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.3202s
2025-10-12 22:37:05 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-12 22:37:05 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-12 22:37:05 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-12 22:37:05 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 22:37:05 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 22:37:05 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:37:05 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-12 22:37:05 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 225.7s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-12 22:37:05 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-12 22:37:05 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-12 22:37:05 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-12 22:37:05 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-12 22:37:05 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-12 22:37:05 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-12 22:37:05 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0539s
2025-10-12 22:37:05 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 22:37:10 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/list
2025-10-12 22:37:10 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-12 22:37:10 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-12 22:37:10 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 22:37:10 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 22:37:10 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:37:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-12 22:37:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 230.1s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-12 22:37:10 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-12 22:37:10 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-12 22:37:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT count(exams.id) AS count_1 
FROM exams
2025-10-12 22:37:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00175s] ()
2025-10-12 22:37:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams ORDER BY exams.created_at DESC 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-10-12 22:37:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00088s] (20, 0)
2025-10-12 22:37:10 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1084s
2025-10-12 22:37:10 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 22:37:13 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/7c30f896-0dcd-498a-8c0b-2ad2fc4f886b
2025-10-12 22:37:13 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-12 22:37:13 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-12 22:37:13 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 22:37:13 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 22:37:13 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:37:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-12 22:37:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 233.3s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-12 22:37:13 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-12 22:37:13 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-12 22:37:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 22:37:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00161s] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 22:37:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 22:37:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00273s] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'),)
2025-10-12 22:37:13 - app.core.logging - INFO - hr_workflows - get_exam_detail - Exam detail retrieved successfully: 7c30f896-0dcd-498a-8c0b-2ad2fc4f886b
2025-10-12 22:37:13 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1863s
2025-10-12 22:37:13 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 22:37:18 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-12 22:37:18 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-12 22:37:18 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-12 22:37:18 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 22:37:18 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 22:37:18 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:37:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-12 22:37:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 238.8s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-12 22:37:18 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-12 22:37:18 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-12 22:37:18 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-12 22:37:18 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-12 22:37:18 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-12 22:37:18 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-12 22:37:18 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0390s
2025-10-12 22:37:18 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 22:37:19 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/7c30f896-0dcd-498a-8c0b-2ad2fc4f886b/share
2025-10-12 22:37:19 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:37:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 22:37:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 5.532s ago] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 22:37:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 22:37:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 5.533s ago] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'),)
2025-10-12 22:37:19 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0751s
2025-10-12 22:37:19 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 22:37:31 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/hr-workflows/exam/submit
2025-10-12 22:37:31 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:37:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 22:37:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 17.72s ago] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 22:37:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 22:37:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 17.82s ago] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'),)
2025-10-12 22:37:31 - app.core.logging - INFO - dify_service - call_workflow_sync - Calling Dify workflow type 6 (sync) with query: 考生姓名：11
部门：11
试卷标题：试卷2
试卷总分：100.0
详细题目信息（包含标准答案、解析和考生答案）：
第1题：
  题目类型：单选
  题目内容：湖南省《湖南省水文条例》是在哪一年修订的...
2025-10-12 22:37:33 - httpx - INFO - _client - _send_single_request - HTTP Request: POST http://218.78.133.209:85/v1/chat-messages "HTTP/1.1 200 OK"
2025-10-12 22:37:33 - app.core.logging - ERROR - hr_workflows - submit_exam - Error submitting exam: 'Exam' object has no attribute 'time_limit'
2025-10-12 22:37:33 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 22:37:33 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: 提交考试失败: 'Exam' object has no attribute 'time_limit'
2025-10-12 22:37:33 - app.core.middleware - INFO - middleware - dispatch - Response: 500 - Processing time: 2.3359s
2025-10-12 22:38:38 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-12 22:38:38 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-12 22:38:38 - main - INFO - main - lifespan - Database connections closed
2025-10-12 22:38:38 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-12 22:38:42 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-12 22:38:42 - main - INFO - main - lifespan - Logging configured
2025-10-12 22:38:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-12 22:38:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:38:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-12 22:38:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:38:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-12 22:38:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:38:43 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:38:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-12 22:38:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00042s] ()
2025-10-12 22:38:43 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-12 22:38:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:38:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00045s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:38:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:38:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02177s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:38:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:38:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03204s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:38:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:38:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04237s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:38:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:38:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05215s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:38:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:38:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06194s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:38:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:38:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07321s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:38:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:38:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08301s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:38:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:38:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09228s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:38:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:38:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1007s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:38:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:38:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1091s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:38:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:38:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1178s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:38:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:38:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1272s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:38:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:38:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1372s ago] ('exam_results', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:38:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:38:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00048s] ('userrole', 'pg_catalog')
2025-10-12 22:38:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:38:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.01905s ago] ('conversationstatus', 'pg_catalog')
2025-10-12 22:38:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:38:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02819s ago] ('messagerole', 'pg_catalog')
2025-10-12 22:38:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:38:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03799s ago] ('jdstatus', 'pg_catalog')
2025-10-12 22:38:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:38:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04711s ago] ('scoringstatus', 'pg_catalog')
2025-10-12 22:38:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:38:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05612s ago] ('resumestatus', 'pg_catalog')
2025-10-12 22:38:43 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 22:38:43 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-12 22:38:43 - main - INFO - main - lifespan - Database initialized successfully
2025-10-12 22:38:43 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-12 22:39:08 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-12 22:39:08 - main - INFO - main - lifespan - Logging configured
2025-10-12 22:39:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-12 22:39:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:39:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-12 22:39:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:39:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-12 22:39:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:39:08 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:39:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-12 22:39:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00030s] ()
2025-10-12 22:39:08 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-12 22:39:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:39:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00043s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:39:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:39:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0223s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:39:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:39:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03258s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:39:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:39:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04303s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:39:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:39:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05424s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:39:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:39:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06445s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:39:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:39:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07431s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:39:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:39:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08436s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:39:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:39:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09432s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:39:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:39:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.104s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:39:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:39:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1134s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:39:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:39:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1231s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:39:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:39:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1327s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:39:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:39:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.142s ago] ('exam_results', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:39:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:39:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00066s] ('userrole', 'pg_catalog')
2025-10-12 22:39:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:39:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.01848s ago] ('conversationstatus', 'pg_catalog')
2025-10-12 22:39:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:39:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02692s ago] ('messagerole', 'pg_catalog')
2025-10-12 22:39:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:39:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03568s ago] ('jdstatus', 'pg_catalog')
2025-10-12 22:39:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:39:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04521s ago] ('scoringstatus', 'pg_catalog')
2025-10-12 22:39:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:39:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05438s ago] ('resumestatus', 'pg_catalog')
2025-10-12 22:39:08 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 22:39:08 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-12 22:39:08 - main - INFO - main - lifespan - Database initialized successfully
2025-10-12 22:39:08 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-12 22:39:38 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-12 22:39:38 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-12 22:39:38 - main - INFO - main - lifespan - Database connections closed
2025-10-12 22:39:38 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-12 22:39:42 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-12 22:39:42 - main - INFO - main - lifespan - Logging configured
2025-10-12 22:39:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-12 22:39:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:39:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-12 22:39:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:39:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-12 22:39:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:39:42 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:39:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-12 22:39:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00035s] ()
2025-10-12 22:39:43 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-12 22:39:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:39:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00049s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:39:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:39:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02519s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:39:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:39:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03858s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:39:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:39:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05081s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:39:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:39:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06338s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:39:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:39:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08657s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:39:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:39:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1014s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:39:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:39:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1143s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:39:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:39:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1265s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:39:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:39:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1375s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:39:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:39:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1477s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:39:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:39:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1576s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:39:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:39:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.168s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:39:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:39:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1783s ago] ('exam_results', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:39:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:39:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00112s] ('userrole', 'pg_catalog')
2025-10-12 22:39:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:39:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02516s ago] ('conversationstatus', 'pg_catalog')
2025-10-12 22:39:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:39:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03783s ago] ('messagerole', 'pg_catalog')
2025-10-12 22:39:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:39:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05072s ago] ('jdstatus', 'pg_catalog')
2025-10-12 22:39:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:39:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06318s ago] ('scoringstatus', 'pg_catalog')
2025-10-12 22:39:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:39:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0749s ago] ('resumestatus', 'pg_catalog')
2025-10-12 22:39:43 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 22:39:43 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-12 22:39:43 - main - INFO - main - lifespan - Database initialized successfully
2025-10-12 22:39:43 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-12 22:39:48 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://127.0.0.1:8000/api/v1/auth/login
2025-10-12 22:39:48 - app.api.v1.endpoints.auth - INFO - auth - login - Login attempt for username: testuser
2025-10-12 22:39:48 - app.api.v1.endpoints.auth - INFO - auth - login - UserService created successfully
2025-10-12 22:39:48 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:39:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.username = $1::VARCHAR AND users.is_active = true
2025-10-12 22:39:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00064s] ('testuser',)
2025-10-12 22:39:48 - passlib.handlers.bcrypt - WARNING - bcrypt - _load_backend_mixin - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\passlib\handlers\bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-10-12 22:39:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - UPDATE users SET last_login=now(), updated_at=$1::TIMESTAMP WITHOUT TIME ZONE WHERE users.id = $2::UUID
2025-10-12 22:39:48 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00056s] (datetime.datetime(2025, 10, 12, 14, 39, 48, 627915), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-12 22:39:48 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 22:39:48 - app.api.v1.endpoints.auth - INFO - auth - login - Authentication result: True
2025-10-12 22:39:48 - app.api.v1.endpoints.auth - INFO - auth - login - Creating access token for user: testuser
2025-10-12 22:39:48 - app.api.v1.endpoints.auth - INFO - auth - login - Login successful for user: testuser
2025-10-12 22:39:48 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.4670s
2025-10-12 22:39:48 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://127.0.0.1:8000/api/v1/hr-workflows/exams
2025-10-12 22:39:48 - app.core.exception_handlers - ERROR - exception_handlers - starlette_http_exception_handler - Starlette HTTP Exception: Not Found
2025-10-12 22:39:48 - app.core.middleware - INFO - middleware - dispatch - Response: 404 - Processing time: 0.0010s
2025-10-12 22:40:20 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-12 22:40:20 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-12 22:40:20 - main - INFO - main - lifespan - Database connections closed
2025-10-12 22:40:20 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-12 22:40:24 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-12 22:40:24 - main - INFO - main - lifespan - Logging configured
2025-10-12 22:40:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-12 22:40:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:40:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-12 22:40:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:40:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-12 22:40:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:40:25 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:40:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-12 22:40:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00037s] ()
2025-10-12 22:40:25 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-12 22:40:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:40:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00064s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:40:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:40:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03286s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:40:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:40:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0489s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:40:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:40:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06446s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:40:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:40:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07958s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:40:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:40:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0952s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:40:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:40:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1106s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:40:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:40:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1262s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:40:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:40:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1412s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:40:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:40:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1555s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:40:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:40:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1692s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:40:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:40:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1853s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:40:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:40:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1992s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:40:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:40:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.227s ago] ('exam_results', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:40:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:40:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00060s] ('userrole', 'pg_catalog')
2025-10-12 22:40:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:40:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0283s ago] ('conversationstatus', 'pg_catalog')
2025-10-12 22:40:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:40:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04234s ago] ('messagerole', 'pg_catalog')
2025-10-12 22:40:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:40:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05719s ago] ('jdstatus', 'pg_catalog')
2025-10-12 22:40:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:40:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0713s ago] ('scoringstatus', 'pg_catalog')
2025-10-12 22:40:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:40:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08523s ago] ('resumestatus', 'pg_catalog')
2025-10-12 22:40:25 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 22:40:25 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-12 22:40:25 - main - INFO - main - lifespan - Database initialized successfully
2025-10-12 22:40:25 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-12 22:40:28 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://127.0.0.1:8000/api/v1/auth/login
2025-10-12 22:40:28 - app.api.v1.endpoints.auth - INFO - auth - login - Login attempt for username: testuser
2025-10-12 22:40:28 - app.api.v1.endpoints.auth - INFO - auth - login - UserService created successfully
2025-10-12 22:40:28 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:40:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.username = $1::VARCHAR AND users.is_active = true
2025-10-12 22:40:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00071s] ('testuser',)
2025-10-12 22:40:28 - passlib.handlers.bcrypt - WARNING - bcrypt - _load_backend_mixin - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\passlib\handlers\bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-10-12 22:40:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - UPDATE users SET last_login=now(), updated_at=$1::TIMESTAMP WITHOUT TIME ZONE WHERE users.id = $2::UUID
2025-10-12 22:40:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00053s] (datetime.datetime(2025, 10, 12, 14, 40, 29, 184061), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-12 22:40:29 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 22:40:29 - app.api.v1.endpoints.auth - INFO - auth - login - Authentication result: True
2025-10-12 22:40:29 - app.api.v1.endpoints.auth - INFO - auth - login - Creating access token for user: testuser
2025-10-12 22:40:29 - app.api.v1.endpoints.auth - INFO - auth - login - Login successful for user: testuser
2025-10-12 22:40:29 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.4445s
2025-10-12 22:40:29 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://127.0.0.1:8000/api/v1/hr-workflows/exams/1805df8e-65cd-45c8-b8f0-2ba5eb3318e8/submit
2025-10-12 22:40:29 - app.core.exception_handlers - ERROR - exception_handlers - starlette_http_exception_handler - Starlette HTTP Exception: Not Found
2025-10-12 22:40:29 - app.core.middleware - INFO - middleware - dispatch - Response: 404 - Processing time: 0.0020s
2025-10-12 22:40:57 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-12 22:40:57 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-12 22:40:57 - main - INFO - main - lifespan - Database connections closed
2025-10-12 22:40:57 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-12 22:41:01 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-12 22:41:01 - main - INFO - main - lifespan - Logging configured
2025-10-12 22:41:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-12 22:41:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:41:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-12 22:41:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:41:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-12 22:41:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:41:01 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:41:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-12 22:41:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00038s] ()
2025-10-12 22:41:01 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-12 22:41:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:41:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00041s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:41:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:41:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02977s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:41:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:41:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04443s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:41:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:41:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06066s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:41:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:41:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07508s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:41:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:41:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08947s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:41:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:41:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1039s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:41:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:41:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1186s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:41:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:41:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1327s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:41:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:41:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1456s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:41:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:41:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1588s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:41:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:41:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1718s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:41:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:41:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1849s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:41:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:41:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1979s ago] ('exam_results', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:41:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:41:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00037s] ('userrole', 'pg_catalog')
2025-10-12 22:41:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:41:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02576s ago] ('conversationstatus', 'pg_catalog')
2025-10-12 22:41:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:41:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03898s ago] ('messagerole', 'pg_catalog')
2025-10-12 22:41:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:41:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05199s ago] ('jdstatus', 'pg_catalog')
2025-10-12 22:41:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:41:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06525s ago] ('scoringstatus', 'pg_catalog')
2025-10-12 22:41:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:41:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07893s ago] ('resumestatus', 'pg_catalog')
2025-10-12 22:41:01 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 22:41:01 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-12 22:41:01 - main - INFO - main - lifespan - Database initialized successfully
2025-10-12 22:41:01 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-12 22:41:14 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-12 22:41:14 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-12 22:41:14 - main - INFO - main - lifespan - Database connections closed
2025-10-12 22:41:14 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-12 22:41:18 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-12 22:41:18 - main - INFO - main - lifespan - Logging configured
2025-10-12 22:41:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-12 22:41:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:41:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-12 22:41:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:41:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-12 22:41:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:41:18 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:41:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-12 22:41:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00032s] ()
2025-10-12 22:41:18 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-12 22:41:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:41:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00041s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:41:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:41:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02839s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:41:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:41:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04233s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:41:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:41:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05611s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:41:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:41:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0703s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:41:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:41:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08425s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:41:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:41:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09853s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:41:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:41:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1139s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:41:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:41:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.129s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:41:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:41:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1424s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:41:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:41:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1551s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:41:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:41:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1726s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:41:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:41:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1858s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:41:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:41:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.2017s ago] ('exam_results', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:41:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:41:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00054s] ('userrole', 'pg_catalog')
2025-10-12 22:41:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:41:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02608s ago] ('conversationstatus', 'pg_catalog')
2025-10-12 22:41:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:41:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03918s ago] ('messagerole', 'pg_catalog')
2025-10-12 22:41:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:41:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0523s ago] ('jdstatus', 'pg_catalog')
2025-10-12 22:41:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:41:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06538s ago] ('scoringstatus', 'pg_catalog')
2025-10-12 22:41:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:41:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07852s ago] ('resumestatus', 'pg_catalog')
2025-10-12 22:41:19 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 22:41:19 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-12 22:41:19 - main - INFO - main - lifespan - Database initialized successfully
2025-10-12 22:41:19 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-12 22:41:24 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://127.0.0.1:8000/api/v1/auth/login
2025-10-12 22:41:24 - app.api.v1.endpoints.auth - INFO - auth - login - Login attempt for username: testuser
2025-10-12 22:41:24 - app.api.v1.endpoints.auth - INFO - auth - login - UserService created successfully
2025-10-12 22:41:24 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:41:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.username = $1::VARCHAR AND users.is_active = true
2025-10-12 22:41:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00079s] ('testuser',)
2025-10-12 22:41:24 - passlib.handlers.bcrypt - WARNING - bcrypt - _load_backend_mixin - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\passlib\handlers\bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-10-12 22:41:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - UPDATE users SET last_login=now(), updated_at=$1::TIMESTAMP WITHOUT TIME ZONE WHERE users.id = $2::UUID
2025-10-12 22:41:24 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00055s] (datetime.datetime(2025, 10, 12, 14, 41, 24, 544224), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-12 22:41:24 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 22:41:24 - app.api.v1.endpoints.auth - INFO - auth - login - Authentication result: True
2025-10-12 22:41:24 - app.api.v1.endpoints.auth - INFO - auth - login - Creating access token for user: testuser
2025-10-12 22:41:24 - app.api.v1.endpoints.auth - INFO - auth - login - Login successful for user: testuser
2025-10-12 22:41:24 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.4347s
2025-10-12 22:41:24 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://127.0.0.1:8000/api/v1/hr-workflows/exam/submit
2025-10-12 22:41:24 - app.core.logging - ERROR - hr_workflows - submit_exam - Error submitting exam: Expecting value: line 1 column 1 (char 0)
2025-10-12 22:41:24 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: 提交考试失败: Expecting value: line 1 column 1 (char 0)
2025-10-12 22:41:24 - app.core.middleware - INFO - middleware - dispatch - Response: 500 - Processing time: 0.0020s
2025-10-12 22:41:58 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-12 22:41:58 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-12 22:41:58 - main - INFO - main - lifespan - Database connections closed
2025-10-12 22:41:58 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-12 22:42:02 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-12 22:42:02 - main - INFO - main - lifespan - Logging configured
2025-10-12 22:42:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-12 22:42:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:42:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-12 22:42:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:42:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-12 22:42:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:42:02 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:42:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-12 22:42:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00039s] ()
2025-10-12 22:42:02 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-12 22:42:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:42:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00059s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:42:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:42:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02317s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:42:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:42:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03363s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:42:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:42:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04355s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:42:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:42:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05402s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:42:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:42:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06413s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:42:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:42:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07532s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:42:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:42:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08589s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:42:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:42:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09659s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:42:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:42:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1079s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:42:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:42:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1174s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:42:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:42:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1268s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:42:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:42:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1423s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:42:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:42:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.157s ago] ('exam_results', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:42:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:42:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00069s] ('userrole', 'pg_catalog')
2025-10-12 22:42:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:42:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.01865s ago] ('conversationstatus', 'pg_catalog')
2025-10-12 22:42:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:42:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02763s ago] ('messagerole', 'pg_catalog')
2025-10-12 22:42:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:42:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03655s ago] ('jdstatus', 'pg_catalog')
2025-10-12 22:42:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:42:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04605s ago] ('scoringstatus', 'pg_catalog')
2025-10-12 22:42:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:42:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05491s ago] ('resumestatus', 'pg_catalog')
2025-10-12 22:42:02 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 22:42:02 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-12 22:42:02 - main - INFO - main - lifespan - Database initialized successfully
2025-10-12 22:42:02 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-12 22:42:06 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://127.0.0.1:8000/api/v1/auth/login
2025-10-12 22:42:06 - app.api.v1.endpoints.auth - INFO - auth - login - Login attempt for username: testuser
2025-10-12 22:42:06 - app.api.v1.endpoints.auth - INFO - auth - login - UserService created successfully
2025-10-12 22:42:06 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:42:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.username = $1::VARCHAR AND users.is_active = true
2025-10-12 22:42:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00064s] ('testuser',)
2025-10-12 22:42:06 - passlib.handlers.bcrypt - WARNING - bcrypt - _load_backend_mixin - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\passlib\handlers\bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-10-12 22:42:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - UPDATE users SET last_login=now(), updated_at=$1::TIMESTAMP WITHOUT TIME ZONE WHERE users.id = $2::UUID
2025-10-12 22:42:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00075s] (datetime.datetime(2025, 10, 12, 14, 42, 6, 580517), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-12 22:42:06 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 22:42:06 - app.api.v1.endpoints.auth - INFO - auth - login - Authentication result: True
2025-10-12 22:42:06 - app.api.v1.endpoints.auth - INFO - auth - login - Creating access token for user: testuser
2025-10-12 22:42:06 - app.api.v1.endpoints.auth - INFO - auth - login - Login successful for user: testuser
2025-10-12 22:42:06 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.4359s
2025-10-12 22:42:06 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://127.0.0.1:8000/api/v1/hr-workflows/exam/submit
2025-10-12 22:42:06 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:42:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 22:42:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00042s] ('1805df8e-65cd-45c8-b8f0-2ba5eb3318e8',)
2025-10-12 22:42:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 22:42:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00078s] (UUID('1805df8e-65cd-45c8-b8f0-2ba5eb3318e8'),)
2025-10-12 22:42:06 - app.core.logging - INFO - dify_service - call_workflow_sync - Calling Dify workflow type 6 (sync) with query: 考生姓名：测试学生
部门：技术部
试卷标题：22
试卷总分：100.0
详细题目信息（包含标准答案、解析和考生答案）：
第1题：
  题目类型：单选
  题目内容：湖南省水文条例是在哪一年修订的？
 ...
2025-10-12 22:42:08 - httpx - INFO - _client - _send_single_request - HTTP Request: POST http://218.78.133.209:85/v1/chat-messages "HTTP/1.1 200 OK"
2025-10-12 22:42:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - INSERT INTO exam_results (exam_name, student_name, department, total_possible_score, total_actual_score, exam_data, submit_time, status, id, created_at, updated_at, is_active, created_by, updated_by) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::FLOAT, $5::FLOAT, $6::JSON, $7::TIMESTAMP WITHOUT TIME ZONE, $8::VARCHAR, $9::UUID, $10::TIMESTAMP WITHOUT TIME ZONE, $11::TIMESTAMP WITHOUT TIME ZONE, $12::BOOLEAN, $13::UUID, $14::UUID)
2025-10-12 22:42:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00059s] ('22', '测试学生', '技术部', 100.0, 0.0, '{"exam_info": {"exam_id": "1805df8e-65cd-45c8-b8f0-2ba5eb3318e8", "title": "22", "description": null, "total_score": 100.0, "time_limit": 90, "instru ... (6298 characters truncated) ... y": 1.1961313784122467}}, "created_at": 1760280127}, "submit_time": "2025-10-12T14:42:08.665865", "total_actual_score": 0.0, "score_percentage": 0.0}', datetime.datetime(2025, 10, 12, 14, 42, 8, 665865), 'completed', UUID('2ee19f4c-73f7-43c4-b6ac-415677cfe736'), datetime.datetime(2025, 10, 12, 14, 42, 8, 668856), datetime.datetime(2025, 10, 12, 14, 42, 8, 668856), True, None, None)
2025-10-12 22:42:08 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 22:42:08 - app.core.logging - ERROR - hr_workflows - submit_exam - Error submitting exam: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column "exam_name" of relation "exam_results" does not exist
[SQL: INSERT INTO exam_results (exam_name, student_name, department, total_possible_score, total_actual_score, exam_data, submit_time, status, id, created_at, updated_at, is_active, created_by, updated_by) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::FLOAT, $5::FLOAT, $6::JSON, $7::TIMESTAMP WITHOUT TIME ZONE, $8::VARCHAR, $9::UUID, $10::TIMESTAMP WITHOUT TIME ZONE, $11::TIMESTAMP WITHOUT TIME ZONE, $12::BOOLEAN, $13::UUID, $14::UUID)]
[parameters: ('22', '测试学生', '技术部', 100.0, 0.0, '{"exam_info": {"exam_id": "1805df8e-65cd-45c8-b8f0-2ba5eb3318e8", "title": "22", "description": null, "total_score": 100.0, "time_limit": 90, "instru ... (6298 characters truncated) ... y": 1.1961313784122467}}, "created_at": 1760280127}, "submit_time": "2025-10-12T14:42:08.665865", "total_actual_score": 0.0, "score_percentage": 0.0}', datetime.datetime(2025, 10, 12, 14, 42, 8, 665865), 'completed', UUID('2ee19f4c-73f7-43c4-b6ac-415677cfe736'), datetime.datetime(2025, 10, 12, 14, 42, 8, 668856), datetime.datetime(2025, 10, 12, 14, 42, 8, 668856), True, None, None)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-10-12 22:42:08 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: 提交考试失败: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedColumnError'>: column "exam_name" of relation "exam_results" does not exist
[SQL: INSERT INTO exam_results (exam_name, student_name, department, total_possible_score, total_actual_score, exam_data, submit_time, status, id, created_at, updated_at, is_active, created_by, updated_by) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::FLOAT, $5::FLOAT, $6::JSON, $7::TIMESTAMP WITHOUT TIME ZONE, $8::VARCHAR, $9::UUID, $10::TIMESTAMP WITHOUT TIME ZONE, $11::TIMESTAMP WITHOUT TIME ZONE, $12::BOOLEAN, $13::UUID, $14::UUID)]
[parameters: ('22', '测试学生', '技术部', 100.0, 0.0, '{"exam_info": {"exam_id": "1805df8e-65cd-45c8-b8f0-2ba5eb3318e8", "title": "22", "description": null, "total_score": 100.0, "time_limit": 90, "instru ... (6298 characters truncated) ... y": 1.1961313784122467}}, "created_at": 1760280127}, "submit_time": "2025-10-12T14:42:08.665865", "total_actual_score": 0.0, "score_percentage": 0.0}', datetime.datetime(2025, 10, 12, 14, 42, 8, 665865), 'completed', UUID('2ee19f4c-73f7-43c4-b6ac-415677cfe736'), datetime.datetime(2025, 10, 12, 14, 42, 8, 668856), datetime.datetime(2025, 10, 12, 14, 42, 8, 668856), True, None, None)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-10-12 22:42:08 - app.core.middleware - INFO - middleware - dispatch - Response: 500 - Processing time: 2.0787s
2025-10-12 22:42:29 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-12 22:42:29 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-12 22:42:29 - main - INFO - main - lifespan - Database connections closed
2025-10-12 22:42:29 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-12 22:42:34 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-12 22:42:34 - main - INFO - main - lifespan - Logging configured
2025-10-12 22:42:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-12 22:42:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:42:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-12 22:42:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:42:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-12 22:42:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:42:34 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:42:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-12 22:42:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00042s] ()
2025-10-12 22:42:34 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-12 22:42:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:42:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00044s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:42:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:42:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03762s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:42:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:42:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05627s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:42:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:42:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07604s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:42:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:42:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09524s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:42:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:42:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1135s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:42:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:42:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1315s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:42:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:42:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.151s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:42:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:42:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1688s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:42:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:42:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1855s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:42:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:42:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.2022s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:42:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:42:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.2188s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:42:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:42:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.2354s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:42:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:42:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.2532s ago] ('exam_results', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:42:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:42:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00057s] ('userrole', 'pg_catalog')
2025-10-12 22:42:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:42:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03421s ago] ('conversationstatus', 'pg_catalog')
2025-10-12 22:42:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:42:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05186s ago] ('messagerole', 'pg_catalog')
2025-10-12 22:42:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:42:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07028s ago] ('jdstatus', 'pg_catalog')
2025-10-12 22:42:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:42:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08883s ago] ('scoringstatus', 'pg_catalog')
2025-10-12 22:42:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:42:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1079s ago] ('resumestatus', 'pg_catalog')
2025-10-12 22:42:35 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 22:42:35 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-12 22:42:35 - main - INFO - main - lifespan - Database initialized successfully
2025-10-12 22:42:35 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-12 22:42:54 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-12 22:42:54 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-12 22:42:54 - main - INFO - main - lifespan - Database connections closed
2025-10-12 22:42:54 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-12 22:42:58 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-12 22:42:58 - main - INFO - main - lifespan - Logging configured
2025-10-12 22:42:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-12 22:42:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:42:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-12 22:42:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:42:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-12 22:42:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:42:59 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:42:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-12 22:42:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00034s] ()
2025-10-12 22:42:59 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-12 22:42:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:42:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00051s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:42:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:42:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03566s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:42:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:42:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05309s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:42:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:42:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07186s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:42:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:42:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09325s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:42:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:42:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1109s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:42:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:42:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1291s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:42:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:42:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1523s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:42:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:42:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1718s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:42:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:42:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.2595s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:42:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:42:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.2926s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:42:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:42:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.3144s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:42:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:42:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.3327s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:42:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:42:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.3502s ago] ('exam_results', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:42:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:42:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00063s] ('userrole', 'pg_catalog')
2025-10-12 22:42:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:42:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03372s ago] ('conversationstatus', 'pg_catalog')
2025-10-12 22:42:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:42:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05053s ago] ('messagerole', 'pg_catalog')
2025-10-12 22:42:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:42:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06704s ago] ('jdstatus', 'pg_catalog')
2025-10-12 22:42:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:42:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08357s ago] ('scoringstatus', 'pg_catalog')
2025-10-12 22:42:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:42:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0998s ago] ('resumestatus', 'pg_catalog')
2025-10-12 22:42:59 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 22:42:59 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-12 22:42:59 - main - INFO - main - lifespan - Database initialized successfully
2025-10-12 22:42:59 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-12 22:44:36 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-12 22:44:36 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-12 22:44:36 - main - INFO - main - lifespan - Database connections closed
2025-10-12 22:44:36 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-12 22:44:40 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-12 22:44:40 - main - INFO - main - lifespan - Logging configured
2025-10-12 22:44:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-12 22:44:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:44:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-12 22:44:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:44:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-12 22:44:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:44:40 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:44:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-12 22:44:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00044s] ()
2025-10-12 22:44:41 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-12 22:44:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:44:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00050s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:44:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:44:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.01979s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:44:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:44:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02919s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:44:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:44:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03879s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:44:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:44:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04878s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:44:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:44:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05866s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:44:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:44:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06889s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:44:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:44:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0792s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:44:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:44:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08995s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:44:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:44:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:44:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:44:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1093s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:44:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:44:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1175s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:44:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:44:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1259s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:44:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:44:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1344s ago] ('exam_results', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:44:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:44:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00064s] ('userrole', 'pg_catalog')
2025-10-12 22:44:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:44:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.01846s ago] ('conversationstatus', 'pg_catalog')
2025-10-12 22:44:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:44:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02746s ago] ('messagerole', 'pg_catalog')
2025-10-12 22:44:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:44:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03661s ago] ('jdstatus', 'pg_catalog')
2025-10-12 22:44:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:44:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04605s ago] ('scoringstatus', 'pg_catalog')
2025-10-12 22:44:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:44:41 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05758s ago] ('resumestatus', 'pg_catalog')
2025-10-12 22:44:41 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 22:44:41 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-12 22:44:41 - main - INFO - main - lifespan - Database initialized successfully
2025-10-12 22:44:41 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-12 22:45:01 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://127.0.0.1:8000/api/v1/auth/login
2025-10-12 22:45:01 - app.api.v1.endpoints.auth - INFO - auth - login - Login attempt for username: testuser
2025-10-12 22:45:01 - app.api.v1.endpoints.auth - INFO - auth - login - UserService created successfully
2025-10-12 22:45:01 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:45:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.username = $1::VARCHAR AND users.is_active = true
2025-10-12 22:45:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00066s] ('testuser',)
2025-10-12 22:45:01 - passlib.handlers.bcrypt - WARNING - bcrypt - _load_backend_mixin - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\passlib\handlers\bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-10-12 22:45:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - UPDATE users SET last_login=now(), updated_at=$1::TIMESTAMP WITHOUT TIME ZONE WHERE users.id = $2::UUID
2025-10-12 22:45:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00063s] (datetime.datetime(2025, 10, 12, 14, 45, 2, 74688), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-12 22:45:02 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 22:45:02 - app.api.v1.endpoints.auth - INFO - auth - login - Authentication result: True
2025-10-12 22:45:02 - app.api.v1.endpoints.auth - INFO - auth - login - Creating access token for user: testuser
2025-10-12 22:45:02 - app.api.v1.endpoints.auth - INFO - auth - login - Login successful for user: testuser
2025-10-12 22:45:02 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.4117s
2025-10-12 22:45:02 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://127.0.0.1:8000/api/v1/hr-workflows/exam/submit
2025-10-12 22:45:02 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:45:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 22:45:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00046s] ('1805df8e-65cd-45c8-b8f0-2ba5eb3318e8',)
2025-10-12 22:45:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 22:45:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00050s] (UUID('1805df8e-65cd-45c8-b8f0-2ba5eb3318e8'),)
2025-10-12 22:45:02 - app.core.logging - INFO - dify_service - call_workflow_sync - Calling Dify workflow type 6 (sync) with query: 考生姓名：测试学生
部门：技术部
试卷标题：22
试卷总分：100.0
详细题目信息（包含标准答案、解析和考生答案）：
第1题：
  题目类型：单选
  题目内容：湖南省水文条例是在哪一年修订的？
 ...
2025-10-12 22:45:04 - httpx - INFO - _client - _send_single_request - HTTP Request: POST http://218.78.133.209:85/v1/chat-messages "HTTP/1.1 200 OK"
2025-10-12 22:45:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - INSERT INTO exam_results (exam_name, student_name, department, total_possible_score, total_actual_score, exam_data, submit_time, status, id, created_at, updated_at, is_active, created_by, updated_by) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::FLOAT, $5::FLOAT, $6::JSON, $7::TIMESTAMP WITHOUT TIME ZONE, $8::VARCHAR, $9::UUID, $10::TIMESTAMP WITHOUT TIME ZONE, $11::TIMESTAMP WITHOUT TIME ZONE, $12::BOOLEAN, $13::UUID, $14::UUID)
2025-10-12 22:45:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00057s] ('22', '测试学生', '技术部', 100.0, 0.0, '{"exam_info": {"exam_id": "1805df8e-65cd-45c8-b8f0-2ba5eb3318e8", "title": "22", "description": null, "total_score": 100.0, "time_limit": 90, "instru ... (6298 characters truncated) ... y": 1.2339927926659584}}, "created_at": 1760280303}, "submit_time": "2025-10-12T14:45:04.474486", "total_actual_score": 0.0, "score_percentage": 0.0}', datetime.datetime(2025, 10, 12, 14, 45, 4, 474486), 'completed', UUID('e3e94803-820e-4eae-96fd-69a512363c42'), datetime.datetime(2025, 10, 12, 14, 45, 4, 476994), datetime.datetime(2025, 10, 12, 14, 45, 4, 476994), True, None, None)
2025-10-12 22:45:04 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 22:45:04 - app.core.logging - ERROR - hr_workflows - submit_exam - Error submitting exam: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: null value in column "exam_id" of relation "exam_results" violates not-null constraint
DETAIL:  Failing row contains (null, 测试学生, 技术部, 100, 0, null, null, 2025-10-12 14:45:04.474486, null, null, null, completed, e3e94803-820e-4eae-96fd-69a512363c42, 2025-10-12 14:45:04.476994, 2025-10-12 14:45:04.476994, t, null, null, 22, {"exam_info": {"exam_id": "1805df8e-65cd-45c8-b8f0-2ba5eb3318e8"...).
[SQL: INSERT INTO exam_results (exam_name, student_name, department, total_possible_score, total_actual_score, exam_data, submit_time, status, id, created_at, updated_at, is_active, created_by, updated_by) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::FLOAT, $5::FLOAT, $6::JSON, $7::TIMESTAMP WITHOUT TIME ZONE, $8::VARCHAR, $9::UUID, $10::TIMESTAMP WITHOUT TIME ZONE, $11::TIMESTAMP WITHOUT TIME ZONE, $12::BOOLEAN, $13::UUID, $14::UUID)]
[parameters: ('22', '测试学生', '技术部', 100.0, 0.0, '{"exam_info": {"exam_id": "1805df8e-65cd-45c8-b8f0-2ba5eb3318e8", "title": "22", "description": null, "total_score": 100.0, "time_limit": 90, "instru ... (6298 characters truncated) ... y": 1.2339927926659584}}, "created_at": 1760280303}, "submit_time": "2025-10-12T14:45:04.474486", "total_actual_score": 0.0, "score_percentage": 0.0}', datetime.datetime(2025, 10, 12, 14, 45, 4, 474486), 'completed', UUID('e3e94803-820e-4eae-96fd-69a512363c42'), datetime.datetime(2025, 10, 12, 14, 45, 4, 476994), datetime.datetime(2025, 10, 12, 14, 45, 4, 476994), True, None, None)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-10-12 22:45:04 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: 提交考试失败: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: null value in column "exam_id" of relation "exam_results" violates not-null constraint
DETAIL:  Failing row contains (null, 测试学生, 技术部, 100, 0, null, null, 2025-10-12 14:45:04.474486, null, null, null, completed, e3e94803-820e-4eae-96fd-69a512363c42, 2025-10-12 14:45:04.476994, 2025-10-12 14:45:04.476994, t, null, null, 22, {"exam_info": {"exam_id": "1805df8e-65cd-45c8-b8f0-2ba5eb3318e8"...).
[SQL: INSERT INTO exam_results (exam_name, student_name, department, total_possible_score, total_actual_score, exam_data, submit_time, status, id, created_at, updated_at, is_active, created_by, updated_by) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::FLOAT, $5::FLOAT, $6::JSON, $7::TIMESTAMP WITHOUT TIME ZONE, $8::VARCHAR, $9::UUID, $10::TIMESTAMP WITHOUT TIME ZONE, $11::TIMESTAMP WITHOUT TIME ZONE, $12::BOOLEAN, $13::UUID, $14::UUID)]
[parameters: ('22', '测试学生', '技术部', 100.0, 0.0, '{"exam_info": {"exam_id": "1805df8e-65cd-45c8-b8f0-2ba5eb3318e8", "title": "22", "description": null, "total_score": 100.0, "time_limit": 90, "instru ... (6298 characters truncated) ... y": 1.2339927926659584}}, "created_at": 1760280303}, "submit_time": "2025-10-12T14:45:04.474486", "total_actual_score": 0.0, "score_percentage": 0.0}', datetime.datetime(2025, 10, 12, 14, 45, 4, 474486), 'completed', UUID('e3e94803-820e-4eae-96fd-69a512363c42'), datetime.datetime(2025, 10, 12, 14, 45, 4, 476994), datetime.datetime(2025, 10, 12, 14, 45, 4, 476994), True, None, None)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-10-12 22:45:04 - app.core.middleware - INFO - middleware - dispatch - Response: 500 - Processing time: 2.4203s
2025-10-12 22:45:25 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/hr-workflows/exam/submit
2025-10-12 22:45:25 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:45:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 22:45:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 22.98s ago] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 22:45:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 22:45:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 22.97s ago] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'),)
2025-10-12 22:45:25 - app.core.logging - INFO - dify_service - call_workflow_sync - Calling Dify workflow type 6 (sync) with query: 考生姓名：11
部门：11
试卷标题：试卷2
试卷总分：100.0
详细题目信息（包含标准答案、解析和考生答案）：
第1题：
  题目类型：单选
  题目内容：湖南省《湖南省水文条例》是在哪一年修订的...
2025-10-12 22:45:26 - httpx - INFO - _client - _send_single_request - HTTP Request: POST http://218.78.133.209:85/v1/chat-messages "HTTP/1.1 200 OK"
2025-10-12 22:45:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - INSERT INTO exam_results (exam_name, student_name, department, total_possible_score, total_actual_score, exam_data, submit_time, status, id, created_at, updated_at, is_active, created_by, updated_by) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::FLOAT, $5::FLOAT, $6::JSON, $7::TIMESTAMP WITHOUT TIME ZONE, $8::VARCHAR, $9::UUID, $10::TIMESTAMP WITHOUT TIME ZONE, $11::TIMESTAMP WITHOUT TIME ZONE, $12::BOOLEAN, $13::UUID, $14::UUID)
2025-10-12 22:45:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 22.36s ago] ('试卷2', '11', '11', 100.0, 5.0, '{"exam_info": {"exam_id": "7c30f896-0dcd-498a-8c0b-2ad2fc4f886b", "title": "\\u8bd5\\u53772", "description": null, "total_score": 100.0, "time_limit" ... (5881 characters truncated) ... y": 0.8592563569545746}}, "created_at": 1760280326}, "submit_time": "2025-10-12T14:45:26.830967", "total_actual_score": 5.0, "score_percentage": 5.0}', datetime.datetime(2025, 10, 12, 14, 45, 26, 830967), 'completed', UUID('e1ba7a4e-1b38-458f-9623-cb976b3ed013'), datetime.datetime(2025, 10, 12, 14, 45, 26, 833353), datetime.datetime(2025, 10, 12, 14, 45, 26, 833353), True, None, None)
2025-10-12 22:45:26 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 22:45:26 - app.core.logging - ERROR - hr_workflows - submit_exam - Error submitting exam: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: null value in column "exam_id" of relation "exam_results" violates not-null constraint
DETAIL:  Failing row contains (null, 11, 11, 100, 5, null, null, 2025-10-12 14:45:26.830967, null, null, null, completed, e1ba7a4e-1b38-458f-9623-cb976b3ed013, 2025-10-12 14:45:26.833353, 2025-10-12 14:45:26.833353, t, null, null, 试卷2, {"exam_info": {"exam_id": "7c30f896-0dcd-498a-8c0b-2ad2fc4f886b"...).
[SQL: INSERT INTO exam_results (exam_name, student_name, department, total_possible_score, total_actual_score, exam_data, submit_time, status, id, created_at, updated_at, is_active, created_by, updated_by) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::FLOAT, $5::FLOAT, $6::JSON, $7::TIMESTAMP WITHOUT TIME ZONE, $8::VARCHAR, $9::UUID, $10::TIMESTAMP WITHOUT TIME ZONE, $11::TIMESTAMP WITHOUT TIME ZONE, $12::BOOLEAN, $13::UUID, $14::UUID)]
[parameters: ('试卷2', '11', '11', 100.0, 5.0, '{"exam_info": {"exam_id": "7c30f896-0dcd-498a-8c0b-2ad2fc4f886b", "title": "\\u8bd5\\u53772", "description": null, "total_score": 100.0, "time_limit" ... (5881 characters truncated) ... y": 0.8592563569545746}}, "created_at": 1760280326}, "submit_time": "2025-10-12T14:45:26.830967", "total_actual_score": 5.0, "score_percentage": 5.0}', datetime.datetime(2025, 10, 12, 14, 45, 26, 830967), 'completed', UUID('e1ba7a4e-1b38-458f-9623-cb976b3ed013'), datetime.datetime(2025, 10, 12, 14, 45, 26, 833353), datetime.datetime(2025, 10, 12, 14, 45, 26, 833353), True, None, None)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-10-12 22:45:26 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: 提交考试失败: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: null value in column "exam_id" of relation "exam_results" violates not-null constraint
DETAIL:  Failing row contains (null, 11, 11, 100, 5, null, null, 2025-10-12 14:45:26.830967, null, null, null, completed, e1ba7a4e-1b38-458f-9623-cb976b3ed013, 2025-10-12 14:45:26.833353, 2025-10-12 14:45:26.833353, t, null, null, 试卷2, {"exam_info": {"exam_id": "7c30f896-0dcd-498a-8c0b-2ad2fc4f886b"...).
[SQL: INSERT INTO exam_results (exam_name, student_name, department, total_possible_score, total_actual_score, exam_data, submit_time, status, id, created_at, updated_at, is_active, created_by, updated_by) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::FLOAT, $5::FLOAT, $6::JSON, $7::TIMESTAMP WITHOUT TIME ZONE, $8::VARCHAR, $9::UUID, $10::TIMESTAMP WITHOUT TIME ZONE, $11::TIMESTAMP WITHOUT TIME ZONE, $12::BOOLEAN, $13::UUID, $14::UUID)]
[parameters: ('试卷2', '11', '11', 100.0, 5.0, '{"exam_info": {"exam_id": "7c30f896-0dcd-498a-8c0b-2ad2fc4f886b", "title": "\\u8bd5\\u53772", "description": null, "total_score": 100.0, "time_limit" ... (5881 characters truncated) ... y": 0.8592563569545746}}, "created_at": 1760280326}, "submit_time": "2025-10-12T14:45:26.830967", "total_actual_score": 5.0, "score_percentage": 5.0}', datetime.datetime(2025, 10, 12, 14, 45, 26, 830967), 'completed', UUID('e1ba7a4e-1b38-458f-9623-cb976b3ed013'), datetime.datetime(2025, 10, 12, 14, 45, 26, 833353), datetime.datetime(2025, 10, 12, 14, 45, 26, 833353), True, None, None)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-10-12 22:45:26 - app.core.middleware - INFO - middleware - dispatch - Response: 500 - Processing time: 1.8031s
2025-10-12 22:45:38 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-12 22:45:38 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-12 22:45:38 - main - INFO - main - lifespan - Database connections closed
2025-10-12 22:45:38 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-12 22:45:42 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-12 22:45:42 - main - INFO - main - lifespan - Logging configured
2025-10-12 22:45:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-12 22:45:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:45:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-12 22:45:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:45:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-12 22:45:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:45:43 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:45:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-12 22:45:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00040s] ()
2025-10-12 22:45:43 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-12 22:45:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:45:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00056s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:45:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:45:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02471s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:45:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:45:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03653s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:45:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:45:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04865s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:45:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:45:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06052s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:45:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:45:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07207s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:45:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:45:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0842s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:45:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:45:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09595s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:45:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:45:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1073s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:45:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:45:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1238s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:45:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:45:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1554s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:45:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:45:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1802s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:45:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:45:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1935s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:45:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:45:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.2046s ago] ('exam_results', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:45:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:45:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00071s] ('userrole', 'pg_catalog')
2025-10-12 22:45:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:45:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02284s ago] ('conversationstatus', 'pg_catalog')
2025-10-12 22:45:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:45:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03405s ago] ('messagerole', 'pg_catalog')
2025-10-12 22:45:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:45:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04592s ago] ('jdstatus', 'pg_catalog')
2025-10-12 22:45:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:45:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05756s ago] ('scoringstatus', 'pg_catalog')
2025-10-12 22:45:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:45:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07013s ago] ('resumestatus', 'pg_catalog')
2025-10-12 22:45:43 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 22:45:43 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-12 22:45:43 - main - INFO - main - lifespan - Database initialized successfully
2025-10-12 22:45:43 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-12 22:45:51 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-12 22:45:51 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-12 22:45:51 - main - INFO - main - lifespan - Database connections closed
2025-10-12 22:45:51 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-12 22:45:55 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-12 22:45:55 - main - INFO - main - lifespan - Logging configured
2025-10-12 22:45:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-12 22:45:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:45:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-12 22:45:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:45:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-12 22:45:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:45:55 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:45:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-12 22:45:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00035s] ()
2025-10-12 22:45:55 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-12 22:45:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:45:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00049s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:45:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:45:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02514s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:45:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:45:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03831s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:45:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:45:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05108s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:45:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:45:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06274s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:45:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:45:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07497s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:45:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:45:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08699s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:45:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:45:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09896s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:45:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:45:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.11s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:45:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:45:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1216s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:45:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:45:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1328s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:45:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:45:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1442s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:45:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:45:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1553s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:45:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:45:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1662s ago] ('exam_results', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:45:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:45:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00043s] ('userrole', 'pg_catalog')
2025-10-12 22:45:56 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:45:56 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02772s ago] ('conversationstatus', 'pg_catalog')
2025-10-12 22:45:56 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:45:56 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03914s ago] ('messagerole', 'pg_catalog')
2025-10-12 22:45:56 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:45:56 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05084s ago] ('jdstatus', 'pg_catalog')
2025-10-12 22:45:56 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:45:56 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06191s ago] ('scoringstatus', 'pg_catalog')
2025-10-12 22:45:56 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:45:56 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07351s ago] ('resumestatus', 'pg_catalog')
2025-10-12 22:45:56 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 22:45:56 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-12 22:45:56 - main - INFO - main - lifespan - Database initialized successfully
2025-10-12 22:45:56 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-12 22:46:15 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-12 22:46:15 - main - INFO - main - lifespan - Logging configured
2025-10-12 22:46:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-12 22:46:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:46:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-12 22:46:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:46:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-12 22:46:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:46:15 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:46:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-12 22:46:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00051s] ()
2025-10-12 22:46:15 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-12 22:46:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:46:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00050s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:46:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:46:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03189s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:46:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:46:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0487s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:46:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:46:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06469s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:46:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:46:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08543s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:46:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:46:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1017s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:46:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:46:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1181s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:46:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:46:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1361s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:46:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:46:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1517s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:46:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:46:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1661s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:46:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:46:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1808s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:46:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:46:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1952s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:46:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:46:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.2092s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:46:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:46:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.2235s ago] ('exam_results', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:46:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:46:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00045s] ('userrole', 'pg_catalog')
2025-10-12 22:46:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:46:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02674s ago] ('conversationstatus', 'pg_catalog')
2025-10-12 22:46:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:46:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04079s ago] ('messagerole', 'pg_catalog')
2025-10-12 22:46:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:46:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05454s ago] ('jdstatus', 'pg_catalog')
2025-10-12 22:46:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:46:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06812s ago] ('scoringstatus', 'pg_catalog')
2025-10-12 22:46:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:46:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08199s ago] ('resumestatus', 'pg_catalog')
2025-10-12 22:46:15 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 22:46:15 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-12 22:46:15 - main - INFO - main - lifespan - Database initialized successfully
2025-10-12 22:46:15 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-12 22:46:17 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/hr-workflows/exam/submit
2025-10-12 22:46:17 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:46:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 22:46:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00164s] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 22:46:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 22:46:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00088s] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'),)
2025-10-12 22:46:17 - app.core.logging - INFO - dify_service - call_workflow_sync - Calling Dify workflow type 6 (sync) with query: 考生姓名：11
部门：11
试卷标题：试卷2
试卷总分：100.0
详细题目信息（包含标准答案、解析和考生答案）：
第1题：
  题目类型：单选
  题目内容：湖南省《湖南省水文条例》是在哪一年修订的...
2025-10-12 22:46:19 - httpx - INFO - _client - _send_single_request - HTTP Request: POST http://218.78.133.209:85/v1/chat-messages "HTTP/1.1 200 OK"
2025-10-12 22:46:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - INSERT INTO exam_results (exam_id, exam_name, student_name, department, total_possible_score, total_actual_score, exam_data, submit_time, status, id, created_at, updated_at, is_active, created_by, updated_by) VALUES ($1::UUID, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::FLOAT, $6::FLOAT, $7::JSON, $8::TIMESTAMP WITHOUT TIME ZONE, $9::VARCHAR, $10::UUID, $11::TIMESTAMP WITHOUT TIME ZONE, $12::TIMESTAMP WITHOUT TIME ZONE, $13::BOOLEAN, $14::UUID, $15::UUID)
2025-10-12 22:46:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00136s] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'), '试卷2', '11', '11', 100.0, 5.0, '{"exam_info": {"exam_id": "7c30f896-0dcd-498a-8c0b-2ad2fc4f886b", "title": "\\u8bd5\\u53772", "description": null, "total_score": 100.0, "time_limit" ... (5880 characters truncated) ... cy": 1.250724583864212}}, "created_at": 1760280378}, "submit_time": "2025-10-12T14:46:19.798506", "total_actual_score": 5.0, "score_percentage": 5.0}', datetime.datetime(2025, 10, 12, 14, 46, 19, 798506), 'completed', UUID('74727ee3-c3af-4a4e-be52-d0a320d02eef'), datetime.datetime(2025, 10, 12, 14, 46, 19, 800503), datetime.datetime(2025, 10, 12, 14, 46, 19, 800503), True, None, None)
2025-10-12 22:46:19 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 22:46:19 - app.core.logging - INFO - hr_workflows - submit_exam - Exam submitted and saved successfully for student: 11, exam_result_id: 74727ee3-c3af-4a4e-be52-d0a320d02eef
2025-10-12 22:46:19 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 2.3617s
2025-10-12 22:46:25 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://127.0.0.1:8000/api/v1/auth/login
2025-10-12 22:46:25 - app.api.v1.endpoints.auth - INFO - auth - login - Login attempt for username: testuser
2025-10-12 22:46:25 - app.api.v1.endpoints.auth - INFO - auth - login - UserService created successfully
2025-10-12 22:46:25 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:46:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.username = $1::VARCHAR AND users.is_active = true
2025-10-12 22:46:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00102s] ('testuser',)
2025-10-12 22:46:25 - passlib.handlers.bcrypt - WARNING - bcrypt - _load_backend_mixin - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\passlib\handlers\bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-10-12 22:46:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - UPDATE users SET last_login=now(), updated_at=$1::TIMESTAMP WITHOUT TIME ZONE WHERE users.id = $2::UUID
2025-10-12 22:46:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00066s] (datetime.datetime(2025, 10, 12, 14, 46, 25, 921008), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-12 22:46:25 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 22:46:25 - app.api.v1.endpoints.auth - INFO - auth - login - Authentication result: True
2025-10-12 22:46:25 - app.api.v1.endpoints.auth - INFO - auth - login - Creating access token for user: testuser
2025-10-12 22:46:25 - app.api.v1.endpoints.auth - INFO - auth - login - Login successful for user: testuser
2025-10-12 22:46:25 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.4381s
2025-10-12 22:46:25 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://127.0.0.1:8000/api/v1/hr-workflows/exam/submit
2025-10-12 22:46:25 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:46:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 22:46:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 8.412s ago] ('1805df8e-65cd-45c8-b8f0-2ba5eb3318e8',)
2025-10-12 22:46:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 22:46:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 8.39s ago] (UUID('1805df8e-65cd-45c8-b8f0-2ba5eb3318e8'),)
2025-10-12 22:46:26 - app.core.logging - INFO - dify_service - call_workflow_sync - Calling Dify workflow type 6 (sync) with query: 考生姓名：测试学生
部门：技术部
试卷标题：22
试卷总分：100.0
详细题目信息（包含标准答案、解析和考生答案）：
第1题：
  题目类型：单选
  题目内容：湖南省水文条例是在哪一年修订的？
 ...
2025-10-12 22:46:31 - httpx - INFO - _client - _send_single_request - HTTP Request: POST http://218.78.133.209:85/v1/chat-messages "HTTP/1.1 200 OK"
2025-10-12 22:46:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - INSERT INTO exam_results (exam_id, exam_name, student_name, department, total_possible_score, total_actual_score, exam_data, submit_time, status, id, created_at, updated_at, is_active, created_by, updated_by) VALUES ($1::UUID, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::FLOAT, $6::FLOAT, $7::JSON, $8::TIMESTAMP WITHOUT TIME ZONE, $9::VARCHAR, $10::UUID, $11::TIMESTAMP WITHOUT TIME ZONE, $12::TIMESTAMP WITHOUT TIME ZONE, $13::BOOLEAN, $14::UUID, $15::UUID)
2025-10-12 22:46:31 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 11.97s ago] (UUID('1805df8e-65cd-45c8-b8f0-2ba5eb3318e8'), '22', '测试学生', '技术部', 100.0, 0.0, '{"exam_info": {"exam_id": "1805df8e-65cd-45c8-b8f0-2ba5eb3318e8", "title": "22", "description": null, "total_score": 100.0, "time_limit": 90, "instru ... (6298 characters truncated) ... y": 4.9210322722792625}}, "created_at": 1760280386}, "submit_time": "2025-10-12T14:46:31.765287", "total_actual_score": 0.0, "score_percentage": 0.0}', datetime.datetime(2025, 10, 12, 14, 46, 31, 765287), 'completed', UUID('7544d798-9813-4d41-b81c-52bd0ab85629'), datetime.datetime(2025, 10, 12, 14, 46, 31, 765287), datetime.datetime(2025, 10, 12, 14, 46, 31, 765287), True, None, None)
2025-10-12 22:46:31 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 22:46:31 - app.core.logging - INFO - hr_workflows - submit_exam - Exam submitted and saved successfully for student: 测试学生, exam_result_id: 7544d798-9813-4d41-b81c-52bd0ab85629
2025-10-12 22:46:31 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 5.8274s
2025-10-12 22:47:07 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-12 22:47:07 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-12 22:47:07 - main - INFO - main - lifespan - Database connections closed
2025-10-12 22:47:07 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-12 22:47:12 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-12 22:47:12 - main - INFO - main - lifespan - Logging configured
2025-10-12 22:47:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-12 22:47:12 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:47:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-12 22:47:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:47:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-12 22:47:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:47:13 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:47:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-12 22:47:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00048s] ()
2025-10-12 22:47:13 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-12 22:47:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:47:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00055s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:47:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:47:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03358s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:47:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:47:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05281s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:47:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:47:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06941s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:47:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:47:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09701s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:47:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:47:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1146s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:47:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:47:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1323s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:47:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:47:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1492s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:47:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:47:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1654s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:47:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:47:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.18s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:47:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:47:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1944s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:47:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:47:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.209s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:47:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:47:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.2246s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:47:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:47:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.239s ago] ('exam_results', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:47:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:47:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00062s] ('userrole', 'pg_catalog')
2025-10-12 22:47:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:47:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02819s ago] ('conversationstatus', 'pg_catalog')
2025-10-12 22:47:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:47:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04344s ago] ('messagerole', 'pg_catalog')
2025-10-12 22:47:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:47:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05993s ago] ('jdstatus', 'pg_catalog')
2025-10-12 22:47:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:47:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07474s ago] ('scoringstatus', 'pg_catalog')
2025-10-12 22:47:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:47:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08974s ago] ('resumestatus', 'pg_catalog')
2025-10-12 22:47:13 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 22:47:13 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-12 22:47:13 - main - INFO - main - lifespan - Database initialized successfully
2025-10-12 22:47:13 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-12 22:47:15 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-12 22:47:15 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-12 22:47:15 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-12 22:47:15 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 22:47:15 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 22:47:15 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:47:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-12 22:47:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00055s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-12 22:47:15 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/7c30f896-0dcd-498a-8c0b-2ad2fc4f886b/share
2025-10-12 22:47:15 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-12 22:47:15 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-12 22:47:15 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-12 22:47:15 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-12 22:47:15 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-12 22:47:15 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-12 22:47:15 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1919s
2025-10-12 22:47:15 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 22:47:15 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:47:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 22:47:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00038s] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 22:47:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 22:47:15 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00053s] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'),)
2025-10-12 22:47:15 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.2804s
2025-10-12 22:47:15 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 22:47:20 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/auth/login
2025-10-12 22:47:20 - app.core.exception_handlers - WARNING - exception_handlers - validation_exception_handler - Validation Error: [{'type': 'missing', 'loc': ('body', 'username'), 'msg': 'Field required', 'input': None, 'url': 'https://errors.pydantic.dev/2.11/v/missing'}, {'type': 'missing', 'loc': ('body', 'password'), 'msg': 'Field required', 'input': None, 'url': 'https://errors.pydantic.dev/2.11/v/missing'}]
2025-10-12 22:47:20 - app.core.middleware - INFO - middleware - dispatch - Response: 422 - Processing time: 0.0110s
2025-10-12 22:49:49 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-12 22:49:49 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-12 22:49:49 - main - INFO - main - lifespan - Database connections closed
2025-10-12 22:49:49 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-12 22:49:53 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-12 22:49:53 - main - INFO - main - lifespan - Logging configured
2025-10-12 22:49:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-12 22:49:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:49:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-12 22:49:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:49:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-12 22:49:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:49:53 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:49:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-12 22:49:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00034s] ()
2025-10-12 22:49:53 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-12 22:49:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:49:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00041s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:49:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:49:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02467s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:49:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:49:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03711s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:49:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:49:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0496s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:49:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:49:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06176s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:49:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:49:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07439s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:49:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:49:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0862s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:49:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:49:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09875s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:49:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:49:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1102s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:49:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:49:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1209s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:49:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:49:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1313s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:49:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:49:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1422s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:49:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:49:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1529s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:49:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:49:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1638s ago] ('exam_results', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:49:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:49:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00035s] ('userrole', 'pg_catalog')
2025-10-12 22:49:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:49:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02329s ago] ('conversationstatus', 'pg_catalog')
2025-10-12 22:49:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:49:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03541s ago] ('messagerole', 'pg_catalog')
2025-10-12 22:49:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:49:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04621s ago] ('jdstatus', 'pg_catalog')
2025-10-12 22:49:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:49:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05774s ago] ('scoringstatus', 'pg_catalog')
2025-10-12 22:49:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:49:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06946s ago] ('resumestatus', 'pg_catalog')
2025-10-12 22:49:53 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 22:49:53 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-12 22:49:53 - main - INFO - main - lifespan - Database initialized successfully
2025-10-12 22:49:53 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-12 22:51:10 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-12 22:51:10 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-12 22:51:10 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-12 22:51:10 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 22:51:10 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 22:51:10 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:51:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-12 22:51:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00131s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-12 22:51:10 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/7c30f896-0dcd-498a-8c0b-2ad2fc4f886b/share
2025-10-12 22:51:10 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-12 22:51:10 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-12 22:51:10 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-12 22:51:10 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-12 22:51:10 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-12 22:51:10 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-12 22:51:10 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.3381s
2025-10-12 22:51:10 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 22:51:10 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-12 22:51:10 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-12 22:51:10 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-12 22:51:10 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 22:51:10 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 22:51:10 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:51:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-12 22:51:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.2869s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-12 22:51:10 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-12 22:51:10 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-12 22:51:10 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-12 22:51:10 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-12 22:51:10 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-12 22:51:10 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-12 22:51:10 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0604s
2025-10-12 22:51:10 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 22:51:10 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-12 22:51:10 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-12 22:51:10 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-12 22:51:10 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 22:51:10 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 22:51:10 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-12 22:51:10 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-12 22:51:10 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-12 22:51:10 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 22:51:10 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 22:51:10 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:51:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-12 22:51:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.3695s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-12 22:51:10 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-12 22:51:10 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-12 22:51:10 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-12 22:51:10 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 22:51:10 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 22:51:10 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:51:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 22:51:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00089s] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 22:51:10 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-12 22:51:10 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-12 22:51:10 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-12 22:51:10 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-12 22:51:10 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-12 22:51:10 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-12 22:51:10 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0590s
2025-10-12 22:51:10 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 22:51:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 22:51:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00141s] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'),)
2025-10-12 22:51:10 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.4638s
2025-10-12 22:51:10 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 22:51:10 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/7c30f896-0dcd-498a-8c0b-2ad2fc4f886b/share
2025-10-12 22:51:10 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:51:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 22:51:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.2148s ago] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 22:51:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 22:51:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1458s ago] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'),)
2025-10-12 22:51:11 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:51:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-12 22:51:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.6669s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-12 22:51:11 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0813s
2025-10-12 22:51:11 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 22:51:11 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:51:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-12 22:51:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.6944s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-12 22:51:11 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/7c30f896-0dcd-498a-8c0b-2ad2fc4f886b/share
2025-10-12 22:51:11 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:51:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 22:51:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.3122s ago] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 22:51:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 22:51:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.2334s ago] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'),)
2025-10-12 22:51:11 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0555s
2025-10-12 22:51:11 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 22:51:11 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-12 22:51:11 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-12 22:51:11 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-12 22:51:11 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-12 22:51:11 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-12 22:51:11 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-12 22:51:11 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.4987s
2025-10-12 22:51:11 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 22:51:11 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-12 22:51:11 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-12 22:51:11 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-12 22:51:11 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-12 22:51:11 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-12 22:51:11 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-12 22:51:11 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.5052s
2025-10-12 22:51:11 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 22:51:11 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/list
2025-10-12 22:51:11 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-12 22:51:11 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-12 22:51:11 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 22:51:11 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 22:51:11 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:51:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-12 22:51:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 1.069s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-12 22:51:11 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-12 22:51:11 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-12 22:51:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT count(exams.id) AS count_1 
FROM exams
2025-10-12 22:51:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00045s] ()
2025-10-12 22:51:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams ORDER BY exams.created_at DESC 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-10-12 22:51:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00060s] (20, 0)
2025-10-12 22:51:11 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0879s
2025-10-12 22:51:11 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 22:51:54 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/7c30f896-0dcd-498a-8c0b-2ad2fc4f886b/share
2025-10-12 22:51:54 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:51:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 22:51:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 43.26s ago] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 22:51:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 22:51:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 43.27s ago] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'),)
2025-10-12 22:51:54 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1462s
2025-10-12 22:51:54 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 22:51:54 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/7c30f896-0dcd-498a-8c0b-2ad2fc4f886b/share
2025-10-12 22:51:54 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:51:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 22:51:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 43.42s ago] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 22:51:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 22:51:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 43.36s ago] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'),)
2025-10-12 22:51:54 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0946s
2025-10-12 22:51:54 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 22:51:54 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/7c30f896-0dcd-498a-8c0b-2ad2fc4f886b/share
2025-10-12 22:51:54 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:51:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 22:51:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 43.52s ago] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 22:51:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 22:51:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 43.47s ago] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'),)
2025-10-12 22:51:54 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0985s
2025-10-12 22:51:54 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 22:52:03 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/7c30f896-0dcd-498a-8c0b-2ad2fc4f886b/share
2025-10-12 22:52:03 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:52:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 22:52:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 53.02s ago] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 22:52:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 22:52:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 52.95s ago] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'),)
2025-10-12 22:52:03 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0762s
2025-10-12 22:52:03 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 22:52:03 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/7c30f896-0dcd-498a-8c0b-2ad2fc4f886b/share
2025-10-12 22:52:03 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:52:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 22:52:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 53.1s ago] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 22:52:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 22:52:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 53.03s ago] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'),)
2025-10-12 22:52:04 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1432s
2025-10-12 22:52:04 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 22:52:04 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/7c30f896-0dcd-498a-8c0b-2ad2fc4f886b/share
2025-10-12 22:52:04 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:52:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 22:52:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 53.25s ago] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 22:52:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 22:52:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 53.17s ago] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'),)
2025-10-12 22:52:04 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0632s
2025-10-12 22:52:04 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 22:52:14 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/7c30f896-0dcd-498a-8c0b-2ad2fc4f886b/share
2025-10-12 22:52:14 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/7c30f896-0dcd-498a-8c0b-2ad2fc4f886b/share
2025-10-12 22:52:14 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:52:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 22:52:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 63.78s ago] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 22:52:14 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:52:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 22:52:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 63.79s ago] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 22:52:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 22:52:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 63.71s ago] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'),)
2025-10-12 22:52:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 22:52:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 63.72s ago] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'),)
2025-10-12 22:52:14 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0709s
2025-10-12 22:52:14 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 22:52:14 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0939s
2025-10-12 22:52:14 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 22:52:14 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/7c30f896-0dcd-498a-8c0b-2ad2fc4f886b/share
2025-10-12 22:52:14 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:52:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 22:52:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 63.89s ago] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 22:52:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 22:52:14 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 63.82s ago] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'),)
2025-10-12 22:52:14 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0607s
2025-10-12 22:52:14 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 22:53:24 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-12 22:53:24 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-12 22:53:24 - main - INFO - main - lifespan - Database connections closed
2025-10-12 22:53:24 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-12 22:53:29 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-12 22:53:29 - main - INFO - main - lifespan - Logging configured
2025-10-12 22:53:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-12 22:53:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:53:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-12 22:53:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:53:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-12 22:53:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:53:29 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:53:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-12 22:53:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00046s] ()
2025-10-12 22:53:29 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-12 22:53:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:53:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00054s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:53:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:53:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.01722s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:53:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:53:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02541s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:53:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:53:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03386s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:53:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:53:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04312s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:53:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:53:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05154s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:53:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:53:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06037s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:53:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:53:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06845s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:53:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:53:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07607s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:53:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:53:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08256s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:53:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:53:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08894s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:53:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:53:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09487s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:53:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:53:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1009s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:53:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:53:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.107s ago] ('exam_results', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:53:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:53:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00037s] ('userrole', 'pg_catalog')
2025-10-12 22:53:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:53:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.01264s ago] ('conversationstatus', 'pg_catalog')
2025-10-12 22:53:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:53:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02186s ago] ('messagerole', 'pg_catalog')
2025-10-12 22:53:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:53:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02889s ago] ('jdstatus', 'pg_catalog')
2025-10-12 22:53:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:53:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03573s ago] ('scoringstatus', 'pg_catalog')
2025-10-12 22:53:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:53:29 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04324s ago] ('resumestatus', 'pg_catalog')
2025-10-12 22:53:29 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 22:53:29 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-12 22:53:29 - main - INFO - main - lifespan - Database initialized successfully
2025-10-12 22:53:29 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-12 22:53:35 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exams
2025-10-12 22:53:35 - app.core.exception_handlers - ERROR - exception_handlers - starlette_http_exception_handler - Starlette HTTP Exception: Not Found
2025-10-12 22:53:35 - app.core.middleware - INFO - middleware - dispatch - Response: 404 - Processing time: 0.0047s
2025-10-12 22:53:53 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-12 22:53:53 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-12 22:53:53 - main - INFO - main - lifespan - Database connections closed
2025-10-12 22:53:53 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-12 22:53:57 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-12 22:53:57 - main - INFO - main - lifespan - Logging configured
2025-10-12 22:53:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-12 22:53:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:53:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-12 22:53:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:53:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-12 22:53:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:53:57 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:53:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-12 22:53:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00038s] ()
2025-10-12 22:53:57 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-12 22:53:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:53:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00044s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:53:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:53:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03271s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:53:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:53:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04889s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:53:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:53:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06466s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:53:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:53:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08062s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:53:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:53:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09704s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:53:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:53:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1133s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:53:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:53:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.131s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:53:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:53:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1473s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:53:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:53:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1628s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:53:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:53:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1781s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:53:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:53:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1936s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:53:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:53:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.2094s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:53:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:53:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.2253s ago] ('exam_results', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:53:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:53:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00057s] ('userrole', 'pg_catalog')
2025-10-12 22:53:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:53:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03035s ago] ('conversationstatus', 'pg_catalog')
2025-10-12 22:53:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:53:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04565s ago] ('messagerole', 'pg_catalog')
2025-10-12 22:53:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:53:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06077s ago] ('jdstatus', 'pg_catalog')
2025-10-12 22:53:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:53:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07559s ago] ('scoringstatus', 'pg_catalog')
2025-10-12 22:53:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:53:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09011s ago] ('resumestatus', 'pg_catalog')
2025-10-12 22:53:57 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 22:53:57 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-12 22:53:57 - main - INFO - main - lifespan - Database initialized successfully
2025-10-12 22:53:57 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-12 22:54:02 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-12 22:54:02 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-12 22:54:02 - main - INFO - main - lifespan - Database connections closed
2025-10-12 22:54:02 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-12 22:54:06 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-12 22:54:06 - main - INFO - main - lifespan - Logging configured
2025-10-12 22:54:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-12 22:54:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:54:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-12 22:54:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:54:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-12 22:54:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:54:06 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:54:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-12 22:54:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00032s] ()
2025-10-12 22:54:06 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-12 22:54:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:54:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00045s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:54:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:54:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02258s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:54:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:54:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03371s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:54:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:54:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04459s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:54:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:54:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05576s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:54:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:54:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06771s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:54:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:54:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08074s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:54:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:54:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09335s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:54:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:54:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.107s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:54:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:54:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1184s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:54:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:54:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1287s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:54:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:54:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1386s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:54:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:54:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1485s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:54:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:54:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1587s ago] ('exam_results', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:54:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:54:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00049s] ('userrole', 'pg_catalog')
2025-10-12 22:54:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:54:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0516s ago] ('conversationstatus', 'pg_catalog')
2025-10-12 22:54:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:54:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06154s ago] ('messagerole', 'pg_catalog')
2025-10-12 22:54:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:54:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07189s ago] ('jdstatus', 'pg_catalog')
2025-10-12 22:54:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:54:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08214s ago] ('scoringstatus', 'pg_catalog')
2025-10-12 22:54:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:54:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09257s ago] ('resumestatus', 'pg_catalog')
2025-10-12 22:54:06 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 22:54:06 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-12 22:54:06 - main - INFO - main - lifespan - Database initialized successfully
2025-10-12 22:54:06 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-12 22:54:17 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-12 22:54:17 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-12 22:54:17 - main - INFO - main - lifespan - Database connections closed
2025-10-12 22:54:17 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-12 22:54:21 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-12 22:54:21 - main - INFO - main - lifespan - Logging configured
2025-10-12 22:54:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-12 22:54:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:54:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-12 22:54:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:54:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-12 22:54:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:54:22 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:54:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-12 22:54:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00032s] ()
2025-10-12 22:54:22 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-12 22:54:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:54:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00038s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:54:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:54:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02617s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:54:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:54:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0384s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:54:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:54:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05095s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:54:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:54:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06327s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:54:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:54:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07537s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:54:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:54:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08869s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:54:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:54:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1007s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:54:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:54:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.113s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:54:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:54:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1254s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:54:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:54:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1372s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:54:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:54:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1487s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:54:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:54:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1604s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:54:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:54:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1722s ago] ('exam_results', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:54:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:54:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00039s] ('userrole', 'pg_catalog')
2025-10-12 22:54:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:54:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02538s ago] ('conversationstatus', 'pg_catalog')
2025-10-12 22:54:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:54:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0375s ago] ('messagerole', 'pg_catalog')
2025-10-12 22:54:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:54:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04983s ago] ('jdstatus', 'pg_catalog')
2025-10-12 22:54:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:54:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0625s ago] ('scoringstatus', 'pg_catalog')
2025-10-12 22:54:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:54:22 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07382s ago] ('resumestatus', 'pg_catalog')
2025-10-12 22:54:22 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 22:54:22 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-12 22:54:22 - main - INFO - main - lifespan - Database initialized successfully
2025-10-12 22:54:22 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-12 22:54:28 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/list
2025-10-12 22:54:28 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: Not authenticated
2025-10-12 22:54:28 - app.core.middleware - INFO - middleware - dispatch - Response: 401 - Processing time: 0.0025s
2025-10-12 22:54:58 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-12 22:54:58 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-12 22:54:58 - main - INFO - main - lifespan - Database connections closed
2025-10-12 22:54:58 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-12 22:55:02 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-12 22:55:02 - main - INFO - main - lifespan - Logging configured
2025-10-12 22:55:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-12 22:55:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:55:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-12 22:55:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:55:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-12 22:55:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:55:02 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:55:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-12 22:55:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00053s] ()
2025-10-12 22:55:02 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-12 22:55:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:55:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00054s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:55:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:55:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02403s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:55:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:55:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03584s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:55:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:55:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04726s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:55:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:55:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05876s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:55:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:55:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07028s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:55:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:55:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08251s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:55:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:55:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09344s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:55:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:55:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1042s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:55:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:55:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1137s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:55:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:55:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1239s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:55:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:55:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1341s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:55:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:55:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1434s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:55:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:55:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1582s ago] ('exam_results', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:55:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:55:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00065s] ('userrole', 'pg_catalog')
2025-10-12 22:55:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:55:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02284s ago] ('conversationstatus', 'pg_catalog')
2025-10-12 22:55:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:55:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0335s ago] ('messagerole', 'pg_catalog')
2025-10-12 22:55:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:55:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04376s ago] ('jdstatus', 'pg_catalog')
2025-10-12 22:55:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:55:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05426s ago] ('scoringstatus', 'pg_catalog')
2025-10-12 22:55:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:55:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06439s ago] ('resumestatus', 'pg_catalog')
2025-10-12 22:55:03 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 22:55:03 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-12 22:55:03 - main - INFO - main - lifespan - Database initialized successfully
2025-10-12 22:55:03 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-12 22:55:07 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://127.0.0.1:8000/api/v1/auth/login
2025-10-12 22:55:07 - app.api.v1.endpoints.auth - INFO - auth - login - Login attempt for username: testuser
2025-10-12 22:55:07 - app.api.v1.endpoints.auth - INFO - auth - login - UserService created successfully
2025-10-12 22:55:07 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:55:07 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.username = $1::VARCHAR AND users.is_active = true
2025-10-12 22:55:07 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00061s] ('testuser',)
2025-10-12 22:55:08 - passlib.handlers.bcrypt - WARNING - bcrypt - _load_backend_mixin - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\passlib\handlers\bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-10-12 22:55:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - UPDATE users SET last_login=now(), updated_at=$1::TIMESTAMP WITHOUT TIME ZONE WHERE users.id = $2::UUID
2025-10-12 22:55:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00062s] (datetime.datetime(2025, 10, 12, 14, 55, 8, 281614), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-12 22:55:08 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 22:55:08 - app.api.v1.endpoints.auth - INFO - auth - login - Authentication result: True
2025-10-12 22:55:08 - app.api.v1.endpoints.auth - INFO - auth - login - Creating access token for user: testuser
2025-10-12 22:55:08 - app.api.v1.endpoints.auth - INFO - auth - login - Login successful for user: testuser
2025-10-12 22:55:08 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.3832s
2025-10-12 22:55:08 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://127.0.0.1:8000/api/v1/hr-workflows/exam/submit
2025-10-12 22:55:08 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:55:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 22:55:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00032s] ('1805df8e-65cd-45c8-b8f0-2ba5eb3318e8',)
2025-10-12 22:55:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 22:55:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00072s] (UUID('1805df8e-65cd-45c8-b8f0-2ba5eb3318e8'),)
2025-10-12 22:55:08 - app.core.logging - INFO - dify_service - call_workflow_sync - Calling Dify workflow type 6 (sync) with query: 考生姓名：测试学生
部门：技术部
试卷标题：22
试卷总分：100.0
详细题目信息（包含标准答案、解析和考生答案）：
第1题：
  题目类型：单选
  题目内容：湖南省水文条例是在哪一年修订的？
 ...
2025-10-12 22:55:10 - httpx - INFO - _client - _send_single_request - HTTP Request: POST http://218.78.133.209:85/v1/chat-messages "HTTP/1.1 200 OK"
2025-10-12 22:55:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - INSERT INTO exam_results (exam_id, exam_name, student_name, department, total_possible_score, total_actual_score, exam_data, submit_time, status, id, created_at, updated_at, is_active, created_by, updated_by) VALUES ($1::UUID, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::FLOAT, $6::FLOAT, $7::JSON, $8::TIMESTAMP WITHOUT TIME ZONE, $9::VARCHAR, $10::UUID, $11::TIMESTAMP WITHOUT TIME ZONE, $12::TIMESTAMP WITHOUT TIME ZONE, $13::BOOLEAN, $14::UUID, $15::UUID)
2025-10-12 22:55:10 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00084s] (UUID('1805df8e-65cd-45c8-b8f0-2ba5eb3318e8'), '22', '测试学生', '技术部', 100.0, 0.0, '{"exam_info": {"exam_id": "1805df8e-65cd-45c8-b8f0-2ba5eb3318e8", "title": "22", "description": null, "total_score": 100.0, "time_limit": 90, "instru ... (6298 characters truncated) ... y": 1.0384019389748573}}, "created_at": 1760280909}, "submit_time": "2025-10-12T14:55:10.133302", "total_actual_score": 0.0, "score_percentage": 0.0}', datetime.datetime(2025, 10, 12, 14, 55, 10, 133302), 'completed', UUID('eec61a7c-4763-4ee0-bc2e-facdd1a9af84'), datetime.datetime(2025, 10, 12, 14, 55, 10, 136297), datetime.datetime(2025, 10, 12, 14, 55, 10, 136297), True, None, None)
2025-10-12 22:55:10 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 22:55:10 - app.core.logging - INFO - hr_workflows - submit_exam - Exam submitted and saved successfully for student: 测试学生, exam_result_id: eec61a7c-4763-4ee0-bc2e-facdd1a9af84
2025-10-12 22:55:10 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 1.8528s
2025-10-12 22:55:29 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-12 22:55:29 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-12 22:55:29 - main - INFO - main - lifespan - Database connections closed
2025-10-12 22:55:29 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-12 22:55:33 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-12 22:55:33 - main - INFO - main - lifespan - Logging configured
2025-10-12 22:55:33 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-12 22:55:33 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:55:33 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-12 22:55:33 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:55:33 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-12 22:55:33 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:55:33 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:55:33 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-12 22:55:33 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00035s] ()
2025-10-12 22:55:33 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-12 22:55:33 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:55:33 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00041s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:55:33 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:55:33 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03065s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:55:33 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:55:33 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04502s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:55:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:55:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05895s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:55:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:55:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0732s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:55:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:55:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08751s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:55:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:55:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1019s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:55:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:55:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1159s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:55:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:55:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1295s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:55:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:55:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1426s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:55:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:55:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1557s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:55:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:55:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1683s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:55:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:55:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.181s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:55:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:55:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1954s ago] ('exam_results', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:55:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:55:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00041s] ('userrole', 'pg_catalog')
2025-10-12 22:55:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:55:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02707s ago] ('conversationstatus', 'pg_catalog')
2025-10-12 22:55:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:55:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04059s ago] ('messagerole', 'pg_catalog')
2025-10-12 22:55:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:55:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05413s ago] ('jdstatus', 'pg_catalog')
2025-10-12 22:55:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:55:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06805s ago] ('scoringstatus', 'pg_catalog')
2025-10-12 22:55:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:55:34 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0816s ago] ('resumestatus', 'pg_catalog')
2025-10-12 22:55:34 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 22:55:34 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-12 22:55:34 - main - INFO - main - lifespan - Database initialized successfully
2025-10-12 22:55:34 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-12 22:55:39 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/result/eec61a7c-4763-4ee0-bc2e-facdd1a9af84
2025-10-12 22:55:39 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:55:39 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exam_results.exam_id, exam_results.exam_name, exam_results.student_name, exam_results.department, exam_results.total_possible_score, exam_results.total_actual_score, exam_results.exam_data, exam_results.submit_time, exam_results.status, exam_results.id, exam_results.created_at, exam_results.updated_at, exam_results.is_active, exam_results.created_by, exam_results.updated_by 
FROM exam_results 
WHERE exam_results.id = $1::UUID
2025-10-12 22:55:39 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00051s] ('eec61a7c-4763-4ee0-bc2e-facdd1a9af84',)
2025-10-12 22:55:39 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0753s
2025-10-12 22:55:39 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 22:57:21 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/result/eec61a7c-4763-4ee0-bc2e-facdd1a9af84
2025-10-12 22:57:21 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:57:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exam_results.exam_id, exam_results.exam_name, exam_results.student_name, exam_results.department, exam_results.total_possible_score, exam_results.total_actual_score, exam_results.exam_data, exam_results.submit_time, exam_results.status, exam_results.id, exam_results.created_at, exam_results.updated_at, exam_results.is_active, exam_results.created_by, exam_results.updated_by 
FROM exam_results 
WHERE exam_results.id = $1::UUID
2025-10-12 22:57:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 101.6s ago] ('eec61a7c-4763-4ee0-bc2e-facdd1a9af84',)
2025-10-12 22:57:21 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0357s
2025-10-12 22:57:21 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 22:57:51 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/result/eec61a7c-4763-4ee0-bc2e-facdd1a9af84
2025-10-12 22:57:51 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:57:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exam_results.exam_id, exam_results.exam_name, exam_results.student_name, exam_results.department, exam_results.total_possible_score, exam_results.total_actual_score, exam_results.exam_data, exam_results.submit_time, exam_results.status, exam_results.id, exam_results.created_at, exam_results.updated_at, exam_results.is_active, exam_results.created_by, exam_results.updated_by 
FROM exam_results 
WHERE exam_results.id = $1::UUID
2025-10-12 22:57:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 131.5s ago] ('eec61a7c-4763-4ee0-bc2e-facdd1a9af84',)
2025-10-12 22:57:51 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0346s
2025-10-12 22:57:51 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 22:58:27 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/1/share
2025-10-12 22:58:27 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:58:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 22:58:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00034s] ('1',)
2025-10-12 22:58:27 - app.core.logging - ERROR - hr_workflows - get_exam_for_share - Error getting exam: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $1: '1' (invalid UUID '1': length must be between 32..36 characters, got 1)
[SQL: SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID]
[parameters: ('1',)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-12 22:58:27 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 22:58:27 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: 获取试卷失败: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $1: '1' (invalid UUID '1': length must be between 32..36 characters, got 1)
[SQL: SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID]
[parameters: ('1',)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-12 22:58:27 - app.core.middleware - INFO - middleware - dispatch - Response: 500 - Processing time: 0.0550s
2025-10-12 22:58:53 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-12 22:58:53 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-12 22:58:53 - main - INFO - main - lifespan - Database connections closed
2025-10-12 22:58:53 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-12 22:58:58 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-12 22:58:58 - main - INFO - main - lifespan - Logging configured
2025-10-12 22:58:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-12 22:58:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:58:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-12 22:58:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:58:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-12 22:58:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:58:58 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:58:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-12 22:58:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00052s] ()
2025-10-12 22:58:58 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-12 22:58:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:58:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00059s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:58:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:58:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02705s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:58:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:58:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04215s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:58:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:58:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05614s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:58:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:58:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06996s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:58:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:58:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08436s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:58:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:58:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09823s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:58:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:58:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1111s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:58:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:58:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1233s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:58:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:58:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.135s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:58:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:58:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1477s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:58:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:58:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.16s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:58:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:58:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1716s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:58:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:58:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1839s ago] ('exam_results', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:58:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:58:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00078s] ('userrole', 'pg_catalog')
2025-10-12 22:58:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:58:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02701s ago] ('conversationstatus', 'pg_catalog')
2025-10-12 22:58:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:58:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04039s ago] ('messagerole', 'pg_catalog')
2025-10-12 22:58:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:58:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05326s ago] ('jdstatus', 'pg_catalog')
2025-10-12 22:58:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:58:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06559s ago] ('scoringstatus', 'pg_catalog')
2025-10-12 22:58:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:58:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07832s ago] ('resumestatus', 'pg_catalog')
2025-10-12 22:58:58 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 22:58:58 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-12 22:58:58 - main - INFO - main - lifespan - Database initialized successfully
2025-10-12 22:58:58 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-12 22:59:03 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/hr-workflows/exam/1
2025-10-12 22:59:03 - app.core.exception_handlers - ERROR - exception_handlers - starlette_http_exception_handler - Starlette HTTP Exception: Not Found
2025-10-12 22:59:03 - app.core.middleware - INFO - middleware - dispatch - Response: 404 - Processing time: 0.0030s
2025-10-12 22:59:16 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-12 22:59:16 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-12 22:59:16 - main - INFO - main - lifespan - Database connections closed
2025-10-12 22:59:16 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-12 22:59:21 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-12 22:59:21 - main - INFO - main - lifespan - Logging configured
2025-10-12 22:59:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-12 22:59:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:59:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-12 22:59:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:59:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-12 22:59:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 22:59:21 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:59:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-12 22:59:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00039s] ()
2025-10-12 22:59:21 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-12 22:59:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:59:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00044s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:59:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:59:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.01873s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:59:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:59:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0279s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:59:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:59:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0373s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:59:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:59:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04672s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:59:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:59:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.056s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:59:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:59:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06545s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:59:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:59:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0754s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:59:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:59:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0835s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:59:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:59:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09124s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:59:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:59:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0985s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:59:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:59:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.106s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:59:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:59:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1132s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:59:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 22:59:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1204s ago] ('exam_results', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 22:59:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:59:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00071s] ('userrole', 'pg_catalog')
2025-10-12 22:59:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:59:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.01635s ago] ('conversationstatus', 'pg_catalog')
2025-10-12 22:59:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:59:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02445s ago] ('messagerole', 'pg_catalog')
2025-10-12 22:59:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:59:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03353s ago] ('jdstatus', 'pg_catalog')
2025-10-12 22:59:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:59:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04512s ago] ('scoringstatus', 'pg_catalog')
2025-10-12 22:59:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 22:59:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05344s ago] ('resumestatus', 'pg_catalog')
2025-10-12 22:59:21 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 22:59:21 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-12 22:59:21 - main - INFO - main - lifespan - Database initialized successfully
2025-10-12 22:59:21 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-12 22:59:37 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://127.0.0.1:8000/api/v1/auth/login
2025-10-12 22:59:37 - app.api.v1.endpoints.auth - INFO - auth - login - Login attempt for username: testuser
2025-10-12 22:59:37 - app.api.v1.endpoints.auth - INFO - auth - login - UserService created successfully
2025-10-12 22:59:37 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:59:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.username = $1::VARCHAR AND users.is_active = true
2025-10-12 22:59:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00055s] ('testuser',)
2025-10-12 22:59:37 - passlib.handlers.bcrypt - WARNING - bcrypt - _load_backend_mixin - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\passlib\handlers\bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-10-12 22:59:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - UPDATE users SET last_login=now(), updated_at=$1::TIMESTAMP WITHOUT TIME ZONE WHERE users.id = $2::UUID
2025-10-12 22:59:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00052s] (datetime.datetime(2025, 10, 12, 14, 59, 37, 913244), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-12 22:59:37 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 22:59:37 - app.api.v1.endpoints.auth - INFO - auth - login - Authentication result: True
2025-10-12 22:59:37 - app.api.v1.endpoints.auth - INFO - auth - login - Creating access token for user: testuser
2025-10-12 22:59:37 - app.api.v1.endpoints.auth - INFO - auth - login - Login successful for user: testuser
2025-10-12 22:59:37 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.3573s
2025-10-12 22:59:37 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://127.0.0.1:8000/api/v1/hr-workflows/exam/submit
2025-10-12 22:59:37 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:59:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 22:59:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00032s] ('1805df8e-65cd-45c8-b8f0-2ba5eb3318e8',)
2025-10-12 22:59:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 22:59:37 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00103s] (UUID('1805df8e-65cd-45c8-b8f0-2ba5eb3318e8'),)
2025-10-12 22:59:37 - app.core.logging - INFO - dify_service - call_workflow_sync - Calling Dify workflow type 6 (sync) with query: 考生姓名：测试学生
部门：技术部
试卷标题：22
试卷总分：100.0
详细题目信息（包含标准答案、解析和考生答案）：
第1题：
  题目类型：单选
  题目内容：湖南省水文条例是在哪一年修订的？
 ...
2025-10-12 22:59:40 - httpx - INFO - _client - _send_single_request - HTTP Request: POST http://218.78.133.209:85/v1/chat-messages "HTTP/1.1 200 OK"
2025-10-12 22:59:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - INSERT INTO exam_results (exam_id, exam_name, student_name, department, total_possible_score, total_actual_score, exam_data, submit_time, status, id, created_at, updated_at, is_active, created_by, updated_by) VALUES ($1::UUID, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::FLOAT, $6::FLOAT, $7::JSON, $8::TIMESTAMP WITHOUT TIME ZONE, $9::VARCHAR, $10::UUID, $11::TIMESTAMP WITHOUT TIME ZONE, $12::TIMESTAMP WITHOUT TIME ZONE, $13::BOOLEAN, $14::UUID, $15::UUID)
2025-10-12 22:59:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00045s] (UUID('1805df8e-65cd-45c8-b8f0-2ba5eb3318e8'), '22', '测试学生', '技术部', 100.0, 0.0, '{"exam_info": {"exam_id": "1805df8e-65cd-45c8-b8f0-2ba5eb3318e8", "title": "22", "description": null, "total_score": 100.0, "time_limit": 90, "instru ... (6298 characters truncated) ... y": 1.6923859268426895}}, "created_at": 1760281178}, "submit_time": "2025-10-12T14:59:40.412345", "total_actual_score": 0.0, "score_percentage": 0.0}', datetime.datetime(2025, 10, 12, 14, 59, 40, 412345), 'completed', UUID('83340022-9210-4952-8b0e-044c0fc3136c'), datetime.datetime(2025, 10, 12, 14, 59, 40, 414339), datetime.datetime(2025, 10, 12, 14, 59, 40, 414339), True, None, None)
2025-10-12 22:59:40 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 22:59:40 - app.core.logging - INFO - hr_workflows - submit_exam - Exam submitted and saved successfully for student: 测试学生, exam_result_id: 83340022-9210-4952-8b0e-044c0fc3136c
2025-10-12 22:59:40 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 2.4982s
2025-10-12 22:59:56 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/result/83340022-9210-4952-8b0e-044c0fc3136c
2025-10-12 22:59:56 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 22:59:56 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exam_results.exam_id, exam_results.exam_name, exam_results.student_name, exam_results.department, exam_results.total_possible_score, exam_results.total_actual_score, exam_results.exam_data, exam_results.submit_time, exam_results.status, exam_results.id, exam_results.created_at, exam_results.updated_at, exam_results.is_active, exam_results.created_by, exam_results.updated_by 
FROM exam_results 
WHERE exam_results.id = $1::UUID
2025-10-12 22:59:56 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00033s] ('83340022-9210-4952-8b0e-044c0fc3136c',)
2025-10-12 22:59:56 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0269s
2025-10-12 22:59:56 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 23:00:21 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-12 23:00:21 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-12 23:00:21 - main - INFO - main - lifespan - Database connections closed
2025-10-12 23:00:21 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-12 23:00:25 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-12 23:00:25 - main - INFO - main - lifespan - Logging configured
2025-10-12 23:00:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-12 23:00:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 23:00:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-12 23:00:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 23:00:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-12 23:00:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 23:00:26 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 23:00:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-12 23:00:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00039s] ()
2025-10-12 23:00:26 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-12 23:00:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:00:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00071s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:00:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:00:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03605s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:00:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:00:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0605s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:00:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:00:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0914s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:00:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:00:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1221s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:00:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:00:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1392s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:00:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:00:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1676s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:00:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:00:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1861s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:00:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:00:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.2032s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:00:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:00:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.2185s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:00:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:00:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.2351s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:00:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:00:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.2509s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:00:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:00:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.2657s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:00:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:00:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.2819s ago] ('exam_results', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:00:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 23:00:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00088s] ('userrole', 'pg_catalog')
2025-10-12 23:00:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 23:00:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03144s ago] ('conversationstatus', 'pg_catalog')
2025-10-12 23:00:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 23:00:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04742s ago] ('messagerole', 'pg_catalog')
2025-10-12 23:00:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 23:00:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06377s ago] ('jdstatus', 'pg_catalog')
2025-10-12 23:00:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 23:00:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08097s ago] ('scoringstatus', 'pg_catalog')
2025-10-12 23:00:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 23:00:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09708s ago] ('resumestatus', 'pg_catalog')
2025-10-12 23:00:26 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 23:00:26 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-12 23:00:26 - main - INFO - main - lifespan - Database initialized successfully
2025-10-12 23:00:26 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-12 23:00:32 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/auth/login
2025-10-12 23:00:32 - app.core.exception_handlers - ERROR - exception_handlers - starlette_http_exception_handler - Starlette HTTP Exception: Not Found
2025-10-12 23:00:32 - app.core.middleware - INFO - middleware - dispatch - Response: 404 - Processing time: 0.0027s
2025-10-12 23:01:57 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-12 23:01:57 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-12 23:01:57 - main - INFO - main - lifespan - Database connections closed
2025-10-12 23:01:57 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-12 23:02:01 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-12 23:02:01 - main - INFO - main - lifespan - Logging configured
2025-10-12 23:02:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-12 23:02:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 23:02:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-12 23:02:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 23:02:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-12 23:02:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 23:02:01 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 23:02:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-12 23:02:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00128s] ()
2025-10-12 23:02:01 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-12 23:02:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:02:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00068s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:02:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:02:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02961s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:02:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:02:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04334s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:02:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:02:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05554s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:02:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:02:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06928s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:02:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:02:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08615s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:02:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:02:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1033s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:02:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:02:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.12s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:02:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:02:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.135s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:02:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:02:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1472s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:02:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:02:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1582s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:02:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:02:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1715s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:02:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:02:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1835s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:02:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:02:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1962s ago] ('exam_results', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:02:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 23:02:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00041s] ('userrole', 'pg_catalog')
2025-10-12 23:02:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 23:02:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02638s ago] ('conversationstatus', 'pg_catalog')
2025-10-12 23:02:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 23:02:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03849s ago] ('messagerole', 'pg_catalog')
2025-10-12 23:02:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 23:02:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05027s ago] ('jdstatus', 'pg_catalog')
2025-10-12 23:02:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 23:02:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06137s ago] ('scoringstatus', 'pg_catalog')
2025-10-12 23:02:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 23:02:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07328s ago] ('resumestatus', 'pg_catalog')
2025-10-12 23:02:01 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 23:02:01 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-12 23:02:01 - main - INFO - main - lifespan - Database initialized successfully
2025-10-12 23:02:01 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-12 23:02:08 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/auth/login
2025-10-12 23:02:08 - app.core.exception_handlers - ERROR - exception_handlers - starlette_http_exception_handler - Starlette HTTP Exception: Not Found
2025-10-12 23:02:08 - app.core.middleware - INFO - middleware - dispatch - Response: 404 - Processing time: 0.0020s
2025-10-12 23:02:25 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-12 23:02:25 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-12 23:02:25 - main - INFO - main - lifespan - Database connections closed
2025-10-12 23:02:25 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-12 23:02:28 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-12 23:02:28 - main - INFO - main - lifespan - Logging configured
2025-10-12 23:02:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-12 23:02:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 23:02:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-12 23:02:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 23:02:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-12 23:02:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 23:02:28 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 23:02:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-12 23:02:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00032s] ()
2025-10-12 23:02:28 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-12 23:02:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:02:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00049s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:02:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:02:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.01971s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:02:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:02:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02894s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:02:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:02:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03726s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:02:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:02:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04531s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:02:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:02:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05343s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:02:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:02:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06221s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:02:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:02:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07068s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:02:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:02:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07858s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:02:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:02:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08523s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:02:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:02:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09236s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:02:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:02:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09991s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:02:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:02:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1075s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:02:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:02:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1139s ago] ('exam_results', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:02:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 23:02:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00037s] ('userrole', 'pg_catalog')
2025-10-12 23:02:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 23:02:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.01419s ago] ('conversationstatus', 'pg_catalog')
2025-10-12 23:02:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 23:02:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0235s ago] ('messagerole', 'pg_catalog')
2025-10-12 23:02:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 23:02:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03249s ago] ('jdstatus', 'pg_catalog')
2025-10-12 23:02:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 23:02:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03934s ago] ('scoringstatus', 'pg_catalog')
2025-10-12 23:02:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 23:02:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04947s ago] ('resumestatus', 'pg_catalog')
2025-10-12 23:02:28 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 23:02:28 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-12 23:02:28 - main - INFO - main - lifespan - Database initialized successfully
2025-10-12 23:02:28 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-12 23:02:35 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/auth/login
2025-10-12 23:02:35 - app.api.v1.endpoints.auth - INFO - auth - login - Login attempt for username: testuser
2025-10-12 23:02:35 - app.api.v1.endpoints.auth - INFO - auth - login - UserService created successfully
2025-10-12 23:02:35 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 23:02:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.username = $1::VARCHAR AND users.is_active = true
2025-10-12 23:02:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00054s] ('testuser',)
2025-10-12 23:02:35 - passlib.handlers.bcrypt - WARNING - bcrypt - _load_backend_mixin - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\passlib\handlers\bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-10-12 23:02:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - UPDATE users SET last_login=now(), updated_at=$1::TIMESTAMP WITHOUT TIME ZONE WHERE users.id = $2::UUID
2025-10-12 23:02:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00059s] (datetime.datetime(2025, 10, 12, 15, 2, 35, 698885), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-12 23:02:35 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 23:02:35 - app.api.v1.endpoints.auth - INFO - auth - login - Authentication result: True
2025-10-12 23:02:35 - app.api.v1.endpoints.auth - INFO - auth - login - Creating access token for user: testuser
2025-10-12 23:02:35 - app.api.v1.endpoints.auth - INFO - auth - login - Login successful for user: testuser
2025-10-12 23:02:35 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.3563s
2025-10-12 23:02:37 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/hr-workflows/exam/list
2025-10-12 23:02:37 - app.core.exception_handlers - ERROR - exception_handlers - starlette_http_exception_handler - Starlette HTTP Exception: Not Found
2025-10-12 23:02:37 - app.core.middleware - INFO - middleware - dispatch - Response: 404 - Processing time: 0.0020s
2025-10-12 23:02:46 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-12 23:02:46 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-12 23:02:46 - main - INFO - main - lifespan - Database connections closed
2025-10-12 23:02:46 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-12 23:02:50 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-12 23:02:50 - main - INFO - main - lifespan - Logging configured
2025-10-12 23:02:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-12 23:02:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 23:02:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-12 23:02:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 23:02:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-12 23:02:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 23:02:50 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 23:02:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-12 23:02:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00038s] ()
2025-10-12 23:02:50 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-12 23:02:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:02:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00036s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:02:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:02:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.01682s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:02:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:02:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02595s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:02:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:02:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03597s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:02:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:02:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04357s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:02:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:02:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05169s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:02:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:02:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05951s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:02:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:02:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06734s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:02:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:02:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07461s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:02:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:02:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08066s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:02:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:02:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08655s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:02:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:02:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09305s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:02:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:02:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09968s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:02:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:02:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1057s ago] ('exam_results', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:02:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 23:02:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00046s] ('userrole', 'pg_catalog')
2025-10-12 23:02:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 23:02:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.01379s ago] ('conversationstatus', 'pg_catalog')
2025-10-12 23:02:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 23:02:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02027s ago] ('messagerole', 'pg_catalog')
2025-10-12 23:02:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 23:02:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02668s ago] ('jdstatus', 'pg_catalog')
2025-10-12 23:02:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 23:02:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03363s ago] ('scoringstatus', 'pg_catalog')
2025-10-12 23:02:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 23:02:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04043s ago] ('resumestatus', 'pg_catalog')
2025-10-12 23:02:50 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 23:02:50 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-12 23:02:50 - main - INFO - main - lifespan - Database initialized successfully
2025-10-12 23:02:50 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-12 23:02:54 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-12 23:02:54 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-12 23:02:54 - main - INFO - main - lifespan - Database connections closed
2025-10-12 23:02:54 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-12 23:02:58 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-12 23:02:58 - main - INFO - main - lifespan - Logging configured
2025-10-12 23:02:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-12 23:02:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 23:02:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-12 23:02:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 23:02:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-12 23:02:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 23:02:58 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 23:02:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-12 23:02:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00093s] ()
2025-10-12 23:02:58 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-12 23:02:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:02:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00079s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:02:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:02:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02504s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:02:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:02:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03733s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:02:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:02:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04815s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:02:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:02:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05871s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:02:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:02:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06928s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:02:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:02:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07985s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:02:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:02:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09143s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:02:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:02:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1042s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:02:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:02:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1172s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:02:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:02:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1307s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:02:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:02:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1459s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:02:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:02:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1591s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:02:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:02:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1728s ago] ('exam_results', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:02:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 23:02:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00035s] ('userrole', 'pg_catalog')
2025-10-12 23:02:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 23:02:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02429s ago] ('conversationstatus', 'pg_catalog')
2025-10-12 23:02:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 23:02:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03502s ago] ('messagerole', 'pg_catalog')
2025-10-12 23:02:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 23:02:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04454s ago] ('jdstatus', 'pg_catalog')
2025-10-12 23:02:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 23:02:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05527s ago] ('scoringstatus', 'pg_catalog')
2025-10-12 23:02:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 23:02:58 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06655s ago] ('resumestatus', 'pg_catalog')
2025-10-12 23:02:58 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 23:02:58 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-12 23:02:58 - main - INFO - main - lifespan - Database initialized successfully
2025-10-12 23:02:58 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-12 23:03:04 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/auth/login
2025-10-12 23:03:04 - app.api.v1.endpoints.auth - INFO - auth - login - Login attempt for username: testuser
2025-10-12 23:03:04 - app.api.v1.endpoints.auth - INFO - auth - login - UserService created successfully
2025-10-12 23:03:04 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 23:03:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.username = $1::VARCHAR AND users.is_active = true
2025-10-12 23:03:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00048s] ('testuser',)
2025-10-12 23:03:04 - passlib.handlers.bcrypt - WARNING - bcrypt - _load_backend_mixin - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\passlib\handlers\bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-10-12 23:03:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - UPDATE users SET last_login=now(), updated_at=$1::TIMESTAMP WITHOUT TIME ZONE WHERE users.id = $2::UUID
2025-10-12 23:03:04 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00047s] (datetime.datetime(2025, 10, 12, 15, 3, 4, 805275), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-12 23:03:04 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 23:03:04 - app.api.v1.endpoints.auth - INFO - auth - login - Authentication result: True
2025-10-12 23:03:04 - app.api.v1.endpoints.auth - INFO - auth - login - Creating access token for user: testuser
2025-10-12 23:03:04 - app.api.v1.endpoints.auth - INFO - auth - login - Login successful for user: testuser
2025-10-12 23:03:04 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.4218s
2025-10-12 23:03:06 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/list
2025-10-12 23:03:06 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-12 23:03:06 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-12 23:03:06 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 23:03:06 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 23:03:06 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 23:03:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-12 23:03:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00026s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-12 23:03:06 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-12 23:03:06 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-12 23:03:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT count(exams.id) AS count_1 
FROM exams
2025-10-12 23:03:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00030s] ()
2025-10-12 23:03:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams ORDER BY exams.created_at DESC 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-10-12 23:03:06 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00055s] (20, 0)
2025-10-12 23:03:06 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0854s
2025-10-12 23:03:06 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 23:03:16 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-12 23:03:16 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-12 23:03:16 - main - INFO - main - lifespan - Database connections closed
2025-10-12 23:03:16 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-12 23:03:20 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-12 23:03:20 - main - INFO - main - lifespan - Logging configured
2025-10-12 23:03:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-12 23:03:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 23:03:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-12 23:03:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 23:03:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-12 23:03:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 23:03:20 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 23:03:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-12 23:03:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00031s] ()
2025-10-12 23:03:20 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-12 23:03:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:03:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00033s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:03:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:03:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02578s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:03:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:03:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0385s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:03:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:03:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05122s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:03:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:03:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06324s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:03:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:03:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07634s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:03:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:03:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08961s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:03:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:03:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1045s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:03:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:03:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1183s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:03:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:03:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1302s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:03:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:03:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1415s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:03:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:03:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1533s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:03:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:03:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1647s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:03:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:03:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1759s ago] ('exam_results', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:03:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 23:03:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00062s] ('userrole', 'pg_catalog')
2025-10-12 23:03:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 23:03:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02244s ago] ('conversationstatus', 'pg_catalog')
2025-10-12 23:03:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 23:03:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0357s ago] ('messagerole', 'pg_catalog')
2025-10-12 23:03:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 23:03:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05062s ago] ('jdstatus', 'pg_catalog')
2025-10-12 23:03:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 23:03:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06313s ago] ('scoringstatus', 'pg_catalog')
2025-10-12 23:03:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 23:03:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07446s ago] ('resumestatus', 'pg_catalog')
2025-10-12 23:03:20 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 23:03:20 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-12 23:03:20 - main - INFO - main - lifespan - Database initialized successfully
2025-10-12 23:03:20 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-12 23:03:27 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/auth/login
2025-10-12 23:03:28 - app.api.v1.endpoints.auth - INFO - auth - login - Login attempt for username: testuser
2025-10-12 23:03:28 - app.api.v1.endpoints.auth - INFO - auth - login - UserService created successfully
2025-10-12 23:03:28 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 23:03:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.username = $1::VARCHAR AND users.is_active = true
2025-10-12 23:03:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00052s] ('testuser',)
2025-10-12 23:03:28 - passlib.handlers.bcrypt - WARNING - bcrypt - _load_backend_mixin - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\passlib\handlers\bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-10-12 23:03:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - UPDATE users SET last_login=now(), updated_at=$1::TIMESTAMP WITHOUT TIME ZONE WHERE users.id = $2::UUID
2025-10-12 23:03:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00056s] (datetime.datetime(2025, 10, 12, 15, 3, 28, 386457), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-12 23:03:28 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 23:03:28 - app.api.v1.endpoints.auth - INFO - auth - login - Authentication result: True
2025-10-12 23:03:28 - app.api.v1.endpoints.auth - INFO - auth - login - Creating access token for user: testuser
2025-10-12 23:03:28 - app.api.v1.endpoints.auth - INFO - auth - login - Login successful for user: testuser
2025-10-12 23:03:28 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.4306s
2025-10-12 23:03:30 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/list
2025-10-12 23:03:30 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-12 23:03:30 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-12 23:03:30 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 23:03:30 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 23:03:30 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 23:03:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-12 23:03:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00027s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-12 23:03:30 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-12 23:03:30 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-12 23:03:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT count(exams.id) AS count_1 
FROM exams
2025-10-12 23:03:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00035s] ()
2025-10-12 23:03:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams ORDER BY exams.created_at DESC 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-10-12 23:03:30 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00040s] (20, 0)
2025-10-12 23:03:30 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0929s
2025-10-12 23:03:30 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 23:03:32 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/items
2025-10-12 23:03:32 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: Not authenticated
2025-10-12 23:03:32 - app.core.middleware - INFO - middleware - dispatch - Response: 401 - Processing time: 0.0049s
2025-10-12 23:03:34 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/total
2025-10-12 23:03:34 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: Not authenticated
2025-10-12 23:03:34 - app.core.middleware - INFO - middleware - dispatch - Response: 401 - Processing time: 0.0020s
2025-10-12 23:03:36 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/skip
2025-10-12 23:03:36 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: Not authenticated
2025-10-12 23:03:36 - app.core.middleware - INFO - middleware - dispatch - Response: 401 - Processing time: 0.0020s
2025-10-12 23:03:38 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/limit
2025-10-12 23:03:38 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: Not authenticated
2025-10-12 23:03:38 - app.core.middleware - INFO - middleware - dispatch - Response: 401 - Processing time: 0.0030s
2025-10-12 23:03:49 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-12 23:03:49 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-12 23:03:49 - main - INFO - main - lifespan - Database connections closed
2025-10-12 23:03:49 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-12 23:03:53 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-12 23:03:53 - main - INFO - main - lifespan - Logging configured
2025-10-12 23:03:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-12 23:03:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 23:03:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-12 23:03:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 23:03:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-12 23:03:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 23:03:53 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 23:03:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-12 23:03:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00098s] ()
2025-10-12 23:03:53 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-12 23:03:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:03:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00031s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:03:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:03:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03562s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:03:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:03:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05581s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:03:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:03:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07616s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:03:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:03:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0947s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:03:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:03:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1136s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:03:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:03:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1345s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:03:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:03:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1545s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:03:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:03:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1711s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:03:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:03:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1864s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:03:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:03:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.2033s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:03:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:03:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.2223s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:03:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:03:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.2396s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:03:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:03:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.2551s ago] ('exam_results', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:03:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 23:03:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00141s] ('userrole', 'pg_catalog')
2025-10-12 23:03:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 23:03:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03852s ago] ('conversationstatus', 'pg_catalog')
2025-10-12 23:03:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 23:03:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05816s ago] ('messagerole', 'pg_catalog')
2025-10-12 23:03:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 23:03:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07477s ago] ('jdstatus', 'pg_catalog')
2025-10-12 23:03:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 23:03:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09349s ago] ('scoringstatus', 'pg_catalog')
2025-10-12 23:03:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 23:03:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1141s ago] ('resumestatus', 'pg_catalog')
2025-10-12 23:03:54 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 23:03:54 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-12 23:03:54 - main - INFO - main - lifespan - Database initialized successfully
2025-10-12 23:03:54 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-12 23:03:59 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-12 23:03:59 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-12 23:03:59 - main - INFO - main - lifespan - Database connections closed
2025-10-12 23:03:59 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-12 23:04:03 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-12 23:04:03 - main - INFO - main - lifespan - Logging configured
2025-10-12 23:04:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-12 23:04:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 23:04:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-12 23:04:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 23:04:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-12 23:04:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 23:04:03 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 23:04:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-12 23:04:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00084s] ()
2025-10-12 23:04:03 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-12 23:04:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:04:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00047s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:04:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:04:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02593s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:04:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:04:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03757s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:04:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:04:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04904s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:04:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:04:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.062s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:04:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:04:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07639s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:04:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:04:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08977s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:04:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:04:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1037s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:04:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:04:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1176s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:04:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:04:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1306s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:04:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:04:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1441s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:04:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:04:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1577s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:04:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:04:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1717s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:04:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:04:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1863s ago] ('exam_results', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:04:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 23:04:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00060s] ('userrole', 'pg_catalog')
2025-10-12 23:04:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 23:04:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02366s ago] ('conversationstatus', 'pg_catalog')
2025-10-12 23:04:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 23:04:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03436s ago] ('messagerole', 'pg_catalog')
2025-10-12 23:04:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 23:04:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04502s ago] ('jdstatus', 'pg_catalog')
2025-10-12 23:04:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 23:04:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0555s ago] ('scoringstatus', 'pg_catalog')
2025-10-12 23:04:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 23:04:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06904s ago] ('resumestatus', 'pg_catalog')
2025-10-12 23:04:03 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 23:04:03 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-12 23:04:03 - main - INFO - main - lifespan - Database initialized successfully
2025-10-12 23:04:03 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-12 23:04:10 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/auth/login
2025-10-12 23:04:10 - app.api.v1.endpoints.auth - INFO - auth - login - Login attempt for username: testuser
2025-10-12 23:04:10 - app.api.v1.endpoints.auth - INFO - auth - login - UserService created successfully
2025-10-12 23:04:10 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 23:04:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.username = $1::VARCHAR AND users.is_active = true
2025-10-12 23:04:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00049s] ('testuser',)
2025-10-12 23:04:11 - passlib.handlers.bcrypt - WARNING - bcrypt - _load_backend_mixin - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\passlib\handlers\bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-10-12 23:04:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - UPDATE users SET last_login=now(), updated_at=$1::TIMESTAMP WITHOUT TIME ZONE WHERE users.id = $2::UUID
2025-10-12 23:04:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00052s] (datetime.datetime(2025, 10, 12, 15, 4, 11, 352390), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-12 23:04:11 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 23:04:11 - app.api.v1.endpoints.auth - INFO - auth - login - Authentication result: True
2025-10-12 23:04:11 - app.api.v1.endpoints.auth - INFO - auth - login - Creating access token for user: testuser
2025-10-12 23:04:11 - app.api.v1.endpoints.auth - INFO - auth - login - Login successful for user: testuser
2025-10-12 23:04:11 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.3955s
2025-10-12 23:04:13 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/list
2025-10-12 23:04:13 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-12 23:04:13 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-12 23:04:13 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 23:04:13 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 23:04:13 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 23:04:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-12 23:04:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00031s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-12 23:04:13 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-12 23:04:13 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-12 23:04:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT count(exams.id) AS count_1 
FROM exams
2025-10-12 23:04:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00027s] ()
2025-10-12 23:04:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams ORDER BY exams.created_at DESC 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-10-12 23:04:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00045s] (20, 0)
2025-10-12 23:04:13 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0809s
2025-10-12 23:04:13 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 23:04:15 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/7c30f896-0dcd-498a-8c0b-2ad2fc4f886b
2025-10-12 23:04:15 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: Not authenticated
2025-10-12 23:04:15 - app.core.middleware - INFO - middleware - dispatch - Response: 401 - Processing time: 0.0065s
2025-10-12 23:04:17 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/a9c0c6f0-5f09-4757-8bc4-ef2f35ca3430
2025-10-12 23:04:17 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: Not authenticated
2025-10-12 23:04:17 - app.core.middleware - INFO - middleware - dispatch - Response: 401 - Processing time: 0.0050s
2025-10-12 23:04:19 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/1805df8e-65cd-45c8-b8f0-2ba5eb3318e8
2025-10-12 23:04:19 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: Not authenticated
2025-10-12 23:04:19 - app.core.middleware - INFO - middleware - dispatch - Response: 401 - Processing time: 0.0025s
2025-10-12 23:04:36 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/1805df8e-65cd-45c8-b8f0-2ba5eb3318e8/share
2025-10-12 23:04:36 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 23:04:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 23:04:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00037s] ('1805df8e-65cd-45c8-b8f0-2ba5eb3318e8',)
2025-10-12 23:04:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 23:04:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00121s] (UUID('1805df8e-65cd-45c8-b8f0-2ba5eb3318e8'),)
2025-10-12 23:04:36 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0618s
2025-10-12 23:04:36 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 23:05:08 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-12 23:05:08 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-12 23:05:08 - main - INFO - main - lifespan - Database connections closed
2025-10-12 23:05:08 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-12 23:05:12 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-12 23:05:12 - main - INFO - main - lifespan - Logging configured
2025-10-12 23:05:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-12 23:05:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 23:05:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-12 23:05:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 23:05:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-12 23:05:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 23:05:13 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 23:05:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-12 23:05:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00035s] ()
2025-10-12 23:05:13 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-12 23:05:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:05:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00059s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:05:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:05:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02707s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:05:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:05:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03932s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:05:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:05:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05162s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:05:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:05:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06413s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:05:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:05:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07739s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:05:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:05:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08982s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:05:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:05:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1022s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:05:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:05:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1143s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:05:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:05:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1259s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:05:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:05:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.137s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:05:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:05:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1556s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:05:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:05:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1672s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:05:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:05:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1789s ago] ('exam_results', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:05:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 23:05:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00056s] ('userrole', 'pg_catalog')
2025-10-12 23:05:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 23:05:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.023s ago] ('conversationstatus', 'pg_catalog')
2025-10-12 23:05:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 23:05:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03546s ago] ('messagerole', 'pg_catalog')
2025-10-12 23:05:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 23:05:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04731s ago] ('jdstatus', 'pg_catalog')
2025-10-12 23:05:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 23:05:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05964s ago] ('scoringstatus', 'pg_catalog')
2025-10-12 23:05:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 23:05:13 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07221s ago] ('resumestatus', 'pg_catalog')
2025-10-12 23:05:13 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 23:05:13 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-12 23:05:13 - main - INFO - main - lifespan - Database initialized successfully
2025-10-12 23:05:13 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-12 23:05:18 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://127.0.0.1:8000/api/v1/auth/login
2025-10-12 23:05:18 - app.api.v1.endpoints.auth - INFO - auth - login - Login attempt for username: testuser
2025-10-12 23:05:18 - app.api.v1.endpoints.auth - INFO - auth - login - UserService created successfully
2025-10-12 23:05:18 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 23:05:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.username = $1::VARCHAR AND users.is_active = true
2025-10-12 23:05:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00051s] ('testuser',)
2025-10-12 23:05:18 - passlib.handlers.bcrypt - WARNING - bcrypt - _load_backend_mixin - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\passlib\handlers\bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-10-12 23:05:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - UPDATE users SET last_login=now(), updated_at=$1::TIMESTAMP WITHOUT TIME ZONE WHERE users.id = $2::UUID
2025-10-12 23:05:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00055s] (datetime.datetime(2025, 10, 12, 15, 5, 18, 728088), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-12 23:05:18 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 23:05:18 - app.api.v1.endpoints.auth - INFO - auth - login - Authentication result: True
2025-10-12 23:05:18 - app.api.v1.endpoints.auth - INFO - auth - login - Creating access token for user: testuser
2025-10-12 23:05:18 - app.api.v1.endpoints.auth - INFO - auth - login - Login successful for user: testuser
2025-10-12 23:05:18 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.4010s
2025-10-12 23:05:18 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://127.0.0.1:8000/api/v1/hr-workflows/exam/submit
2025-10-12 23:05:18 - app.core.exception_handlers - WARNING - exception_handlers - validation_exception_handler - Validation Error: [{'type': 'missing', 'loc': ('body', 'department'), 'msg': 'Field required', 'input': {'exam_id': '1805df8e-65cd-45c8-b8f0-2ba5eb3318e8', 'student_name': '前端测试学生', 'student_department': '前端测试部门', 'answers': {'1': '前端提交的第一题答案', '2': '前端提交的第二题答案'}}, 'url': 'https://errors.pydantic.dev/2.11/v/missing'}, {'type': 'missing', 'loc': ('body', 'exam_content'), 'msg': 'Field required', 'input': {'exam_id': '1805df8e-65cd-45c8-b8f0-2ba5eb3318e8', 'student_name': '前端测试学生', 'student_department': '前端测试部门', 'answers': {'1': '前端提交的第一题答案', '2': '前端提交的第二题答案'}}, 'url': 'https://errors.pydantic.dev/2.11/v/missing'}]
2025-10-12 23:05:18 - app.core.middleware - INFO - middleware - dispatch - Response: 422 - Processing time: 0.0099s
2025-10-12 23:05:32 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-12 23:05:32 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-12 23:05:32 - main - INFO - main - lifespan - Database connections closed
2025-10-12 23:05:32 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-12 23:05:35 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-12 23:05:35 - main - INFO - main - lifespan - Logging configured
2025-10-12 23:05:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-12 23:05:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 23:05:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-12 23:05:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 23:05:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-12 23:05:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 23:05:36 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 23:05:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-12 23:05:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00075s] ()
2025-10-12 23:05:36 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-12 23:05:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:05:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00047s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:05:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:05:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03224s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:05:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:05:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04825s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:05:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:05:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06558s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:05:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:05:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08518s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:05:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:05:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1025s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:05:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:05:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1204s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:05:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:05:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1402s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:05:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:05:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.159s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:05:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:05:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1751s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:05:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:05:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1893s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:05:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:05:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.2045s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:05:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:05:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.2186s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:05:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:05:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.236s ago] ('exam_results', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:05:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 23:05:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00147s] ('userrole', 'pg_catalog')
2025-10-12 23:05:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 23:05:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03662s ago] ('conversationstatus', 'pg_catalog')
2025-10-12 23:05:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 23:05:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05609s ago] ('messagerole', 'pg_catalog')
2025-10-12 23:05:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 23:05:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07648s ago] ('jdstatus', 'pg_catalog')
2025-10-12 23:05:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 23:05:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09685s ago] ('scoringstatus', 'pg_catalog')
2025-10-12 23:05:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 23:05:36 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1144s ago] ('resumestatus', 'pg_catalog')
2025-10-12 23:05:36 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 23:05:36 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-12 23:05:36 - main - INFO - main - lifespan - Database initialized successfully
2025-10-12 23:05:36 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-12 23:05:39 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://127.0.0.1:8000/api/v1/auth/login
2025-10-12 23:05:39 - app.api.v1.endpoints.auth - INFO - auth - login - Login attempt for username: testuser
2025-10-12 23:05:39 - app.api.v1.endpoints.auth - INFO - auth - login - UserService created successfully
2025-10-12 23:05:39 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 23:05:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.username = $1::VARCHAR AND users.is_active = true
2025-10-12 23:05:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00069s] ('testuser',)
2025-10-12 23:05:40 - passlib.handlers.bcrypt - WARNING - bcrypt - _load_backend_mixin - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\passlib\handlers\bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-10-12 23:05:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - UPDATE users SET last_login=now(), updated_at=$1::TIMESTAMP WITHOUT TIME ZONE WHERE users.id = $2::UUID
2025-10-12 23:05:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00058s] (datetime.datetime(2025, 10, 12, 15, 5, 40, 383498), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-12 23:05:40 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 23:05:40 - app.api.v1.endpoints.auth - INFO - auth - login - Authentication result: True
2025-10-12 23:05:40 - app.api.v1.endpoints.auth - INFO - auth - login - Creating access token for user: testuser
2025-10-12 23:05:40 - app.api.v1.endpoints.auth - INFO - auth - login - Login successful for user: testuser
2025-10-12 23:05:40 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.4602s
2025-10-12 23:05:40 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://127.0.0.1:8000/api/v1/hr-workflows/exam/submit
2025-10-12 23:05:40 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 23:05:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 23:05:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00038s] ('1805df8e-65cd-45c8-b8f0-2ba5eb3318e8',)
2025-10-12 23:05:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 23:05:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00060s] (UUID('1805df8e-65cd-45c8-b8f0-2ba5eb3318e8'),)
2025-10-12 23:05:40 - app.core.logging - INFO - dify_service - call_workflow_sync - Calling Dify workflow type 6 (sync) with query: 考生姓名：前端测试学生
部门：前端测试部门
试卷标题：22
试卷总分：100.0
详细题目信息（包含标准答案、解析和考生答案）：
第1题：
  题目类型：单选
  题目内容：湖南省水文条例是在哪一年修...
2025-10-12 23:05:42 - httpx - INFO - _client - _send_single_request - HTTP Request: POST http://218.78.133.209:85/v1/chat-messages "HTTP/1.1 200 OK"
2025-10-12 23:05:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - INSERT INTO exam_results (exam_id, exam_name, student_name, department, total_possible_score, total_actual_score, exam_data, submit_time, status, id, created_at, updated_at, is_active, created_by, updated_by) VALUES ($1::UUID, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::FLOAT, $6::FLOAT, $7::JSON, $8::TIMESTAMP WITHOUT TIME ZONE, $9::VARCHAR, $10::UUID, $11::TIMESTAMP WITHOUT TIME ZONE, $12::TIMESTAMP WITHOUT TIME ZONE, $13::BOOLEAN, $14::UUID, $15::UUID)
2025-10-12 23:05:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00052s] (UUID('1805df8e-65cd-45c8-b8f0-2ba5eb3318e8'), '22', '前端测试学生', '前端测试部门', 100.0, 0.0, '{"exam_info": {"exam_id": "1805df8e-65cd-45c8-b8f0-2ba5eb3318e8", "title": "22", "description": null, "total_score": 100.0, "time_limit": 90, "instru ... (6325 characters truncated) ... cy": 1.068538248538971}}, "created_at": 1760281541}, "submit_time": "2025-10-12T15:05:42.323213", "total_actual_score": 0.0, "score_percentage": 0.0}', datetime.datetime(2025, 10, 12, 15, 5, 42, 323213), 'completed', UUID('27577d63-1cd8-4edc-9df0-dbbbce32b4ea'), datetime.datetime(2025, 10, 12, 15, 5, 42, 326209), datetime.datetime(2025, 10, 12, 15, 5, 42, 326209), True, None, None)
2025-10-12 23:05:42 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 23:05:42 - app.core.logging - INFO - hr_workflows - submit_exam - Exam submitted and saved successfully for student: 前端测试学生, exam_result_id: 27577d63-1cd8-4edc-9df0-dbbbce32b4ea
2025-10-12 23:05:42 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 1.9218s
2025-10-12 23:05:42 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://127.0.0.1:8000/api/v1/hr-workflows/exam/result/27577d63-1cd8-4edc-9df0-dbbbce32b4ea
2025-10-12 23:05:42 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 23:05:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exam_results.exam_id, exam_results.exam_name, exam_results.student_name, exam_results.department, exam_results.total_possible_score, exam_results.total_actual_score, exam_results.exam_data, exam_results.submit_time, exam_results.status, exam_results.id, exam_results.created_at, exam_results.updated_at, exam_results.is_active, exam_results.created_by, exam_results.updated_by 
FROM exam_results 
WHERE exam_results.id = $1::UUID
2025-10-12 23:05:42 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00042s] ('27577d63-1cd8-4edc-9df0-dbbbce32b4ea',)
2025-10-12 23:05:42 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0466s
2025-10-12 23:05:42 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 23:05:51 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/result/27577d63-1cd8-4edc-9df0-dbbbce32b4ea
2025-10-12 23:05:51 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 23:05:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exam_results.exam_id, exam_results.exam_name, exam_results.student_name, exam_results.department, exam_results.total_possible_score, exam_results.total_actual_score, exam_results.exam_data, exam_results.submit_time, exam_results.status, exam_results.id, exam_results.created_at, exam_results.updated_at, exam_results.is_active, exam_results.created_by, exam_results.updated_by 
FROM exam_results 
WHERE exam_results.id = $1::UUID
2025-10-12 23:05:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 8.781s ago] ('27577d63-1cd8-4edc-9df0-dbbbce32b4ea',)
2025-10-12 23:05:51 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0325s
2025-10-12 23:05:51 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 23:06:00 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/result/27577d63-1cd8-4edc-9df0-dbbbce32b4ea
2025-10-12 23:06:00 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 23:06:00 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exam_results.exam_id, exam_results.exam_name, exam_results.student_name, exam_results.department, exam_results.total_possible_score, exam_results.total_actual_score, exam_results.exam_data, exam_results.submit_time, exam_results.status, exam_results.id, exam_results.created_at, exam_results.updated_at, exam_results.is_active, exam_results.created_by, exam_results.updated_by 
FROM exam_results 
WHERE exam_results.id = $1::UUID
2025-10-12 23:06:00 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 17.85s ago] ('27577d63-1cd8-4edc-9df0-dbbbce32b4ea',)
2025-10-12 23:06:00 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0346s
2025-10-12 23:06:00 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 23:13:20 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/hr-workflows/exam/submit
2025-10-12 23:13:20 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 23:13:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 23:13:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 459.6s ago] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 23:13:39 - app.core.logging - ERROR - hr_workflows - submit_exam - Error submitting exam: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID]
[parameters: ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-12 23:13:39 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: 提交考试失败: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID]
[parameters: ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-12 23:13:39 - app.core.middleware - INFO - middleware - dispatch - Response: 500 - Processing time: 19.1677s
2025-10-12 23:14:37 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/hr-workflows/exam/submit
2025-10-12 23:14:38 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 23:14:38 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 23:14:38 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 537.6s ago] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 23:14:38 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 23:14:38 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 537.6s ago] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'),)
2025-10-12 23:14:38 - app.core.logging - INFO - dify_service - call_workflow_sync - Calling Dify workflow type 6 (sync) with query: 考生姓名：11
部门：11
试卷标题：试卷2
试卷总分：100.0
详细题目信息（包含标准答案、解析和考生答案）：
第1题：
  题目类型：单选
  题目内容：湖南省《湖南省水文条例》是在哪一年修订的...
2025-10-12 23:14:40 - httpx - INFO - _client - _send_single_request - HTTP Request: POST http://218.78.133.209:85/v1/chat-messages "HTTP/1.1 200 OK"
2025-10-12 23:14:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - INSERT INTO exam_results (exam_id, exam_name, student_name, department, total_possible_score, total_actual_score, exam_data, submit_time, status, id, created_at, updated_at, is_active, created_by, updated_by) VALUES ($1::UUID, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::FLOAT, $6::FLOAT, $7::JSON, $8::TIMESTAMP WITHOUT TIME ZONE, $9::VARCHAR, $10::UUID, $11::TIMESTAMP WITHOUT TIME ZONE, $12::TIMESTAMP WITHOUT TIME ZONE, $13::BOOLEAN, $14::UUID, $15::UUID)
2025-10-12 23:14:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 537.8s ago] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'), '试卷2', '11', '11', 100.0, 5.0, '{"exam_info": {"exam_id": "7c30f896-0dcd-498a-8c0b-2ad2fc4f886b", "title": "\\u8bd5\\u53772", "description": null, "total_score": 100.0, "time_limit" ... (5878 characters truncated) ... cy": 1.246015504002571}}, "created_at": 1760282079}, "submit_time": "2025-10-12T15:14:40.102449", "total_actual_score": 5.0, "score_percentage": 5.0}', datetime.datetime(2025, 10, 12, 15, 14, 40, 102449), 'completed', UUID('ab6f54c2-4d39-4409-b078-6535758d6141'), datetime.datetime(2025, 10, 12, 15, 14, 40, 102449), datetime.datetime(2025, 10, 12, 15, 14, 40, 102449), True, None, None)
2025-10-12 23:14:40 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 23:14:40 - app.core.logging - INFO - hr_workflows - submit_exam - Exam submitted and saved successfully for student: 11, exam_result_id: ab6f54c2-4d39-4409-b078-6535758d6141
2025-10-12 23:14:40 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 2.3174s
2025-10-12 23:14:40 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/result/ab6f54c2-4d39-4409-b078-6535758d6141
2025-10-12 23:14:40 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 23:14:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exam_results.exam_id, exam_results.exam_name, exam_results.student_name, exam_results.department, exam_results.total_possible_score, exam_results.total_actual_score, exam_results.exam_data, exam_results.submit_time, exam_results.status, exam_results.id, exam_results.created_at, exam_results.updated_at, exam_results.is_active, exam_results.created_by, exam_results.updated_by 
FROM exam_results 
WHERE exam_results.id = $1::UUID
2025-10-12 23:14:40 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 537.9s ago] ('ab6f54c2-4d39-4409-b078-6535758d6141',)
2025-10-12 23:14:40 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0518s
2025-10-12 23:14:40 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 23:15:20 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-12 23:15:20 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-12 23:15:20 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-12 23:15:20 - app.api.deps - ERROR - deps - get_current_user - ❌ JWT decode error: Signature has expired.
2025-10-12 23:15:20 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: Could not validate credentials
2025-10-12 23:15:20 - app.core.middleware - INFO - middleware - dispatch - Response: 401 - Processing time: 0.0057s
2025-10-12 23:15:25 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/auth/login
2025-10-12 23:15:25 - app.api.v1.endpoints.auth - INFO - auth - login - Login attempt for username: testuser
2025-10-12 23:15:25 - app.api.v1.endpoints.auth - INFO - auth - login - UserService created successfully
2025-10-12 23:15:25 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 23:15:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.username = $1::VARCHAR AND users.is_active = true
2025-10-12 23:15:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 585.6s ago] ('testuser',)
2025-10-12 23:15:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - UPDATE users SET last_login=now(), updated_at=$1::TIMESTAMP WITHOUT TIME ZONE WHERE users.id = $2::UUID
2025-10-12 23:15:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 585.6s ago] (datetime.datetime(2025, 10, 12, 15, 15, 25, 966559), UUID('663c3a32-596c-4fec-955e-6eace86eb281'))
2025-10-12 23:15:25 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 23:15:26 - app.api.v1.endpoints.auth - INFO - auth - login - Authentication result: True
2025-10-12 23:15:26 - app.api.v1.endpoints.auth - INFO - auth - login - Creating access token for user: testuser
2025-10-12 23:15:26 - app.api.v1.endpoints.auth - INFO - auth - login - Login successful for user: testuser
2025-10-12 23:15:26 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.3990s
2025-10-12 23:15:26 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-12 23:15:26 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-12 23:15:26 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-12 23:15:26 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 23:15:26 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 23:15:26 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 23:15:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-12 23:15:26 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00083s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-12 23:15:26 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-12 23:15:26 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-12 23:15:26 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-12 23:15:26 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-12 23:15:26 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-12 23:15:26 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-12 23:15:26 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0634s
2025-10-12 23:15:26 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 23:15:35 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/result/ab6f54c2-4d39-4409-b078-6535758d6141
2025-10-12 23:15:35 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 23:15:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exam_results.exam_id, exam_results.exam_name, exam_results.student_name, exam_results.department, exam_results.total_possible_score, exam_results.total_actual_score, exam_results.exam_data, exam_results.submit_time, exam_results.status, exam_results.id, exam_results.created_at, exam_results.updated_at, exam_results.is_active, exam_results.created_by, exam_results.updated_by 
FROM exam_results 
WHERE exam_results.id = $1::UUID
2025-10-12 23:15:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 592.8s ago] ('ab6f54c2-4d39-4409-b078-6535758d6141',)
2025-10-12 23:15:35 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0324s
2025-10-12 23:15:35 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 23:15:43 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-12 23:15:43 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-12 23:15:43 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-12 23:15:43 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 23:15:43 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 23:15:43 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 23:15:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-12 23:15:43 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 17.82s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-12 23:15:43 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-12 23:15:43 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-12 23:15:43 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-12 23:15:43 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 23:15:43 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 23:15:43 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-12 23:15:43 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-12 23:15:43 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-12 23:15:43 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-12 23:15:43 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-12 23:15:43 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-12 23:15:43 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0367s
2025-10-12 23:15:43 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 23:15:44 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 23:15:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-12 23:15:44 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 17.97s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-12 23:15:44 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-12 23:15:44 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-12 23:15:44 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-12 23:15:44 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-12 23:15:44 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-12 23:15:44 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-12 23:15:44 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.2647s
2025-10-12 23:15:44 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 23:16:02 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/list
2025-10-12 23:16:02 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-12 23:16:02 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-12 23:16:02 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 23:16:02 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 23:16:02 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 23:16:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-12 23:16:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 36.3s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-12 23:16:02 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-12 23:16:02 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-12 23:16:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT count(exams.id) AS count_1 
FROM exams
2025-10-12 23:16:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00088s] ()
2025-10-12 23:16:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams ORDER BY exams.created_at DESC 
 LIMIT $1::INTEGER OFFSET $2::INTEGER
2025-10-12 23:16:02 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00224s] (20, 0)
2025-10-12 23:16:02 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1304s
2025-10-12 23:16:02 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 23:16:03 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/7c30f896-0dcd-498a-8c0b-2ad2fc4f886b
2025-10-12 23:16:03 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-12 23:16:03 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-12 23:16:03 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 23:16:03 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 23:16:03 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 23:16:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-12 23:16:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 37.83s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-12 23:16:03 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-12 23:16:03 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-12 23:16:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 23:16:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 623.4s ago] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 23:16:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 23:16:03 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 623.4s ago] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'),)
2025-10-12 23:16:03 - app.core.logging - INFO - hr_workflows - get_exam_detail - Exam detail retrieved successfully: 7c30f896-0dcd-498a-8c0b-2ad2fc4f886b
2025-10-12 23:16:03 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0911s
2025-10-12 23:16:03 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 23:16:08 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-12 23:16:08 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-12 23:16:08 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-12 23:16:08 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 23:16:08 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 23:16:08 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 23:16:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-12 23:16:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 42.8s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-12 23:16:08 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-12 23:16:08 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-12 23:16:08 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-12 23:16:08 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-12 23:16:08 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-12 23:16:08 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-12 23:16:08 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0422s
2025-10-12 23:16:08 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 23:16:08 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/7c30f896-0dcd-498a-8c0b-2ad2fc4f886b/share
2025-10-12 23:16:08 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 23:16:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 23:16:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 628.5s ago] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 23:16:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 23:16:08 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 628.5s ago] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'),)
2025-10-12 23:16:09 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0865s
2025-10-12 23:16:09 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 23:16:17 - app.core.middleware - INFO - middleware - dispatch - Request: POST http://localhost:8000/api/v1/hr-workflows/exam/submit
2025-10-12 23:16:17 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 23:16:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-12 23:16:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 637.1s ago] ('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b',)
2025-10-12 23:16:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT questions.exam_id AS questions_exam_id, questions.question_type AS questions_question_type, questions.question_text AS questions_question_text, questions.options AS questions_options, questions.correct_answer AS questions_correct_answer, questions.score AS questions_score, questions.order_index AS questions_order_index, questions.explanation AS questions_explanation, questions.id AS questions_id, questions.created_at AS questions_created_at, questions.updated_at AS questions_updated_at, questions.is_active AS questions_is_active, questions.created_by AS questions_created_by, questions.updated_by AS questions_updated_by 
FROM questions 
WHERE questions.exam_id IN ($1::UUID)
2025-10-12 23:16:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 637.1s ago] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'),)
2025-10-12 23:16:17 - app.core.logging - INFO - dify_service - call_workflow_sync - Calling Dify workflow type 6 (sync) with query: 考生姓名：11
部门：23
试卷标题：试卷2
试卷总分：100.0
详细题目信息（包含标准答案、解析和考生答案）：
第1题：
  题目类型：单选
  题目内容：湖南省《湖南省水文条例》是在哪一年修订的...
2025-10-12 23:16:19 - httpx - INFO - _client - _send_single_request - HTTP Request: POST http://218.78.133.209:85/v1/chat-messages "HTTP/1.1 200 OK"
2025-10-12 23:16:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - INSERT INTO exam_results (exam_id, exam_name, student_name, department, total_possible_score, total_actual_score, exam_data, submit_time, status, id, created_at, updated_at, is_active, created_by, updated_by) VALUES ($1::UUID, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::FLOAT, $6::FLOAT, $7::JSON, $8::TIMESTAMP WITHOUT TIME ZONE, $9::VARCHAR, $10::UUID, $11::TIMESTAMP WITHOUT TIME ZONE, $12::TIMESTAMP WITHOUT TIME ZONE, $13::BOOLEAN, $14::UUID, $15::UUID)
2025-10-12 23:16:19 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 637.6s ago] (UUID('7c30f896-0dcd-498a-8c0b-2ad2fc4f886b'), '试卷2', '11', '23', 100.0, 4.0, '{"exam_info": {"exam_id": "7c30f896-0dcd-498a-8c0b-2ad2fc4f886b", "title": "\\u8bd5\\u53772", "description": null, "total_score": 100.0, "time_limit" ... (5869 characters truncated) ... y": 1.4298247396945953}}, "created_at": 1760282178}, "submit_time": "2025-10-12T15:16:19.888216", "total_actual_score": 4.0, "score_percentage": 4.0}', datetime.datetime(2025, 10, 12, 15, 16, 19, 888216), 'completed', UUID('f8683c60-08af-4d0c-bb9c-691b7131d186'), datetime.datetime(2025, 10, 12, 15, 16, 19, 891203), datetime.datetime(2025, 10, 12, 15, 16, 19, 891203), True, None, None)
2025-10-12 23:16:19 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 23:16:19 - app.core.logging - INFO - hr_workflows - submit_exam - Exam submitted and saved successfully for student: 11, exam_result_id: f8683c60-08af-4d0c-bb9c-691b7131d186
2025-10-12 23:16:19 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 2.3417s
2025-10-12 23:16:20 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/result/f8683c60-08af-4d0c-bb9c-691b7131d186
2025-10-12 23:16:20 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 23:16:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exam_results.exam_id, exam_results.exam_name, exam_results.student_name, exam_results.department, exam_results.total_possible_score, exam_results.total_actual_score, exam_results.exam_data, exam_results.submit_time, exam_results.status, exam_results.id, exam_results.created_at, exam_results.updated_at, exam_results.is_active, exam_results.created_by, exam_results.updated_by 
FROM exam_results 
WHERE exam_results.id = $1::UUID
2025-10-12 23:16:20 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 637.7s ago] ('f8683c60-08af-4d0c-bb9c-691b7131d186',)
2025-10-12 23:16:20 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0555s
2025-10-12 23:16:20 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 23:16:33 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-12 23:16:33 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-12 23:16:33 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-12 23:16:33 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 23:16:33 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 23:16:33 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 23:16:33 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-12 23:16:33 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 67.63s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-12 23:16:33 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-12 23:16:33 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-12 23:16:33 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-12 23:16:33 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-12 23:16:33 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-12 23:16:33 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-12 23:16:33 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0365s
2025-10-12 23:16:33 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 23:16:33 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/result/f8683c60-08af-4d0c-bb9c-691b7131d186
2025-10-12 23:16:33 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 23:16:33 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exam_results.exam_id, exam_results.exam_name, exam_results.student_name, exam_results.department, exam_results.total_possible_score, exam_results.total_actual_score, exam_results.exam_data, exam_results.submit_time, exam_results.status, exam_results.id, exam_results.created_at, exam_results.updated_at, exam_results.is_active, exam_results.created_by, exam_results.updated_by 
FROM exam_results 
WHERE exam_results.id = $1::UUID
2025-10-12 23:16:33 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 651.4s ago] ('f8683c60-08af-4d0c-bb9c-691b7131d186',)
2025-10-12 23:16:33 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.2514s
2025-10-12 23:16:33 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 23:16:59 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/auth/me
2025-10-12 23:16:59 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-12 23:16:59 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-12 23:16:59 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 23:16:59 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-12 23:16:59 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 23:16:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-12 23:16:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 93.31s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-12 23:16:59 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-12 23:16:59 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-12 23:16:59 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 📋 /me endpoint called
2025-10-12 23:16:59 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user type: <class 'app.models.user.User'>
2025-10-12 23:16:59 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - 👤 Current user: <User(username='testuser', email='test@example.com')>
2025-10-12 23:16:59 - app.api.v1.endpoints.auth - INFO - auth - get_current_user_info - ✅ Returning user info
2025-10-12 23:16:59 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0374s
2025-10-12 23:16:59 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 23:16:59 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/result/f8683c60-08af-4d0c-bb9c-691b7131d186
2025-10-12 23:16:59 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 23:16:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exam_results.exam_id, exam_results.exam_name, exam_results.student_name, exam_results.department, exam_results.total_possible_score, exam_results.total_actual_score, exam_results.exam_data, exam_results.submit_time, exam_results.status, exam_results.id, exam_results.created_at, exam_results.updated_at, exam_results.is_active, exam_results.created_by, exam_results.updated_by 
FROM exam_results 
WHERE exam_results.id = $1::UUID
2025-10-12 23:16:59 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 677.1s ago] ('f8683c60-08af-4d0c-bb9c-691b7131d186',)
2025-10-12 23:16:59 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1728s
2025-10-12 23:16:59 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 23:18:01 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/result/f8683c60-08af-4d0c-bb9c-691b7131d186
2025-10-12 23:18:01 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 23:18:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exam_results.exam_id, exam_results.exam_name, exam_results.student_name, exam_results.department, exam_results.total_possible_score, exam_results.total_actual_score, exam_results.exam_data, exam_results.submit_time, exam_results.status, exam_results.id, exam_results.created_at, exam_results.updated_at, exam_results.is_active, exam_results.created_by, exam_results.updated_by 
FROM exam_results 
WHERE exam_results.id = $1::UUID
2025-10-12 23:18:01 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 739.2s ago] ('f8683c60-08af-4d0c-bb9c-691b7131d186',)
2025-10-12 23:18:01 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0348s
2025-10-12 23:18:01 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 23:18:50 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/result/f8683c60-08af-4d0c-bb9c-691b7131d186
2025-10-12 23:18:50 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 23:18:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exam_results.exam_id, exam_results.exam_name, exam_results.student_name, exam_results.department, exam_results.total_possible_score, exam_results.total_actual_score, exam_results.exam_data, exam_results.submit_time, exam_results.status, exam_results.id, exam_results.created_at, exam_results.updated_at, exam_results.is_active, exam_results.created_by, exam_results.updated_by 
FROM exam_results 
WHERE exam_results.id = $1::UUID
2025-10-12 23:18:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 787.7s ago] ('f8683c60-08af-4d0c-bb9c-691b7131d186',)
2025-10-12 23:18:50 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0276s
2025-10-12 23:18:50 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 23:19:11 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/result/f8683c60-08af-4d0c-bb9c-691b7131d186
2025-10-12 23:19:11 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 23:19:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exam_results.exam_id, exam_results.exam_name, exam_results.student_name, exam_results.department, exam_results.total_possible_score, exam_results.total_actual_score, exam_results.exam_data, exam_results.submit_time, exam_results.status, exam_results.id, exam_results.created_at, exam_results.updated_at, exam_results.is_active, exam_results.created_by, exam_results.updated_by 
FROM exam_results 
WHERE exam_results.id = $1::UUID
2025-10-12 23:19:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 809.4s ago] ('f8683c60-08af-4d0c-bb9c-691b7131d186',)
2025-10-12 23:19:11 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/result/f8683c60-08af-4d0c-bb9c-691b7131d186
2025-10-12 23:19:11 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 23:19:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exam_results.exam_id, exam_results.exam_name, exam_results.student_name, exam_results.department, exam_results.total_possible_score, exam_results.total_actual_score, exam_results.exam_data, exam_results.submit_time, exam_results.status, exam_results.id, exam_results.created_at, exam_results.updated_at, exam_results.is_active, exam_results.created_by, exam_results.updated_by 
FROM exam_results 
WHERE exam_results.id = $1::UUID
2025-10-12 23:19:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 809.5s ago] ('f8683c60-08af-4d0c-bb9c-691b7131d186',)
2025-10-12 23:19:11 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0460s
2025-10-12 23:19:11 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 23:19:11 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0424s
2025-10-12 23:19:11 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 23:19:27 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/result/f8683c60-08af-4d0c-bb9c-691b7131d186
2025-10-12 23:19:27 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 23:19:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exam_results.exam_id, exam_results.exam_name, exam_results.student_name, exam_results.department, exam_results.total_possible_score, exam_results.total_actual_score, exam_results.exam_data, exam_results.submit_time, exam_results.status, exam_results.id, exam_results.created_at, exam_results.updated_at, exam_results.is_active, exam_results.created_by, exam_results.updated_by 
FROM exam_results 
WHERE exam_results.id = $1::UUID
2025-10-12 23:19:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 825.5s ago] ('f8683c60-08af-4d0c-bb9c-691b7131d186',)
2025-10-12 23:19:27 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0319s
2025-10-12 23:19:27 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 23:19:33 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/result/f8683c60-08af-4d0c-bb9c-691b7131d186
2025-10-12 23:19:33 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 23:19:33 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exam_results.exam_id, exam_results.exam_name, exam_results.student_name, exam_results.department, exam_results.total_possible_score, exam_results.total_actual_score, exam_results.exam_data, exam_results.submit_time, exam_results.status, exam_results.id, exam_results.created_at, exam_results.updated_at, exam_results.is_active, exam_results.created_by, exam_results.updated_by 
FROM exam_results 
WHERE exam_results.id = $1::UUID
2025-10-12 23:19:33 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 831.4s ago] ('f8683c60-08af-4d0c-bb9c-691b7131d186',)
2025-10-12 23:19:33 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0291s
2025-10-12 23:19:33 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 23:19:35 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/result/f8683c60-08af-4d0c-bb9c-691b7131d186
2025-10-12 23:19:35 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 23:19:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exam_results.exam_id, exam_results.exam_name, exam_results.student_name, exam_results.department, exam_results.total_possible_score, exam_results.total_actual_score, exam_results.exam_data, exam_results.submit_time, exam_results.status, exam_results.id, exam_results.created_at, exam_results.updated_at, exam_results.is_active, exam_results.created_by, exam_results.updated_by 
FROM exam_results 
WHERE exam_results.id = $1::UUID
2025-10-12 23:19:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 833.1s ago] ('f8683c60-08af-4d0c-bb9c-691b7131d186',)
2025-10-12 23:19:35 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0337s
2025-10-12 23:19:35 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 23:20:35 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/result/f8683c60-08af-4d0c-bb9c-691b7131d186
2025-10-12 23:20:35 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 23:20:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exam_results.exam_id, exam_results.exam_name, exam_results.student_name, exam_results.department, exam_results.total_possible_score, exam_results.total_actual_score, exam_results.exam_data, exam_results.submit_time, exam_results.status, exam_results.id, exam_results.created_at, exam_results.updated_at, exam_results.is_active, exam_results.created_by, exam_results.updated_by 
FROM exam_results 
WHERE exam_results.id = $1::UUID
2025-10-12 23:20:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 893.3s ago] ('f8683c60-08af-4d0c-bb9c-691b7131d186',)
2025-10-12 23:20:35 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/result/f8683c60-08af-4d0c-bb9c-691b7131d186
2025-10-12 23:20:35 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 23:20:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exam_results.exam_id, exam_results.exam_name, exam_results.student_name, exam_results.department, exam_results.total_possible_score, exam_results.total_actual_score, exam_results.exam_data, exam_results.submit_time, exam_results.status, exam_results.id, exam_results.created_at, exam_results.updated_at, exam_results.is_active, exam_results.created_by, exam_results.updated_by 
FROM exam_results 
WHERE exam_results.id = $1::UUID
2025-10-12 23:20:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 893.3s ago] ('f8683c60-08af-4d0c-bb9c-691b7131d186',)
2025-10-12 23:20:35 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0449s
2025-10-12 23:20:35 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 23:20:35 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0516s
2025-10-12 23:20:35 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 23:20:46 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/result/f8683c60-08af-4d0c-bb9c-691b7131d186
2025-10-12 23:20:46 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/result/f8683c60-08af-4d0c-bb9c-691b7131d186
2025-10-12 23:20:46 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 23:20:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exam_results.exam_id, exam_results.exam_name, exam_results.student_name, exam_results.department, exam_results.total_possible_score, exam_results.total_actual_score, exam_results.exam_data, exam_results.submit_time, exam_results.status, exam_results.id, exam_results.created_at, exam_results.updated_at, exam_results.is_active, exam_results.created_by, exam_results.updated_by 
FROM exam_results 
WHERE exam_results.id = $1::UUID
2025-10-12 23:20:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 903.7s ago] ('f8683c60-08af-4d0c-bb9c-691b7131d186',)
2025-10-12 23:20:46 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 23:20:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exam_results.exam_id, exam_results.exam_name, exam_results.student_name, exam_results.department, exam_results.total_possible_score, exam_results.total_actual_score, exam_results.exam_data, exam_results.submit_time, exam_results.status, exam_results.id, exam_results.created_at, exam_results.updated_at, exam_results.is_active, exam_results.created_by, exam_results.updated_by 
FROM exam_results 
WHERE exam_results.id = $1::UUID
2025-10-12 23:20:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 903.7s ago] ('f8683c60-08af-4d0c-bb9c-691b7131d186',)
2025-10-12 23:20:46 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0420s
2025-10-12 23:20:46 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 23:20:46 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0763s
2025-10-12 23:20:46 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 23:20:54 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/result/f8683c60-08af-4d0c-bb9c-691b7131d186
2025-10-12 23:20:54 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 23:20:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exam_results.exam_id, exam_results.exam_name, exam_results.student_name, exam_results.department, exam_results.total_possible_score, exam_results.total_actual_score, exam_results.exam_data, exam_results.submit_time, exam_results.status, exam_results.id, exam_results.created_at, exam_results.updated_at, exam_results.is_active, exam_results.created_by, exam_results.updated_by 
FROM exam_results 
WHERE exam_results.id = $1::UUID
2025-10-12 23:20:54 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 911.9s ago] ('f8683c60-08af-4d0c-bb9c-691b7131d186',)
2025-10-12 23:20:54 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0259s
2025-10-12 23:20:54 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 23:21:21 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/result/f8683c60-08af-4d0c-bb9c-691b7131d186
2025-10-12 23:21:21 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 23:21:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exam_results.exam_id, exam_results.exam_name, exam_results.student_name, exam_results.department, exam_results.total_possible_score, exam_results.total_actual_score, exam_results.exam_data, exam_results.submit_time, exam_results.status, exam_results.id, exam_results.created_at, exam_results.updated_at, exam_results.is_active, exam_results.created_by, exam_results.updated_by 
FROM exam_results 
WHERE exam_results.id = $1::UUID
2025-10-12 23:21:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 938.8s ago] ('f8683c60-08af-4d0c-bb9c-691b7131d186',)
2025-10-12 23:21:21 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0319s
2025-10-12 23:21:21 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 23:21:21 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/result/f8683c60-08af-4d0c-bb9c-691b7131d186
2025-10-12 23:21:21 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 23:21:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exam_results.exam_id, exam_results.exam_name, exam_results.student_name, exam_results.department, exam_results.total_possible_score, exam_results.total_actual_score, exam_results.exam_data, exam_results.submit_time, exam_results.status, exam_results.id, exam_results.created_at, exam_results.updated_at, exam_results.is_active, exam_results.created_by, exam_results.updated_by 
FROM exam_results 
WHERE exam_results.id = $1::UUID
2025-10-12 23:21:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 939.1s ago] ('f8683c60-08af-4d0c-bb9c-691b7131d186',)
2025-10-12 23:21:21 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0275s
2025-10-12 23:21:21 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 23:25:42 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-12 23:26:20 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-12 23:26:20 - main - INFO - main - lifespan - Database connections closed
2025-10-12 23:26:20 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-12 23:26:25 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-12 23:26:25 - main - INFO - main - lifespan - Logging configured
2025-10-12 23:26:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-12 23:26:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 23:26:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-12 23:26:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 23:26:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-12 23:26:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-12 23:26:25 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 23:26:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-12 23:26:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00033s] ()
2025-10-12 23:26:25 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-12 23:26:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:26:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00040s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:26:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:26:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.01886s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:26:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:26:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02675s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:26:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:26:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03443s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:26:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:26:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04085s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:26:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:26:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0485s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:26:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:26:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0568s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:26:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:26:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06493s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:26:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:26:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07215s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:26:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:26:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07844s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:26:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:26:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08478s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:26:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:26:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09094s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:26:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:26:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09746s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:26:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-12 23:26:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.104s ago] ('exam_results', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-12 23:26:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 23:26:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00069s] ('userrole', 'pg_catalog')
2025-10-12 23:26:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 23:26:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.0139s ago] ('conversationstatus', 'pg_catalog')
2025-10-12 23:26:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 23:26:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02087s ago] ('messagerole', 'pg_catalog')
2025-10-12 23:26:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 23:26:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02761s ago] ('jdstatus', 'pg_catalog')
2025-10-12 23:26:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 23:26:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03421s ago] ('scoringstatus', 'pg_catalog')
2025-10-12 23:26:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-12 23:26:25 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04079s ago] ('resumestatus', 'pg_catalog')
2025-10-12 23:26:25 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-12 23:26:25 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-12 23:26:25 - main - INFO - main - lifespan - Database initialized successfully
2025-10-12 23:26:25 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-12 23:27:53 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/result/f8683c60-08af-4d0c-bb9c-691b7131d186
2025-10-12 23:27:53 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 23:27:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exam_results.exam_id, exam_results.exam_name, exam_results.student_name, exam_results.department, exam_results.total_possible_score, exam_results.total_actual_score, exam_results.exam_data, exam_results.submit_time, exam_results.status, exam_results.id, exam_results.created_at, exam_results.updated_at, exam_results.is_active, exam_results.created_by, exam_results.updated_by 
FROM exam_results 
WHERE exam_results.id = $1::UUID
2025-10-12 23:27:53 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00061s] ('f8683c60-08af-4d0c-bb9c-691b7131d186',)
2025-10-12 23:27:53 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0725s
2025-10-12 23:27:53 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 23:27:55 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/result/f8683c60-08af-4d0c-bb9c-691b7131d186
2025-10-12 23:27:55 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 23:27:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exam_results.exam_id, exam_results.exam_name, exam_results.student_name, exam_results.department, exam_results.total_possible_score, exam_results.total_actual_score, exam_results.exam_data, exam_results.submit_time, exam_results.status, exam_results.id, exam_results.created_at, exam_results.updated_at, exam_results.is_active, exam_results.created_by, exam_results.updated_by 
FROM exam_results 
WHERE exam_results.id = $1::UUID
2025-10-12 23:27:55 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 2.345s ago] ('f8683c60-08af-4d0c-bb9c-691b7131d186',)
2025-10-12 23:27:55 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0316s
2025-10-12 23:27:55 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 23:29:46 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/result/f8683c60-08af-4d0c-bb9c-691b7131d186
2025-10-12 23:29:46 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 23:29:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exam_results.exam_id, exam_results.exam_name, exam_results.student_name, exam_results.department, exam_results.total_possible_score, exam_results.total_actual_score, exam_results.exam_data, exam_results.submit_time, exam_results.status, exam_results.id, exam_results.created_at, exam_results.updated_at, exam_results.is_active, exam_results.created_by, exam_results.updated_by 
FROM exam_results 
WHERE exam_results.id = $1::UUID
2025-10-12 23:29:46 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 113.5s ago] ('f8683c60-08af-4d0c-bb9c-691b7131d186',)
2025-10-12 23:29:46 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0310s
2025-10-12 23:29:46 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 23:29:51 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/result/f8683c60-08af-4d0c-bb9c-691b7131d186
2025-10-12 23:29:51 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 23:29:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exam_results.exam_id, exam_results.exam_name, exam_results.student_name, exam_results.department, exam_results.total_possible_score, exam_results.total_actual_score, exam_results.exam_data, exam_results.submit_time, exam_results.status, exam_results.id, exam_results.created_at, exam_results.updated_at, exam_results.is_active, exam_results.created_by, exam_results.updated_by 
FROM exam_results 
WHERE exam_results.id = $1::UUID
2025-10-12 23:29:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 118s ago] ('f8683c60-08af-4d0c-bb9c-691b7131d186',)
2025-10-12 23:29:51 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0230s
2025-10-12 23:29:51 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 23:30:00 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/result/f8683c60-08af-4d0c-bb9c-691b7131d186
2025-10-12 23:30:00 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 23:30:00 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exam_results.exam_id, exam_results.exam_name, exam_results.student_name, exam_results.department, exam_results.total_possible_score, exam_results.total_actual_score, exam_results.exam_data, exam_results.submit_time, exam_results.status, exam_results.id, exam_results.created_at, exam_results.updated_at, exam_results.is_active, exam_results.created_by, exam_results.updated_by 
FROM exam_results 
WHERE exam_results.id = $1::UUID
2025-10-12 23:30:00 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 127.4s ago] ('f8683c60-08af-4d0c-bb9c-691b7131d186',)
2025-10-12 23:30:00 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0284s
2025-10-12 23:30:00 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 23:31:05 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/result/f8683c60-08af-4d0c-bb9c-691b7131d186
2025-10-12 23:31:05 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 23:31:05 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exam_results.exam_id, exam_results.exam_name, exam_results.student_name, exam_results.department, exam_results.total_possible_score, exam_results.total_actual_score, exam_results.exam_data, exam_results.submit_time, exam_results.status, exam_results.id, exam_results.created_at, exam_results.updated_at, exam_results.is_active, exam_results.created_by, exam_results.updated_by 
FROM exam_results 
WHERE exam_results.id = $1::UUID
2025-10-12 23:31:05 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 192.6s ago] ('f8683c60-08af-4d0c-bb9c-691b7131d186',)
2025-10-12 23:31:05 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0199s
2025-10-12 23:31:05 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 23:31:07 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/result/f8683c60-08af-4d0c-bb9c-691b7131d186
2025-10-12 23:31:07 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 23:31:07 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exam_results.exam_id, exam_results.exam_name, exam_results.student_name, exam_results.department, exam_results.total_possible_score, exam_results.total_actual_score, exam_results.exam_data, exam_results.submit_time, exam_results.status, exam_results.id, exam_results.created_at, exam_results.updated_at, exam_results.is_active, exam_results.created_by, exam_results.updated_by 
FROM exam_results 
WHERE exam_results.id = $1::UUID
2025-10-12 23:31:07 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 194.9s ago] ('f8683c60-08af-4d0c-bb9c-691b7131d186',)
2025-10-12 23:31:07 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0216s
2025-10-12 23:31:07 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 23:31:35 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/result/f8683c60-08af-4d0c-bb9c-691b7131d186
2025-10-12 23:31:35 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 23:31:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exam_results.exam_id, exam_results.exam_name, exam_results.student_name, exam_results.department, exam_results.total_possible_score, exam_results.total_actual_score, exam_results.exam_data, exam_results.submit_time, exam_results.status, exam_results.id, exam_results.created_at, exam_results.updated_at, exam_results.is_active, exam_results.created_by, exam_results.updated_by 
FROM exam_results 
WHERE exam_results.id = $1::UUID
2025-10-12 23:31:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 222.1s ago] ('f8683c60-08af-4d0c-bb9c-691b7131d186',)
2025-10-12 23:31:35 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/result/f8683c60-08af-4d0c-bb9c-691b7131d186
2025-10-12 23:31:35 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0305s
2025-10-12 23:31:35 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 23:31:35 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 23:31:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exam_results.exam_id, exam_results.exam_name, exam_results.student_name, exam_results.department, exam_results.total_possible_score, exam_results.total_actual_score, exam_results.exam_data, exam_results.submit_time, exam_results.status, exam_results.id, exam_results.created_at, exam_results.updated_at, exam_results.is_active, exam_results.created_by, exam_results.updated_by 
FROM exam_results 
WHERE exam_results.id = $1::UUID
2025-10-12 23:31:35 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 222.3s ago] ('f8683c60-08af-4d0c-bb9c-691b7131d186',)
2025-10-12 23:31:35 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.2471s
2025-10-12 23:31:35 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 23:31:57 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/result/f8683c60-08af-4d0c-bb9c-691b7131d186
2025-10-12 23:31:57 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 23:31:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exam_results.exam_id, exam_results.exam_name, exam_results.student_name, exam_results.department, exam_results.total_possible_score, exam_results.total_actual_score, exam_results.exam_data, exam_results.submit_time, exam_results.status, exam_results.id, exam_results.created_at, exam_results.updated_at, exam_results.is_active, exam_results.created_by, exam_results.updated_by 
FROM exam_results 
WHERE exam_results.id = $1::UUID
2025-10-12 23:31:57 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 244.7s ago] ('f8683c60-08af-4d0c-bb9c-691b7131d186',)
2025-10-12 23:31:57 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0193s
2025-10-12 23:31:57 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 23:32:11 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/result/f8683c60-08af-4d0c-bb9c-691b7131d186
2025-10-12 23:32:11 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 23:32:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exam_results.exam_id, exam_results.exam_name, exam_results.student_name, exam_results.department, exam_results.total_possible_score, exam_results.total_actual_score, exam_results.exam_data, exam_results.submit_time, exam_results.status, exam_results.id, exam_results.created_at, exam_results.updated_at, exam_results.is_active, exam_results.created_by, exam_results.updated_by 
FROM exam_results 
WHERE exam_results.id = $1::UUID
2025-10-12 23:32:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 258.4s ago] ('f8683c60-08af-4d0c-bb9c-691b7131d186',)
2025-10-12 23:32:11 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0281s
2025-10-12 23:32:11 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 23:32:11 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/result/f8683c60-08af-4d0c-bb9c-691b7131d186
2025-10-12 23:32:11 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 23:32:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exam_results.exam_id, exam_results.exam_name, exam_results.student_name, exam_results.department, exam_results.total_possible_score, exam_results.total_actual_score, exam_results.exam_data, exam_results.submit_time, exam_results.status, exam_results.id, exam_results.created_at, exam_results.updated_at, exam_results.is_active, exam_results.created_by, exam_results.updated_by 
FROM exam_results 
WHERE exam_results.id = $1::UUID
2025-10-12 23:32:11 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 258.5s ago] ('f8683c60-08af-4d0c-bb9c-691b7131d186',)
2025-10-12 23:32:11 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0196s
2025-10-12 23:32:11 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 23:32:21 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/result/f8683c60-08af-4d0c-bb9c-691b7131d186
2025-10-12 23:32:21 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 23:32:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exam_results.exam_id, exam_results.exam_name, exam_results.student_name, exam_results.department, exam_results.total_possible_score, exam_results.total_actual_score, exam_results.exam_data, exam_results.submit_time, exam_results.status, exam_results.id, exam_results.created_at, exam_results.updated_at, exam_results.is_active, exam_results.created_by, exam_results.updated_by 
FROM exam_results 
WHERE exam_results.id = $1::UUID
2025-10-12 23:32:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 268s ago] ('f8683c60-08af-4d0c-bb9c-691b7131d186',)
2025-10-12 23:32:21 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/result/f8683c60-08af-4d0c-bb9c-691b7131d186
2025-10-12 23:32:21 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 23:32:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exam_results.exam_id, exam_results.exam_name, exam_results.student_name, exam_results.department, exam_results.total_possible_score, exam_results.total_actual_score, exam_results.exam_data, exam_results.submit_time, exam_results.status, exam_results.id, exam_results.created_at, exam_results.updated_at, exam_results.is_active, exam_results.created_by, exam_results.updated_by 
FROM exam_results 
WHERE exam_results.id = $1::UUID
2025-10-12 23:32:21 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 268s ago] ('f8683c60-08af-4d0c-bb9c-691b7131d186',)
2025-10-12 23:32:21 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0254s
2025-10-12 23:32:21 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0330s
2025-10-12 23:32:21 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 23:32:21 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 23:32:28 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/result/f8683c60-08af-4d0c-bb9c-691b7131d186
2025-10-12 23:32:28 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 23:32:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exam_results.exam_id, exam_results.exam_name, exam_results.student_name, exam_results.department, exam_results.total_possible_score, exam_results.total_actual_score, exam_results.exam_data, exam_results.submit_time, exam_results.status, exam_results.id, exam_results.created_at, exam_results.updated_at, exam_results.is_active, exam_results.created_by, exam_results.updated_by 
FROM exam_results 
WHERE exam_results.id = $1::UUID
2025-10-12 23:32:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 275.9s ago] ('f8683c60-08af-4d0c-bb9c-691b7131d186',)
2025-10-12 23:32:29 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.1521s
2025-10-12 23:32:29 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 23:32:47 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/result/f8683c60-08af-4d0c-bb9c-691b7131d186
2025-10-12 23:32:47 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 23:32:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exam_results.exam_id, exam_results.exam_name, exam_results.student_name, exam_results.department, exam_results.total_possible_score, exam_results.total_actual_score, exam_results.exam_data, exam_results.submit_time, exam_results.status, exam_results.id, exam_results.created_at, exam_results.updated_at, exam_results.is_active, exam_results.created_by, exam_results.updated_by 
FROM exam_results 
WHERE exam_results.id = $1::UUID
2025-10-12 23:32:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 294.4s ago] ('f8683c60-08af-4d0c-bb9c-691b7131d186',)
2025-10-12 23:32:47 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0279s
2025-10-12 23:32:47 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 23:32:47 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/result/f8683c60-08af-4d0c-bb9c-691b7131d186
2025-10-12 23:32:47 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 23:32:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exam_results.exam_id, exam_results.exam_name, exam_results.student_name, exam_results.department, exam_results.total_possible_score, exam_results.total_actual_score, exam_results.exam_data, exam_results.submit_time, exam_results.status, exam_results.id, exam_results.created_at, exam_results.updated_at, exam_results.is_active, exam_results.created_by, exam_results.updated_by 
FROM exam_results 
WHERE exam_results.id = $1::UUID
2025-10-12 23:32:47 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 294.7s ago] ('f8683c60-08af-4d0c-bb9c-691b7131d186',)
2025-10-12 23:32:47 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0211s
2025-10-12 23:32:47 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-12 23:32:56 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/result/f8683c60-08af-4d0c-bb9c-691b7131d186
2025-10-12 23:32:56 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-12 23:32:56 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exam_results.exam_id, exam_results.exam_name, exam_results.student_name, exam_results.department, exam_results.total_possible_score, exam_results.total_actual_score, exam_results.exam_data, exam_results.submit_time, exam_results.status, exam_results.id, exam_results.created_at, exam_results.updated_at, exam_results.is_active, exam_results.created_by, exam_results.updated_by 
FROM exam_results 
WHERE exam_results.id = $1::UUID
2025-10-12 23:32:56 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 303.2s ago] ('f8683c60-08af-4d0c-bb9c-691b7131d186',)
2025-10-12 23:32:56 - app.core.middleware - INFO - middleware - dispatch - Response: 200 - Processing time: 0.0270s
2025-10-12 23:32:56 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-13 09:26:09 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-13 09:26:09 - main - INFO - main - lifespan - Logging configured
2025-10-13 09:26:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-13 09:26:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-13 09:26:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-13 09:26:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-13 09:26:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-13 09:26:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-13 09:26:09 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-13 09:26:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-13 09:26:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00032s] ()
2025-10-13 09:26:09 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-13 09:26:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-13 09:26:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00054s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-13 09:26:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-13 09:26:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02844s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-13 09:26:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-13 09:26:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04236s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-13 09:26:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-13 09:26:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04987s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-13 09:26:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-13 09:26:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05709s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-13 09:26:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-13 09:26:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06511s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-13 09:26:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-13 09:26:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07407s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-13 09:26:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-13 09:26:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08582s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-13 09:26:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-13 09:26:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09632s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-13 09:26:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-13 09:26:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1075s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-13 09:26:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-13 09:26:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1176s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-13 09:26:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-13 09:26:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.125s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-13 09:26:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-13 09:26:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1409s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-13 09:26:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-13 09:26:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1498s ago] ('exam_results', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-13 09:26:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-13 09:26:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00096s] ('userrole', 'pg_catalog')
2025-10-13 09:26:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-13 09:26:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.01848s ago] ('conversationstatus', 'pg_catalog')
2025-10-13 09:26:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-13 09:26:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02747s ago] ('messagerole', 'pg_catalog')
2025-10-13 09:26:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-13 09:26:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03997s ago] ('jdstatus', 'pg_catalog')
2025-10-13 09:26:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-13 09:26:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04879s ago] ('scoringstatus', 'pg_catalog')
2025-10-13 09:26:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-13 09:26:09 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05642s ago] ('resumestatus', 'pg_catalog')
2025-10-13 09:26:09 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-13 09:26:09 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-13 09:26:09 - main - INFO - main - lifespan - Database initialized successfully
2025-10-13 09:26:09 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-13 09:39:16 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/list
2025-10-13 09:39:16 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-13 09:39:16 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-13 09:39:16 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-13 09:39:16 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-13 09:39:16 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-13 09:39:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-13 09:39:16 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00145s] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-13 09:39:17 - app.core.middleware - INFO - middleware - dispatch - Request: GET http://localhost:8000/api/v1/hr-workflows/exam/results?page=1&page_size=20
2025-10-13 09:39:17 - app.api.deps - INFO - deps - get_current_user - 🔍 get_current_user called
2025-10-13 09:39:17 - app.api.deps - INFO - deps - get_current_user - 🔑 Decoding token: eyJhbGciOiJIUzI1NiIs...
2025-10-13 09:39:17 - app.api.deps - INFO - deps - get_current_user - 👤 Extracted user_id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-13 09:39:17 - app.api.deps - INFO - deps - get_current_user - 🔍 Looking up user with id: 663c3a32-596c-4fec-955e-6eace86eb281
2025-10-13 09:39:17 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-13 09:39:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true
2025-10-13 09:39:17 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.9636s ago] (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)
2025-10-13 09:39:18 - app.api.deps - INFO - deps - get_current_user - ✅ User found: testuser, active: True
2025-10-13 09:39:18 - app.api.deps - INFO - deps - get_current_user - ✅ Returning user: testuser
2025-10-13 09:39:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID
2025-10-13 09:39:18 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00121s] ('results',)
2025-10-13 09:39:18 - app.core.logging - ERROR - hr_workflows - get_exam_detail - Error getting exam detail: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $1: 'results' (invalid UUID 'results': length must be between 32..36 characters, got 7)
[SQL: SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID]
[parameters: ('results',)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-13 09:39:18 - sqlalchemy.engine.Engine - INFO - base - _rollback_impl - ROLLBACK
2025-10-13 09:39:18 - app.core.exception_handlers - ERROR - exception_handlers - http_exception_handler - HTTP Exception: 获取试卷详情失败: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $1: 'results' (invalid UUID 'results': length must be between 32..36 characters, got 7)
[SQL: SELECT exams.title, exams.subject, exams.description, exams.difficulty, exams.duration, exams.total_score, exams.question_types, exams.question_counts, exams.knowledge_files, exams.special_requirements, exams.content, exams.id, exams.created_at, exams.updated_at, exams.is_active, exams.created_by, exams.updated_by 
FROM exams 
WHERE exams.id = $1::UUID]
[parameters: ('results',)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-13 09:39:18 - app.core.middleware - INFO - middleware - dispatch - Response: 500 - Processing time: 0.2817s
2025-10-13 09:39:36 - app.services.user_service - ERROR - user_service - get_user - Error getting user 663c3a32-596c-4fec-955e-6eace86eb281: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-13 09:39:36 - app.api.deps - ERROR - deps - get_current_user - ❌ Error in get_current_user: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-13 09:39:36 - app.core.exception_handlers - ERROR - exception_handlers - sqlalchemy_exception_handler - Database Error: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\asyncio\selector_events.py", line 862, in _read_ready__data_received
    data = self._sock.recv(self.max_size)
ConnectionResetError: [WinError 10054] 远程主机强迫关闭了一个现有的连接。

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 859, in _start_transaction
    await self._transaction.start()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\asyncpg\transaction.py", line 146, in start
    await self._connection.execute(query)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\asyncpg\connection.py", line 350, in execute
    result = await self._protocol.query(query, timeout)
  File "asyncpg\protocol\protocol.pyx", line 374, in query
asyncpg.exceptions.ConnectionDoesNotExistError: connection was closed in the middle of operation

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 527, in _prepare_and_execute
    await adapt_connection._start_transaction()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 861, in _start_transaction
    self._handle_exception(error)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.Error: <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 20, in __call__
    raise e
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\middleware\asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\starlette\routing.py", line 66, in app
    response = await func(request)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\routing.py", line 264, in app
    solved_result = await solve_dependencies(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\fastapi\dependencies\utils.py", line 592, in solve_dependencies
    solved = await call(**sub_values)
  File "E:\workspace-py\hr-agent\backend\app\api\deps.py", line 56, in get_current_user
    user = await user_service.get_user(user_uuid)
  File "E:\workspace-py\hr-agent\backend\app\services\user_service.py", line 112, in get_user
    result = await self.db.execute(query)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 455, in execute
    result = await greenlet_spawn(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 190, in greenlet_spawn
    result = context.throw(*sys.exc_info())
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\orm\session.py", line 2308, in execute
    return self._execute_internal(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\orm\session.py", line 2190, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\orm\context.py", line 293, in orm_execute_statement
    result = conn.execute(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1639, in _execute_clauseelement
    ret = self._execute_context(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1848, in _execute_context
    return self._exec_single_context(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\engine\default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 527, in _prepare_and_execute
    await adapt_connection._start_transaction()
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 861, in _start_transaction
    self._handle_exception(error)
  File "D:\ProgramData\Anaconda3\envs\python310\lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.DBAPIError: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.ConnectionDoesNotExistError'>: connection was closed in the middle of operation
[SQL: SELECT users.username, users.email, users.full_name, users.hashed_password, users.phone, users.department, users.position, users.employee_id, users.role, users.is_superuser, users.is_verified, users.bio, users.avatar_url, users.last_login, users.id, users.created_at, users.updated_at, users.is_active, users.created_by, users.updated_by 
FROM users 
WHERE users.id = $1::UUID AND users.is_active = true]
[parameters: (UUID('663c3a32-596c-4fec-955e-6eace86eb281'),)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-10-13 09:39:36 - app.core.middleware - INFO - middleware - dispatch - Response: 500 - Processing time: 19.2707s
2025-10-13 09:40:03 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-13 09:40:03 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-13 09:40:03 - main - INFO - main - lifespan - Database connections closed
2025-10-13 09:40:03 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-13 10:38:27 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-13 10:38:27 - main - INFO - main - lifespan - Logging configured
2025-10-13 10:38:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-13 10:38:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-13 10:38:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-13 10:38:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-13 10:38:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-13 10:38:27 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-13 10:38:28 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-13 10:38:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-13 10:38:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00039s] ()
2025-10-13 10:38:28 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-13 10:38:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-13 10:38:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00054s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-13 10:38:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-13 10:38:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02073s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-13 10:38:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-13 10:38:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03175s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-13 10:38:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-13 10:38:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03929s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-13 10:38:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-13 10:38:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05049s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-13 10:38:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-13 10:38:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06191s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-13 10:38:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-13 10:38:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07077s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-13 10:38:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-13 10:38:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08363s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-13 10:38:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-13 10:38:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.09511s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-13 10:38:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-13 10:38:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1045s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-13 10:38:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-13 10:38:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.119s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-13 10:38:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-13 10:38:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1288s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-13 10:38:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-13 10:38:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1404s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-13 10:38:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-13 10:38:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1596s ago] ('exam_results', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-13 10:38:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-13 10:38:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00052s] ('userrole', 'pg_catalog')
2025-10-13 10:38:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-13 10:38:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.02139s ago] ('conversationstatus', 'pg_catalog')
2025-10-13 10:38:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-13 10:38:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03082s ago] ('messagerole', 'pg_catalog')
2025-10-13 10:38:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-13 10:38:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04001s ago] ('jdstatus', 'pg_catalog')
2025-10-13 10:38:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-13 10:38:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.04838s ago] ('scoringstatus', 'pg_catalog')
2025-10-13 10:38:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-13 10:38:28 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.06012s ago] ('resumestatus', 'pg_catalog')
2025-10-13 10:38:28 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-13 10:38:28 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-13 10:38:28 - main - INFO - main - lifespan - Database initialized successfully
2025-10-13 10:38:28 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-13 10:43:39 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-13 10:43:58 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-13 10:43:58 - main - INFO - main - lifespan - Database connections closed
2025-10-13 10:43:58 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
2025-10-13 20:45:41 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-13 20:45:41 - main - INFO - main - lifespan - Logging configured
2025-10-13 20:45:41 - app.core.database - ERROR - database - init_db - Error initializing database: database "hragent2" does not exist
2025-10-13 20:45:41 - main - ERROR - main - lifespan - Failed to initialize database: database "hragent2" does not exist
2025-10-13 20:54:49 - app.core.logging - INFO - logging - setup_logging - Logging configuration setup complete
2025-10-13 20:54:49 - main - INFO - main - lifespan - Logging configured
2025-10-13 20:54:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select pg_catalog.version()
2025-10-13 20:54:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-13 20:54:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - select current_schema()
2025-10-13 20:54:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-13 20:54:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - show standard_conforming_strings
2025-10-13 20:54:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [raw sql] ()
2025-10-13 20:54:49 - sqlalchemy.engine.Engine - INFO - base - _begin_impl - BEGIN (implicit)
2025-10-13 20:54:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE EXTENSION IF NOT EXISTS vector
2025-10-13 20:54:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00038s] ()
2025-10-13 20:54:49 - app.core.database - INFO - database - init_db - pgvector extension enabled
2025-10-13 20:54:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-13 20:54:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00044s] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-13 20:54:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-13 20:54:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.05904s ago] ('documents', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-13 20:54:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-13 20:54:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.07497s ago] ('document_chunks', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-13 20:54:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-13 20:54:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1061s ago] ('knowledge_bases', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-13 20:54:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-13 20:54:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.121s ago] ('faqs', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-13 20:54:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-13 20:54:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1312s ago] ('conversations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-13 20:54:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-13 20:54:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1413s ago] ('messages', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-13 20:54:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-13 20:54:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1512s ago] ('job_descriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-13 20:54:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-13 20:54:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1613s ago] ('scoring_criteria', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-13 20:54:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-13 20:54:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1708s ago] ('resume_evaluations', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-13 20:54:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-13 20:54:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1794s ago] ('interview_plans', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-13 20:54:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-13 20:54:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1886s ago] ('exams', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-13 20:54:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-13 20:54:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1975s ago] ('questions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-13 20:54:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-10-13 20:54:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.2072s ago] ('exam_results', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-10-13 20:54:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-13 20:54:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [generated in 0.00047s] ('userrole', 'pg_catalog')
2025-10-13 20:54:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE TYPE userrole AS ENUM ('ADMIN', 'HR_MANAGER', 'HR_SPECIALIST', 'EMPLOYEE')
2025-10-13 20:54:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00038s] ()
2025-10-13 20:54:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-13 20:54:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.03529s ago] ('conversationstatus', 'pg_catalog')
2025-10-13 20:54:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE TYPE conversationstatus AS ENUM ('ACTIVE', 'ARCHIVED', 'DELETED')
2025-10-13 20:54:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00040s] ()
2025-10-13 20:54:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-13 20:54:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.08263s ago] ('messagerole', 'pg_catalog')
2025-10-13 20:54:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE TYPE messagerole AS ENUM ('USER', 'ASSISTANT', 'SYSTEM')
2025-10-13 20:54:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00038s] ()
2025-10-13 20:54:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-13 20:54:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1248s ago] ('jdstatus', 'pg_catalog')
2025-10-13 20:54:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE TYPE jdstatus AS ENUM ('DRAFT', 'PUBLISHED', 'ARCHIVED')
2025-10-13 20:54:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00038s] ()
2025-10-13 20:54:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-13 20:54:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.1674s ago] ('scoringstatus', 'pg_catalog')
2025-10-13 20:54:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE TYPE scoringstatus AS ENUM ('DRAFT', 'ACTIVE', 'ARCHIVED')
2025-10-13 20:54:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00032s] ()
2025-10-13 20:54:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - SELECT pg_catalog.pg_type.typname 
FROM pg_catalog.pg_type JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_type.typnamespace 
WHERE pg_catalog.pg_type.typname = $1::VARCHAR AND pg_catalog.pg_type_is_visible(pg_catalog.pg_type.oid) AND pg_catalog.pg_namespace.nspname != $2::VARCHAR
2025-10-13 20:54:49 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [cached since 0.2089s ago] ('resumestatus', 'pg_catalog')
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE TYPE resumestatus AS ENUM ('PENDING', 'REJECTED', 'INTERVIEW')
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00036s] ()
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - 
CREATE TABLE users (
	username VARCHAR(50) NOT NULL, 
	email VARCHAR(255) NOT NULL, 
	full_name VARCHAR(255) NOT NULL, 
	hashed_password VARCHAR(255) NOT NULL, 
	phone VARCHAR(20), 
	department VARCHAR(100), 
	position VARCHAR(100), 
	employee_id VARCHAR(50), 
	role userrole NOT NULL, 
	is_superuser BOOLEAN NOT NULL, 
	is_verified BOOLEAN NOT NULL, 
	bio TEXT, 
	avatar_url VARCHAR(500), 
	last_login TIMESTAMP WITHOUT TIME ZONE, 
	id UUID NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	is_active BOOLEAN NOT NULL, 
	created_by UUID, 
	updated_by UUID, 
	PRIMARY KEY (id), 
	UNIQUE (employee_id)
)


2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00053s] ()
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE UNIQUE INDEX ix_users_username ON users (username)
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00052s] ()
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE UNIQUE INDEX ix_users_email ON users (email)
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00028s] ()
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE INDEX ix_users_id ON users (id)
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00027s] ()
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - 
CREATE TABLE knowledge_bases (
	name VARCHAR(255) NOT NULL, 
	description TEXT, 
	is_public BOOLEAN NOT NULL, 
	is_searchable BOOLEAN NOT NULL, 
	meta_data JSON, 
	document_count INTEGER NOT NULL, 
	category VARCHAR(100), 
	tags JSON, 
	id UUID NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	is_active BOOLEAN NOT NULL, 
	created_by UUID, 
	updated_by UUID, 
	PRIMARY KEY (id), 
	UNIQUE (name)
)


2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00082s] ()
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE INDEX ix_knowledge_bases_id ON knowledge_bases (id)
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00028s] ()
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - 
CREATE TABLE exams (
	title VARCHAR(255) NOT NULL, 
	subject VARCHAR(100) NOT NULL, 
	description TEXT, 
	difficulty VARCHAR(50) NOT NULL, 
	duration INTEGER NOT NULL, 
	total_score FLOAT NOT NULL, 
	question_types JSON, 
	question_counts JSON, 
	knowledge_files JSON, 
	special_requirements TEXT, 
	content TEXT, 
	id UUID NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	is_active BOOLEAN NOT NULL, 
	created_by UUID, 
	updated_by UUID, 
	PRIMARY KEY (id)
)


2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00052s] ()
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE INDEX ix_exams_id ON exams (id)
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00042s] ()
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - COMMENT ON COLUMN exams.title IS '试卷标题'
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00038s] ()
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - COMMENT ON COLUMN exams.subject IS '科目'
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00045s] ()
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - COMMENT ON COLUMN exams.description IS '试卷描述'
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00057s] ()
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - COMMENT ON COLUMN exams.difficulty IS '难度等级'
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00054s] ()
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - COMMENT ON COLUMN exams.duration IS '考试时长(分钟)'
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00055s] ()
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - COMMENT ON COLUMN exams.total_score IS '总分'
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00056s] ()
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - COMMENT ON COLUMN exams.question_types IS '题型配置'
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00041s] ()
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - COMMENT ON COLUMN exams.question_counts IS '题目数量配置'
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00044s] ()
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - COMMENT ON COLUMN exams.knowledge_files IS '知识库文件'
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00043s] ()
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - COMMENT ON COLUMN exams.special_requirements IS '特殊要求'
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00046s] ()
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - COMMENT ON COLUMN exams.content IS '原始试卷内容'
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00046s] ()
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - 
CREATE TABLE exam_results (
	exam_id UUID NOT NULL, 
	exam_name VARCHAR(200) NOT NULL, 
	student_name VARCHAR(100) NOT NULL, 
	department VARCHAR(100), 
	total_possible_score FLOAT NOT NULL, 
	total_actual_score FLOAT NOT NULL, 
	exam_data JSON NOT NULL, 
	submit_time TIMESTAMP WITHOUT TIME ZONE, 
	status VARCHAR(20) NOT NULL, 
	id UUID NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	is_active BOOLEAN NOT NULL, 
	created_by UUID, 
	updated_by UUID, 
	PRIMARY KEY (id)
)


2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00047s] ()
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE INDEX ix_exam_results_id ON exam_results (id)
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00059s] ()
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - COMMENT ON COLUMN exam_results.exam_id IS '考试ID'
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00046s] ()
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - COMMENT ON COLUMN exam_results.exam_name IS '考试名称'
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00027s] ()
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - COMMENT ON COLUMN exam_results.student_name IS '考生姓名'
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00024s] ()
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - COMMENT ON COLUMN exam_results.department IS '考生部门'
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00033s] ()
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - COMMENT ON COLUMN exam_results.total_possible_score IS '试卷总分'
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00050s] ()
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - COMMENT ON COLUMN exam_results.total_actual_score IS '实际得分'
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00023s] ()
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - COMMENT ON COLUMN exam_results.exam_data IS '完整考试数据JSON，包含试卷内容、学生答案、评分结果等'
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00022s] ()
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - COMMENT ON COLUMN exam_results.submit_time IS '提交时间'
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00024s] ()
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - COMMENT ON COLUMN exam_results.status IS '考试状态'
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00024s] ()
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - 
CREATE TABLE documents (
	filename VARCHAR(255) NOT NULL, 
	original_filename VARCHAR(255) NOT NULL, 
	file_path VARCHAR(500) NOT NULL, 
	file_size INTEGER NOT NULL, 
	file_hash VARCHAR(64) NOT NULL, 
	mime_type VARCHAR(100) NOT NULL, 
	extracted_content TEXT, 
	summary TEXT, 
	meta_data JSON, 
	embedding VECTOR(2048), 
	category VARCHAR(100), 
	tags JSON, 
	user_id UUID NOT NULL, 
	knowledge_base_id UUID, 
	id UUID NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	is_active BOOLEAN NOT NULL, 
	created_by UUID, 
	updated_by UUID, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES users (id), 
	FOREIGN KEY(knowledge_base_id) REFERENCES knowledge_bases (id)
)


2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00024s] ()
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE INDEX ix_documents_id ON documents (id)
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00025s] ()
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - 
CREATE TABLE faqs (
	question TEXT NOT NULL, 
	answer TEXT NOT NULL, 
	category VARCHAR(100), 
	tags JSON, 
	view_count INTEGER NOT NULL, 
	helpful_count INTEGER NOT NULL, 
	not_helpful_count INTEGER NOT NULL, 
	knowledge_base_id UUID, 
	id UUID NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	is_active BOOLEAN NOT NULL, 
	created_by UUID, 
	updated_by UUID, 
	PRIMARY KEY (id), 
	FOREIGN KEY(knowledge_base_id) REFERENCES knowledge_bases (id)
)


2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00024s] ()
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE INDEX ix_faqs_id ON faqs (id)
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00023s] ()
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - 
CREATE TABLE conversations (
	title VARCHAR(255) NOT NULL, 
	description TEXT, 
	status conversationstatus NOT NULL, 
	meta_data JSON, 
	total_messages INTEGER NOT NULL, 
	user_id UUID NOT NULL, 
	id UUID NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	is_active BOOLEAN NOT NULL, 
	created_by UUID, 
	updated_by UUID, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES users (id)
)


2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00023s] ()
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE INDEX ix_conversations_id ON conversations (id)
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00023s] ()
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - 
CREATE TABLE job_descriptions (
	title VARCHAR(255) NOT NULL, 
	department VARCHAR(100), 
	location VARCHAR(100), 
	salary_range VARCHAR(100), 
	experience_level VARCHAR(100), 
	education VARCHAR(100), 
	job_type VARCHAR(50), 
	skills JSON, 
	content TEXT NOT NULL, 
	requirements TEXT, 
	status jdstatus NOT NULL, 
	meta_data JSON, 
	conversation_id VARCHAR(255), 
	workflow_type VARCHAR(50) NOT NULL, 
	user_id UUID NOT NULL, 
	id UUID NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	is_active BOOLEAN NOT NULL, 
	created_by UUID, 
	updated_by UUID, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES users (id)
)


2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00039s] ()
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE INDEX ix_job_descriptions_id ON job_descriptions (id)
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00046s] ()
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - 
CREATE TABLE questions (
	exam_id UUID NOT NULL, 
	question_type VARCHAR(50) NOT NULL, 
	question_text TEXT NOT NULL, 
	options JSON, 
	correct_answer TEXT, 
	score FLOAT NOT NULL, 
	order_index INTEGER NOT NULL, 
	explanation TEXT, 
	id UUID NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	is_active BOOLEAN NOT NULL, 
	created_by UUID, 
	updated_by UUID, 
	PRIMARY KEY (id), 
	FOREIGN KEY(exam_id) REFERENCES exams (id)
)


2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00032s] ()
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE INDEX ix_questions_id ON questions (id)
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00026s] ()
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - COMMENT ON COLUMN questions.exam_id IS '所属试卷ID'
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00030s] ()
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - COMMENT ON COLUMN questions.question_type IS '题型'
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00024s] ()
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - COMMENT ON COLUMN questions.question_text IS '题目内容'
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00023s] ()
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - COMMENT ON COLUMN questions.options IS '选择题选项'
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00026s] ()
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - COMMENT ON COLUMN questions.correct_answer IS '正确答案'
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00023s] ()
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - COMMENT ON COLUMN questions.score IS '分值'
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00022s] ()
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - COMMENT ON COLUMN questions.order_index IS '题目顺序'
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00020s] ()
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - COMMENT ON COLUMN questions.explanation IS '题目解释'
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00023s] ()
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - 
CREATE TABLE document_chunks (
	content TEXT NOT NULL, 
	chunk_index INTEGER NOT NULL, 
	chunk_size INTEGER NOT NULL, 
	embedding VECTOR(2048), 
	meta_data JSON, 
	document_id UUID NOT NULL, 
	id UUID NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	is_active BOOLEAN NOT NULL, 
	created_by UUID, 
	updated_by UUID, 
	PRIMARY KEY (id), 
	FOREIGN KEY(document_id) REFERENCES documents (id)
)


2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00025s] ()
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE INDEX ix_document_chunks_id ON document_chunks (id)
2025-10-13 20:54:50 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00022s] ()
2025-10-13 20:54:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - 
CREATE TABLE messages (
	content TEXT NOT NULL, 
	role messagerole NOT NULL, 
	model_name VARCHAR(100), 
	tokens_used INTEGER, 
	response_time FLOAT, 
	context JSON, 
	meta_data JSON, 
	rating INTEGER, 
	feedback TEXT, 
	conversation_id UUID NOT NULL, 
	parent_message_id UUID, 
	id UUID NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	is_active BOOLEAN NOT NULL, 
	created_by UUID, 
	updated_by UUID, 
	PRIMARY KEY (id), 
	FOREIGN KEY(conversation_id) REFERENCES conversations (id), 
	FOREIGN KEY(parent_message_id) REFERENCES messages (id)
)


2025-10-13 20:54:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00032s] ()
2025-10-13 20:54:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE INDEX ix_messages_id ON messages (id)
2025-10-13 20:54:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00028s] ()
2025-10-13 20:54:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - 
CREATE TABLE scoring_criteria (
	title VARCHAR(255) NOT NULL, 
	job_title VARCHAR(255), 
	content TEXT NOT NULL, 
	criteria_data JSON, 
	total_score VARCHAR(10) NOT NULL, 
	scoring_dimensions JSON, 
	status scoringstatus NOT NULL, 
	meta_data JSON, 
	conversation_id VARCHAR(255), 
	workflow_type VARCHAR(50) NOT NULL, 
	user_id UUID NOT NULL, 
	job_description_id UUID, 
	id UUID NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	is_active BOOLEAN NOT NULL, 
	created_by UUID, 
	updated_by UUID, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES users (id), 
	FOREIGN KEY(job_description_id) REFERENCES job_descriptions (id)
)


2025-10-13 20:54:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00028s] ()
2025-10-13 20:54:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE INDEX ix_scoring_criteria_id ON scoring_criteria (id)
2025-10-13 20:54:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00023s] ()
2025-10-13 20:54:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - 
CREATE TABLE resume_evaluations (
	original_filename VARCHAR(255) NOT NULL, 
	file_path VARCHAR(500), 
	file_type VARCHAR(10) NOT NULL, 
	file_size INTEGER, 
	resume_content TEXT NOT NULL, 
	candidate_name VARCHAR(100), 
	candidate_position VARCHAR(200), 
	candidate_age INTEGER, 
	candidate_gender VARCHAR(10), 
	work_years VARCHAR(50), 
	education_level VARCHAR(100), 
	school VARCHAR(200), 
	total_score FLOAT, 
	evaluation_metrics JSON, 
	status resumestatus NOT NULL, 
	job_description_id UUID NOT NULL, 
	scoring_criteria_id UUID, 
	conversation_id VARCHAR(255), 
	ai_response JSON, 
	user_id UUID NOT NULL, 
	id UUID NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	is_active BOOLEAN NOT NULL, 
	created_by UUID, 
	updated_by UUID, 
	PRIMARY KEY (id), 
	FOREIGN KEY(job_description_id) REFERENCES job_descriptions (id), 
	FOREIGN KEY(scoring_criteria_id) REFERENCES scoring_criteria (id), 
	FOREIGN KEY(user_id) REFERENCES users (id)
)


2025-10-13 20:54:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00024s] ()
2025-10-13 20:54:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE INDEX ix_resume_evaluations_id ON resume_evaluations (id)
2025-10-13 20:54:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00031s] ()
2025-10-13 20:54:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - 
CREATE TABLE interview_plans (
	candidate_name VARCHAR(100) NOT NULL, 
	candidate_position VARCHAR(200) NOT NULL, 
	content TEXT NOT NULL, 
	resume_evaluation_id UUID NOT NULL, 
	user_id UUID NOT NULL, 
	id UUID NOT NULL, 
	created_at TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	updated_at TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	is_active BOOLEAN NOT NULL, 
	created_by UUID, 
	updated_by UUID, 
	PRIMARY KEY (id), 
	FOREIGN KEY(resume_evaluation_id) REFERENCES resume_evaluations (id), 
	FOREIGN KEY(user_id) REFERENCES users (id)
)


2025-10-13 20:54:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00024s] ()
2025-10-13 20:54:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - CREATE INDEX ix_interview_plans_id ON interview_plans (id)
2025-10-13 20:54:51 - sqlalchemy.engine.Engine - INFO - base - _exec_single_context - [no key 0.00038s] ()
2025-10-13 20:54:51 - sqlalchemy.engine.Engine - INFO - base - _commit_impl - COMMIT
2025-10-13 20:54:51 - app.core.database - INFO - database - init_db - Database initialized successfully
2025-10-13 20:54:51 - main - INFO - main - lifespan - Database initialized successfully
2025-10-13 20:54:51 - main - INFO - main - lifespan - HR Agent Backend started successfully
2025-10-13 20:54:57 - main - INFO - main - lifespan - Shutting down HR Agent Backend...
2025-10-13 20:54:57 - app.core.database - INFO - database - close_db - Database connections closed
2025-10-13 20:54:57 - main - INFO - main - lifespan - Database connections closed
2025-10-13 20:54:57 - main - INFO - main - lifespan - HR Agent Backend shutdown complete
